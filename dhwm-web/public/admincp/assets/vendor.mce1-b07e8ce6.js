import{ab as _U,e as B3,G as NU,_ as AU,d as DU,n as LT,h as OU,y as PU,ax as BU,a6 as MU,ah as $T}from"./vendor-8025917f.js";var zT={exports:{}};(function(ye){(function(){var ft=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},et=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},At=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},Dt=function(e,t){return xt(function(n,s){return e.eq(t(n),t(s))})},xt=function(e){return{eq:e}},kn=xt(function(e,t){return e===t}),xn=kn,bt=function(e){return xt(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,o=0;o<s;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},Rr=function(e,t){return Dt(bt(e),function(n){return At(n,t)})},Ha=function(e){return xt(function(t,n){var s=Object.keys(t),o=Object.keys(n);if(!Rr(xn).eq(s,o))return!1;for(var a=s.length,l=0;l<a;l++){var u=s[l];if(!e.eq(t[u],n[u]))return!1}return!0})},Tr=xt(function(e,t){if(e===t)return!0;var n=ft(e),s=ft(t);return n!==s?!1:et(n)?e===t:n==="array"?bt(Tr).eq(e,t):n==="object"?Ha(Tr).eq(e,t):!1});const Vc=Object.getPrototypeOf,Jo=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},ks=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Jo(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},_r=e=>t=>ks(t)===e,Se=e=>t=>typeof t===e,bi=e=>t=>e===t,Jt=(e,t)=>Fe(e)&&Jo(e,t,(n,s)=>Vc(n)===s),V=_r("string"),Fe=_r("object"),Ci=e=>Jt(e,Object),Xe=_r("array"),Rn=bi(null),Nr=Se("boolean"),en=bi(void 0),nt=e=>e==null,j=e=>!nt(e),N=Se("function"),xs=Se("number"),Ia=(e,t)=>{if(Xe(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},Be=()=>{},Ar=(e,t)=>(...n)=>e(t.apply(null,n)),Ut=(e,t)=>n=>e(t(n)),oe=e=>()=>e,Ct=e=>e,Ne=(e,t)=>e===t;function G(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const yi=e=>t=>!e(t),Td=e=>()=>{throw new Error(e)},$t=e=>e(),Fn=e=>{e()},qe=oe(!1),Ht=oe(!0);class y{constructor(t,n){this.tag=t,this.value=n}static some(t){return new y(!0,t)}static none(){return y.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?y.some(t(this.value)):y.none()}bind(t){return this.tag?t(this.value):y.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:y.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return j(t)?y.some(t):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const Uc=Array.prototype.slice,I1=Array.prototype.indexOf,pn=Array.prototype.push,hs=(e,t)=>I1.call(e,t),k2=(e,t)=>{const n=hs(e,t);return n===-1?y.none():y.some(n)},Ge=(e,t)=>hs(e,t)>-1,Ot=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return!0}return!1},We=(e,t)=>{const n=e.length,s=new Array(n);for(let o=0;o<n;o++){const a=e[o];s[o]=t(a,o)}return s},K=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];t(o,n)}},_d=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},gs=(e,t)=>{const n=[],s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];(t(l,o)?n:s).push(l)}return{pass:n,fail:s}},ke=(e,t)=>{const n=[];for(let s=0,o=e.length;s<o;s++){const a=e[s];t(a,s)&&n.push(a)}return n},Fa=(e,t,n)=>(_d(e,(s,o)=>{n=t(n,s,o)}),n),wt=(e,t,n)=>(K(e,(s,o)=>{n=t(n,s,o)}),n),Nd=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++){const a=e[s];if(t(a,s))return y.some(a);if(n(a,s))break}return y.none()},Wt=(e,t)=>Nd(e,t,qe),Wc=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return y.some(n)}return y.none()},F1=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!Xe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);pn.apply(t,e[n])}return t},oo=(e,t)=>F1(We(e,t)),So=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const o=e[n];if(t(o,n)!==!0)return!1}return!0},za=e=>{const t=Uc.call(e,0);return t.reverse(),t},wi=(e,t)=>ke(e,n=>!Ge(t,n)),jc=(e,t)=>{const n={};for(let s=0,o=e.length;s<o;s++){const a=e[s];n[String(a)]=t(a,s)}return n},Dr=(e,t)=>{const n=Uc.call(e,0);return n.sort(t),n},Si=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none(),zn=e=>Si(e,0),Or=e=>Si(e,e.length-1),Tn=N(Array.from)?Array.from:e=>Uc.call(e),Za=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return y.none()},x2=(e,t)=>{const n=[],s=N(t)?o=>Ot(n,a=>t(a,o)):o=>Ge(n,o);for(let o=0,a=e.length;o<a;o++){const l=e[o];s(l)||n.push(l)}return n},ss=Object.keys,R2=Object.hasOwnProperty,at=(e,t)=>{const n=ss(e);for(let s=0,o=n.length;s<o;s++){const a=n[s],l=e[a];t(l,a)}},Ei=(e,t)=>z1(e,(n,s)=>({k:s,v:t(n,s)})),z1=(e,t)=>{const n={};return at(e,(s,o)=>{const a=t(s,o);n[a.k]=a.v}),n},ki=e=>(t,n)=>{e[n]=t},xi=(e,t,n,s)=>{at(e,(o,a)=>{(t(o,a)?n:s)(o,a)})},T2=(e,t)=>{const n={},s={};return xi(e,t,ki(n),ki(s)),{t:n,f:s}},mt=(e,t)=>{const n={};return xi(e,t,ki(n),Be),n},Ri=(e,t)=>{const n=[];return at(e,(s,o)=>{n.push(t(s,o))}),n},Va=e=>Ri(e,Ct),ht=(e,t)=>Oe(e,t)?y.from(e[t]):y.none(),Oe=(e,t)=>R2.call(e,t),Zn=(e,t)=>Oe(e,t)&&e[t]!==void 0&&e[t]!==null,Pr=(e,t,n=Tr)=>Ha(n).eq(e,t),Ad=e=>{const t={};return K(e,n=>{t[n]={}}),ss(t)},Z1=e=>e.length!==void 0,Vn=Array.isArray,Dd=e=>{if(Vn(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},It=(e,t,n)=>{if(!e)return!1;if(n=n||e,Z1(e)){for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(Oe(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Br=(e,t)=>{const n=[];return It(e,(s,o)=>{n.push(t(s,o,e))}),n},qc=(e,t)=>{const n=[];return It(e,(s,o)=>{(!t||t(s,o,e))&&n.push(s)}),n},Mr=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},Is=(e,t,n,s)=>{let o=en(n)?e[0]:n;for(let a=0;a<e.length;a++)o=t.call(s,o,e[a],a);return o},Rt=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e))return s;return-1},er=e=>e[e.length-1],Lr=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},_2=(e,t,n,s)=>{const o=e.isiOS()&&/ipad/i.test(n)===!0,a=e.isiOS()&&!o,l=e.isiOS()||e.isAndroid(),u=l||s("(pointer:coarse)"),f=o||!a&&l&&s("(min-device-width:768px)"),h=a||l&&!f,v=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,p=!h&&!f&&!v;return{isiPad:oe(o),isiPhone:oe(a),isTablet:oe(f),isPhone:oe(h),isTouch:oe(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:oe(v),isDesktop:oe(p)}},N2=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},Gc=(e,t)=>{const n=N2(e,t);if(!n)return{major:0,minor:0};const s=o=>Number(t.replace(n,"$"+o));return Un(s(1),s(2))},M3=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?le():Gc(e,n)},le=()=>Un(0,0),Un=(e,t)=>({major:e,minor:t}),Ua={nu:Un,detect:M3,unknown:le},A2=(e,t)=>Za(t.brands,n=>{const s=n.brand.toLowerCase();return Wt(e,o=>{var a;return s===((a=o.brand)===null||a===void 0?void 0:a.toLowerCase())}).map(o=>({current:o.name,version:Ua.nu(parseInt(n.version,10),0)}))}),Od=(e,t)=>{const n=String(t).toLowerCase();return Wt(e,s=>s.search(n))},ct=(e,t)=>Od(e,t).map(n=>{const s=Ua.detect(n.versionRegexes,t);return{current:n.name,version:s}}),Pd=(e,t)=>Od(e,t).map(n=>{const s=Ua.detect(n.versionRegexes,t);return{current:n.name,version:s}}),D2=(e,t)=>e.substring(t),Kc=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Yc=(e,t)=>ln(e,t)?D2(e,t.length):e,vn=(e,t,n=0,s)=>{const o=e.indexOf(t,n);return o!==-1?en(s)?!0:o+t.length<=s:!1},ln=(e,t)=>Kc(e,t,0),Eo=(e,t)=>Kc(e,t,e.length-t.length),Ti=e=>t=>t.replace(e,""),$r=Ti(/^\s+|\s+$/g),V1=Ti(/^\s+/g),Xc=Ti(/\s+$/g),jt=e=>e.length>0,tr=e=>!jt(e),O2=(e,t)=>t<=0?"":new Array(t+1).join(e),Hr=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},Ir=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fs=e=>t=>vn(t,e),Tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>vn(e,"edge/")&&vn(e,"chrome")&&vn(e,"safari")&&vn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ir],search:e=>vn(e,"chrome")&&!vn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>vn(e,"msie")||vn(e,"trident")},{name:"Opera",versionRegexes:[Ir,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fs("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fs("firefox")},{name:"Safari",versionRegexes:[Ir,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(vn(e,"safari")||vn(e,"mobile/"))&&vn(e,"applewebkit")}],P2=[{name:"Windows",search:Fs("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>vn(e,"iphone")||vn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fs("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fs("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fs("linux"),versionRegexes:[]},{name:"Solaris",search:Fs("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fs("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fs("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],U1={browsers:oe(Tt),oses:oe(P2)},Bd="Edge",ro="Chromium",_i="IE",Ln="Opera",W1="Firefox",Md="Safari",j1=()=>Fr({current:void 0,version:Ua.unknown()}),Fr=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isEdge:s(Bd),isChromium:s(ro),isIE:s(_i),isOpera:s(Ln),isFirefox:s(W1),isSafari:s(Md)}},Ld={unknown:j1,nu:Fr,edge:oe(Bd),chromium:oe(ro),ie:oe(_i),opera:oe(Ln),firefox:oe(W1),safari:oe(Md)},q1="Windows",G1="iOS",K1="Android",Y1="Linux",X1="macOS",Q1="Solaris",$d="FreeBSD",J1="ChromeOS",B2=()=>Ni({current:void 0,version:Ua.unknown()}),Ni=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isWindows:s(q1),isiOS:s(G1),isAndroid:s(K1),isMacOS:s(X1),isLinux:s(Y1),isSolaris:s(Q1),isFreeBSD:s($d),isChromeOS:s(J1)}},eh={unknown:B2,nu:Ni,windows:oe(q1),ios:oe(G1),android:oe(K1),linux:oe(Y1),macos:oe(X1),solaris:oe(Q1),freebsd:oe($d),chromeos:oe(J1)},zr={detect:(e,t,n)=>{const s=U1.browsers(),o=U1.oses(),a=t.bind(f=>A2(s,f)).orThunk(()=>ct(s,e)).fold(Ld.unknown,Ld.nu),l=Pd(o,e).fold(eh.unknown,eh.nu),u=_2(l,a,e,n);return{browser:a,os:l,deviceType:u}}},M2=e=>window.matchMedia(e).matches;let L2=Lr(()=>zr.detect(navigator.userAgent,y.from(navigator.userAgentData),M2));const ao=()=>L2(),$2=navigator.userAgent,Ai=ao(),co=Ai.browser,lo=Ai.os,Zr=Ai.deviceType,H2=$2.indexOf("Windows Phone")!==-1,Ve={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:co.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!co.isIE(),windowsPhone:H2,browser:{current:co.current,version:co.version,isChromium:co.isChromium,isEdge:co.isEdge,isFirefox:co.isFirefox,isIE:co.isIE,isOpera:co.isOpera,isSafari:co.isSafari},os:{current:lo.current,version:lo.version,isAndroid:lo.isAndroid,isChromeOS:lo.isChromeOS,isFreeBSD:lo.isFreeBSD,isiOS:lo.isiOS,isLinux:lo.isLinux,isMacOS:lo.isMacOS,isSolaris:lo.isSolaris,isWindows:lo.isWindows},deviceType:{isDesktop:Zr.isDesktop,isiPad:Zr.isiPad,isiPhone:Zr.isiPhone,isPhone:Zr.isPhone,isTablet:Zr.isTablet,isTouch:Zr.isTouch,isWebView:Zr.isWebView}},I2=/^\s*|\s*$/g,io=e=>nt(e)?"":(""+e).replace(I2,""),F2=(e,t)=>t?t==="array"&&Vn(e)?!0:typeof e===t:e!==void 0,th=(e,t,n={})=>{const s=V(e)?e.split(t||","):e||[];let o=s.length;for(;o--;)n[s[o]]={};return n},z2=Oe,Z2=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if(Oe(s,o)){const a=s[o];a!==void 0&&(e[o]=a)}}return e},Hd=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),It(e,(o,a)=>t.call(s,o,a,n)===!1?!1:(Hd(o,t,n,s),!0)))},te={trim:io,isArray:Vn,is:F2,toArray:Dd,makeMap:th,each:It,map:Br,grep:qc,inArray:Mr,hasOwn:z2,extend:Z2,walk:Hd,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,o=n.length;s<o&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>Xe(e)?e:e===""?[]:Br(e.split(t||","),io),_addCacheSuffix:e=>{const t=Ve.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},uo=(e,t,n=Ne)=>e.exists(s=>n(s,t)),Fd=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},$n=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),V2=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?y.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):y.none(),Rs=(e,t)=>e?y.some(t):y.none(),zd=typeof window<"u"?window:Function("return this;")(),Qc=(e,t)=>{let n=t??zd;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},tn=(e,t)=>{const n=e.split(".");return Qc(n,t)},Zd=(e,t)=>tn(e,t),nh=(e,t)=>{const n=Zd(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},U2=Object.getPrototypeOf,Vd=e=>nh("HTMLElement",e),sh=e=>{const t=tn("ownerDocument.defaultView",e);return Fe(e)&&(Vd(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(U2(e).constructor.name))},Wn=8,Ud=9,Jc=11,Oi=1,oh=3,lt=e=>e.dom.nodeName.toLowerCase(),rh=e=>e.dom.nodeType,xo=e=>t=>rh(t)===e,ah=e=>rh(e)===Wn||lt(e)==="#comment",Wd=e=>st(e)&&sh(e.dom),st=xo(Oi),_n=xo(oh),Vr=xo(Ud),ch=xo(Jc),el=e=>t=>st(t)&&lt(t)===e,Ro=(e,t,n)=>{if(V(n)||Nr(n)||xs(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},nn=(e,t,n)=>{Ro(e.dom,t,n)},Hn=(e,t)=>{const n=e.dom;at(t,(s,o)=>{Ro(n,o,s)})},jn=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},zs=(e,t)=>y.from(jn(e,t)),tl=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},qt=(e,t)=>{e.dom.removeAttribute(t)},nl=e=>{const t=e.dom.attributes;return t==null||t.length===0},Pi=e=>wt(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Wa=(e,t)=>{const n=jn(e,t);return n===void 0||n===""?[]:n.split(" ")},jd=(e,t,n)=>{const o=Wa(e,t).concat([n]);return nn(e,t,o.join(" ")),!0},W2=(e,t,n)=>{const s=ke(Wa(e,t),o=>o!==n);return s.length>0?nn(e,t,s.join(" ")):qt(e,t),!1},ja=e=>e.dom.classList!==void 0,Ur=e=>Wa(e,"class"),Bi=(e,t)=>jd(e,"class",t),qn=(e,t)=>W2(e,"class",t),lh=(e,t)=>Ge(Ur(e),t)?qn(e,t):Bi(e,t),Wr=(e,t)=>{ja(e)?e.dom.classList.add(t):Bi(e,t)},qd=e=>{(ja(e)?e.dom.classList:Ur(e)).length===0&&qt(e,"class")},qa=(e,t)=>{ja(e)?e.dom.classList.remove(t):qn(e,t),qd(e)},ih=(e,t)=>{const n=ja(e)?e.dom.classList.toggle(t):lh(e,t);return qd(e),n},Gd=(e,t)=>ja(e)&&e.dom.classList.contains(t),sl=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return ol(s.childNodes[0])},j2=(e,t)=>{const s=(t||document).createElement(e);return ol(s)},q2=(e,t)=>{const s=(t||document).createTextNode(e);return ol(s)},ol=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},T={fromHtml:sl,fromTag:j2,fromText:q2,fromDom:ol,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(ol)},Mi=(e,t)=>{const n=[],s=a=>(n.push(a),t(a));let o=t(e);do o=o.bind(s);while(o.isSome());return n},Gn=(e,t)=>{const n=e.dom;if(n.nodeType!==Oi)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},uh=e=>e.nodeType!==Oi&&e.nodeType!==Ud&&e.nodeType!==Jc||e.childElementCount===0,dh=(e,t)=>{const n=t===void 0?document:t.dom;return uh(n)?[]:We(n.querySelectorAll(e),T.fromDom)},G2=(e,t)=>{const n=t===void 0?document:t.dom;return uh(n)?y.none():y.from(n.querySelector(e)).map(T.fromDom)},Ke=(e,t)=>e.dom===t.dom,Zs=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},fo=e=>T.fromDom(e.dom.ownerDocument),To=e=>Vr(e)?e:fo(e),K2=e=>T.fromDom(To(e).dom.documentElement),Ga=e=>T.fromDom(To(e).dom.defaultView),ps=e=>y.from(e.dom.parentNode).map(T.fromDom),Li=e=>y.from(e.dom.parentElement).map(T.fromDom),Kd=(e,t)=>{const n=N(t)?t:qe;let s=e.dom;const o=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const a=s.parentNode,l=T.fromDom(a);if(o.push(l),n(l)===!0)break;s=a}return o},fh=e=>{const t=n=>ke(n,s=>!Ke(e,s));return ps(e).map(sn).map(t).getOr([])},nr=e=>y.from(e.dom.previousSibling).map(T.fromDom),Ka=e=>y.from(e.dom.nextSibling).map(T.fromDom),mh=e=>za(Mi(e,nr)),Yd=e=>Mi(e,Ka),sn=e=>We(e.dom.childNodes,T.fromDom),jr=(e,t)=>{const n=e.dom.childNodes;return y.from(n[t]).map(T.fromDom)},$i=e=>jr(e,0),Hi=e=>jr(e,e.dom.childNodes.length-1),Ii=e=>e.dom.childNodes.length,hh=e=>e.dom.hasChildNodes(),gh=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return T.fromDom(t)},Fi=e=>ch(e)&&j(e.dom.host),Xd=N(Element.prototype.attachShadow)&&N(Node.prototype.getRootNode),Y2=oe(Xd),_o=Xd?e=>T.fromDom(e.dom.getRootNode()):To,zi=e=>Fi(e)?e:gh(To(e)),$3=e=>Fi(e)?e:T.fromDom(To(e).dom.body),X2=e=>{const t=_o(e);return Fi(t)?y.some(t):y.none()},Q2=e=>T.fromDom(e.dom.host),ph=e=>{if(Y2()&&j(e.target)){const t=T.fromDom(e.target);if(st(t)&&vh(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return zn(n)}}return y.from(e.target)},vh=e=>j(e.dom.shadowRoot),qr=e=>{const t=_n(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return X2(T.fromDom(t)).fold(()=>n.body.contains(t),Ut(qr,Q2))};var bh=(e,t,n,s,o)=>e(n,s)?y.some(n):N(o)&&o(n)?y.none():t(n,s,o);const rs=(e,t,n)=>{let s=e.dom;const o=N(n)?n:qe;for(;s.parentNode;){s=s.parentNode;const a=T.fromDom(s);if(t(a))return y.some(a);if(o(a))break}return y.none()},Gr=(e,t,n)=>bh((o,a)=>a(o),rs,e,t,n),J2=(e,t)=>{const n=e.dom;return n.parentNode?ev(T.fromDom(n.parentNode),s=>!Ke(e,s)&&t(s)):y.none()},ev=(e,t)=>{const n=o=>t(T.fromDom(o));return Wt(e.dom.childNodes,n).map(T.fromDom)},tv=(e,t)=>{const n=s=>{for(let o=0;o<s.childNodes.length;o++){const a=T.fromDom(s.childNodes[o]);if(t(a))return y.some(a);const l=n(s.childNodes[o]);if(l.isSome())return l}return y.none()};return n(e.dom)},rl=(e,t,n)=>rs(e,s=>Gn(s,t),n),Ya=(e,t)=>G2(t,e),Kn=(e,t,n)=>bh((o,a)=>Gn(o,a),rl,e,t,n),Qd=e=>Kn(e,"[contenteditable]"),sr=(e,t=!1)=>qr(e)?e.dom.isContentEditable:Qd(e).fold(oe(t),n=>nv(n)==="true"),nv=e=>e.dom.contentEditable,Kr=e=>e.style!==void 0&&N(e.style.getPropertyValue),Jd=(e,t,n)=>{if(!V(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Kr(e)&&e.style.setProperty(t,n)},al=(e,t)=>{Kr(e)&&e.style.removeProperty(t)},ef=(e,t,n)=>{const s=e.dom;Jd(s,t,n)},Zi=(e,t)=>{const n=e.dom;at(t,(s,o)=>{Jd(n,o,s)})},Yt=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return o===""&&!qr(e)?Yn(n,t):o},Yn=(e,t)=>Kr(e)?e.style.getPropertyValue(t):"",Xn=(e,t)=>{const n=e.dom,s=Yn(n,t);return y.from(s).filter(o=>o.length>0)},on=e=>{const t={},n=e.dom;if(Kr(n))for(let s=0;s<n.style.length;s++){const o=n.style.item(s);t[o]=n.style[o]}return t},tf=(e,t)=>{const n=e.dom;al(n,t),uo(zs(e,"style").map($r),"")&&qt(e,"style")},Vi=e=>e.dom.offsetWidth,as=(e,t)=>{ps(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},cs=(e,t)=>{Ka(e).fold(()=>{ps(e).each(o=>{Pt(o,t)})},s=>{as(s,t)})},Ui=(e,t)=>{$i(e).fold(()=>{Pt(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Pt=(e,t)=>{e.dom.appendChild(t.dom)},Ch=(e,t)=>{as(e,t),Pt(t,e)},yh=(e,t)=>{K(t,(n,s)=>{const o=s===0?e:t[s-1];cs(o,n)})},Yr=(e,t)=>{K(t,n=>{Pt(e,n)})},Xr=e=>{e.dom.textContent="",K(sn(e),t=>{pt(t)})},pt=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},or=e=>{const t=sn(e);t.length>0&&yh(e,t),pt(e)},H3=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,sn(T.fromDom(s))},wh=e=>We(e,T.fromDom),sv=e=>e.dom.innerHTML,Me=(e,t)=>{const s=fo(e).dom,o=T.fromDom(s.createDocumentFragment()),a=H3(t,s);Yr(o,a),Xr(e),Pt(e,o)},nf=e=>{const t=T.fromTag("div"),n=T.fromDom(e.dom.cloneNode(!0));return Pt(t,n),sv(t)},Sh=(e,t,n,s,o,a,l)=>({target:e,x:t,y:n,stop:s,prevent:o,kill:a,raw:l}),Eh=e=>{const t=T.fromDom(ph(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),o=Ar(s,n);return Sh(t,e.clientX,e.clientY,n,s,o,e)},ov=(e,t)=>n=>{e(n)&&t(Eh(n))},kh=(e,t,n,s,o)=>{const a=ov(n,s);return e.dom.addEventListener(t,a,o),{unbind:G(xh,e,t,a,o)}},rv=(e,t,n,s)=>kh(e,t,n,s,!1),xh=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},Wi=(e,t)=>({left:e,top:t,translate:(s,o)=>Wi(e+s,t+o)}),Qr=Wi,av=e=>{const t=e.getBoundingClientRect();return Qr(t.left,t.top)},cl=(e,t)=>e!==void 0?e:t!==void 0?t:0,No=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,o=t.documentElement;if(n===e.dom)return Qr(n.offsetLeft,n.offsetTop);const a=cl(s==null?void 0:s.pageYOffset,o.scrollTop),l=cl(s==null?void 0:s.pageXOffset,o.scrollLeft),u=cl(o.clientTop,n.clientTop),f=cl(o.clientLeft,n.clientLeft);return sf(e).translate(l-f,a-u)},sf=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Qr(s.offsetLeft,s.offsetTop):qr(e)?av(t):Qr(0,0)},Xa=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Qr(n,s)},Qa=(e,t)=>{ao().browser.isSafari()&&N(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},cv=e=>{const t=e===void 0?window:e;return ao().browser.isFirefox()?y.none():y.from(t.visualViewport)},of=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),rf=e=>{const t=e===void 0?window:e,n=t.document,s=Xa(T.fromDom(n));return cv(t).fold(()=>{const o=t.document.documentElement,a=o.clientWidth,l=o.clientHeight;return of(s.left,s.top,a,l)},o=>of(Math.max(o.pageLeft,s.left),Math.max(o.pageTop,s.top),o.width,o.height))},Rh=(e,t)=>ke(sn(e),t),af=(e,t)=>{let n=[];return K(sn(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(af(s,t))}),n},un=(e,t)=>dh(t,e),cf=(e,t,n)=>rl(e,t,n).isSome();class Bt{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,o){if(t){if(!o&&t[n])return t[n];if(t!==this.rootNode){let a=t[s];if(a)return a;for(let l=t.parentNode;l&&l!==this.rootNode;l=l.parentNode)if(a=l[s],a)return a}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let a=s.lastChild;a;a=a.lastChild)if(!a.lastChild)return a}return s}const o=t.parentNode;if(o&&o!==this.rootNode)return o}}}const Jr=e=>t=>!!t&&t.nodeType===e,ji=e=>!!e&&!Object.getPrototypeOf(e),ie=Jr(1),ll=e=>{const t=e.toLowerCase();return n=>j(n)&&n.nodeName.toLowerCase()===t},vs=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return Ge(t,s)}return!1}},lf=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(ie(s)){const o=s.ownerDocument.defaultView;if(o)for(let a=0;a<n.length;a++){const l=o.getComputedStyle(s,null);if((l?l.getPropertyValue(e):null)===n[a])return!0}}return!1}},lv=e=>t=>ie(t)&&t.hasAttribute(e),uf=(e,t)=>n=>ie(n)&&n.getAttribute(e)===t,mo=e=>ie(e)&&e.hasAttribute("data-mce-bogus"),iv=e=>ie(e)&&e.getAttribute("data-mce-bogus")==="all",Ao=e=>ie(e)&&e.tagName==="TABLE",Th=e=>t=>!!(ie(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),df=vs(["textarea","input"]),Y=Jr(3),uv=Jr(4),dv=Jr(7),Do=Jr(8),Ja=Jr(9),qi=Jr(11),gt=ll("br"),_h=ll("img"),Vs=Th("true"),it=Th("false"),Gi=vs(["td","th"]),fv=vs(["td","th","caption"]),Us=vs(["video","audio","object","embed"]),ec=ll("li"),Nh=ll("details"),mv=ll("summary"),ea="\uFEFF",Gt=" ",ff=e=>e===ea,Ah=e=>e.replace(/\uFEFF/g,""),Ki=((e,t)=>{const n=a=>{if(!e(a))throw new Error("Can only get "+t+" value of a "+t+" node");return s(a).getOr("")},s=a=>e(a)?y.from(a.dom.nodeValue):y.none();return{get:n,getOption:s,set:(a,l)=>{if(!e(a))throw new Error("Can only set raw "+t+" value of a "+t+" node");a.dom.nodeValue=l}}})(_n,"text"),Yi=e=>Ki.get(e),Dh=e=>Ki.getOption(e),hv=(e,t)=>Ki.set(e,t),gv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],pv=["td","th"],vv=["thead","tbody","tfoot"],bv=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Cv=["h1","h2","h3","h4","h5","h6"],yv=["li","dd","dt"],mf=["ul","ol","dl"],hf=["pre","script","textarea","style"],Oh=["pre"].concat(Cv),rr=e=>{let t;return n=>(t=t||jc(e,Ht),Oe(t,lt(n)))},bs=rr(gv),gf=e=>lt(e)==="table",il=e=>st(e)&&!bs(e),ta=e=>st(e)&&lt(e)==="br",Ph=rr(bv),tc=rr(mf),nc=rr(yv),Bh=rr(vv),sc=rr(pv),Xi=rr(hf),F3=rr(Oh),oc=e=>F3(e)||il(e),wv=e=>{const t=[];let n=e.dom;for(;n;)t.push(T.fromDom(n)),n=n.lastChild;return t},Sv=e=>{const t=un(e,"br"),n=ke(wv(e).slice(-1),ta);t.length===n.length&&K(n,pt)},Qi=()=>{const e=T.fromTag("br");return nn(e,"data-mce-bogus","1"),e},ar=e=>{Xr(e),Pt(e,Qi())},Ev=e=>{Hi(e).each(t=>{nr(t).each(n=>{bs(e)&&ta(t)&&bs(n)&&pt(t)})})},dn=ea,Ji=ff,Oo=Ah,z3=ie,cr=Y,lr=e=>(cr(e)&&(e=e.parentNode),z3(e)&&e.hasAttribute("data-mce-caret")),Po=e=>cr(e)&&Ji(e.data),Cs=e=>lr(e)||Po(e),Bo=e=>e.firstChild!==e.lastChild||!gt(e.firstChild),kv=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(dn),a=e.parentNode;if(t){const l=e.previousSibling;if(cr(l)){if(Cs(l))return l;if(dl(l))return l.splitText(l.data.length-1)}a==null||a.insertBefore(o,e)}else{const l=e.nextSibling;if(cr(l)){if(Cs(l))return l;if(ul(l))return l.splitText(1),l}e.nextSibling?a==null||a.insertBefore(o,e.nextSibling):a==null||a.appendChild(o)}return o},pf=e=>{const t=e.container();return Y(t)?t.data.charAt(e.offset())===dn||e.isAtStart()&&Po(t.previousSibling):!1},vf=e=>{const t=e.container();return Y(t)?t.data.charAt(e.offset()-1)===dn||e.isAtEnd()&&Po(t.nextSibling):!1},Mh=(e,t,n)=>{var s;const a=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);a.setAttribute("data-mce-caret",n?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(Qi().dom);const l=t.parentNode;return n?l==null||l.insertBefore(a,t):t.nextSibling?l==null||l.insertBefore(a,t.nextSibling):l==null||l.appendChild(a),a},ul=e=>cr(e)&&e.data[0]===dn,dl=e=>cr(e)&&e.data[e.data.length-1]===dn,xv=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];mo(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},bf=e=>e&&e.hasAttribute("data-mce-caret")?(xv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,eu=e=>lr(e.startContainer),tu=Vs,Lh=it,$h=gt,Rv=Y,Tv=vs(["script","style","textarea"]),Hh=vs(["img","input","textarea","hr","iframe","video","audio","object","embed"]),_v=vs(["table"]),Cf=Cs,ys=e=>Cf(e)?!1:Rv(e)?!Tv(e.parentNode):Hh(e)||$h(e)||_v(e)||yf(e),Nv=e=>ie(e)&&e.getAttribute("unselectable")==="true",yf=e=>!Nv(e)&&Lh(e),na=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(yf(n))return!1;if(tu(n))return!0}return!0},Ih=e=>yf(e)?!wt(Tn(e.getElementsByTagName("*")),(t,n)=>t||tu(n),!1):!1,Fh=e=>Hh(e)||Ih(e),zh=(e,t)=>ys(e)&&na(e,t),Av=/^[ \t\r\n]*$/,sa=e=>Av.test(e),Zh=e=>{for(const t of e)if(!ff(t))return!1;return!0},Dv=e=>" \f	\v".indexOf(e)!==-1,wf=e=>e===`
`||e==="\r",Sf=(e,t)=>t<e.length&&t>=0?wf(e[t]):!1,Ef=(e,t=4,n=!0,s=!0)=>{const o=O2(" ",t),a=e.replace(/\t/g,o);return wt(a,(u,f)=>Dv(f)||f===Gt?u.pcIsSpace||u.str===""&&n||u.str.length===a.length-1&&s||Sf(a,u.str.length+1)?{pcIsSpace:!1,str:u.str+Gt}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:wf(f),str:u.str+f},{pcIsSpace:!1,str:""}).str},Vh=(e,t)=>{const n=T.fromDom(t),s=T.fromDom(e);return cf(s,"pre,code",G(Ke,n))},kf=(e,t)=>Y(e)&&sa(e.data)&&!Vh(e,t),nu=e=>ie(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Mo=(e,t)=>ys(e)&&!kf(e,t)||nu(e)||fl(e),fl=lv("data-mce-bookmark"),Ov=lv("data-mce-bogus"),Uh=uf("data-mce-bogus","all"),Pv=(e,t)=>{let n=0;if(Mo(e,e))return!1;{let s=e.firstChild;if(!s)return!0;const o=new Bt(s,e);do{if(t){if(Uh(s)){s=o.next(!0);continue}if(Ov(s)){s=o.next();continue}}if(gt(s)){n++,s=o.next();continue}if(Mo(s,e))return!1;s=o.next()}while(s);return n<=1}},Mt=(e,t=!0)=>Pv(e.dom,t),ml="data-mce-block",Bv=e=>ke(ss(e),t=>!/[A-Z]/.test(t)),su=e=>Bv(e).join(","),rc=(e,t)=>j(t.querySelector(e))?(t.setAttribute(ml,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ml),!1),xf=(e,t)=>{const n=su(e.getTransparentElements()),s=su(e.getBlockElements());return ke(t.querySelectorAll(n),o=>rc(s,o))},hl=(e,t)=>{var n;const s=t?"lastChild":"firstChild";for(let o=e[s];o;o=o[s])if(Mt(T.fromDom(o))){(n=o.parentNode)===null||n===void 0||n.removeChild(o);return}},ac=(e,t)=>{const n=document.createRange(),s=e.parentNode;if(s){n.setStartBefore(e),n.setEndBefore(t);const o=n.extractContents();hl(o,!0),n.setStartAfter(t),n.setEndAfter(e);const a=n.extractContents();hl(a,!1),Mt(T.fromDom(o))||s.insertBefore(o,e),Mt(T.fromDom(t))||s.insertBefore(t,e),Mt(T.fromDom(a))||s.insertBefore(a,e),s.removeChild(e)}},oa=(e,t,n)=>{const s=e.getBlockElements(),o=T.fromDom(t),a=u=>lt(u)in s,l=u=>Ke(u,o);K(wh(n),u=>{rs(u,a,l).each(f=>{const h=Rh(u,v=>a(v)&&!e.isValidChild(lt(f),lt(v)));if(h.length>0){const v=Li(f);K(h,p=>{rs(p,a,l).each(C=>{ac(C.dom,p.dom)})}),v.each(p=>xf(e,p.dom))}})})},ou=(e,t,n)=>{K([...n,...ra(e,t)?[t]:[]],s=>K(un(T.fromDom(s),s.nodeName.toLowerCase()),o=>{Lv(e,o.dom)&&or(o)}))},ru=(e,t)=>{const n=xf(e,t);oa(e,t,n),ou(e,t,n)},Wh=(e,t)=>{if(gl(e,t)){const n=su(e.getBlockElements());rc(n,t)}},Mv=(e,t,n)=>{const s=a=>Ke(a,T.fromDom(t)),o=Kd(T.fromDom(n),s);Si(o,o.length-2).filter(st).fold(()=>ru(e,t),a=>ru(e,a.dom))},Rf=e=>e.hasAttribute(ml),au=(e,t)=>Oe(e.getTransparentElements(),t),gl=(e,t)=>ie(t)&&au(e,t.nodeName),ra=(e,t)=>gl(e,t)&&Rf(t),Lv=(e,t)=>gl(e,t)&&!Rf(t),jh=(e,t)=>t.type===1&&au(e,t.name)&&V(t.attr(ml)),$v=(e,t)=>t.type===1&&au(e,t.name)&&en(t.attr(ml)),qh=ao().browser,Gh=e=>Wt(e,st),Hv=e=>qh.isFirefox()&&lt(e)==="table"?Gh(sn(e)).filter(t=>lt(t)==="caption").bind(t=>Gh(Yd(t)).map(n=>{const s=n.dom.offsetTop,o=t.dom.offsetTop,a=t.dom.offsetHeight;return s<=o?-a:0})).getOr(0):0,Tf=(e,t)=>e.children&&Ge(e.children,t),Kh=(e,t,n)=>{let s=0,o=0;const a=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Yt(T.fromDom(e),"position")==="static"){const u=t.getBoundingClientRect();return s=u.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,o=u.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:s,y:o}}let l=t;for(;l&&l!==n&&l.nodeType&&!Tf(l,n);){const u=l;s+=u.offsetLeft||0,o+=u.offsetTop||0,l=u.offsetParent}for(l=t.parentNode;l&&l!==n&&l.nodeType&&!Tf(l,n);)s-=l.scrollLeft||0,o-=l.scrollTop||0,l=l.parentNode;o+=Hv(T.fromDom(t))}return{x:s,y:o}},Yh=(e,t={})=>{let n=0;const s={},o=T.fromDom(e),a=To(o),l=S=>{t.referrerPolicy=S},u=S=>{t.contentCssCors=S},f=S=>{Pt(zi(o),S)},h=S=>{const x=zi(o);Ya(x,"#"+S).each(pt)},v=S=>ht(s,S).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),p=S=>new Promise((x,A)=>{let D;const O=te._addCacheSuffix(S),B=v(O);s[O]=B,B.count++;const U=(F,ne)=>{K(F,Fn),B.status=ne,B.passed=[],B.failed=[],D&&(D.onload=null,D.onerror=null,D=null)},ge=()=>U(B.passed,2),q=()=>U(B.failed,3);if(x&&B.passed.push(x),A&&B.failed.push(A),B.status===1)return;if(B.status===2){ge();return}if(B.status===3){q();return}B.status=1;const $=T.fromTag("link",a.dom);Hn($,{rel:"stylesheet",type:"text/css",id:B.id}),t.contentCssCors&&nn($,"crossOrigin","anonymous"),t.referrerPolicy&&nn($,"referrerpolicy",t.referrerPolicy),D=$.dom,D.onload=ge,D.onerror=q,f($),nn($,"href",O)}),C=S=>Promise.allSettled(We(S,A=>p(A).then(oe(A)))).then(A=>{const D=gs(A,O=>O.status==="fulfilled");return D.fail.length>0?Promise.reject(We(D.fail,O=>O.reason)):We(D.pass,O=>O.value)}),k=S=>{const x=te._addCacheSuffix(S);ht(s,x).each(A=>{--A.count===0&&(delete s[x],h(A.id))})};return{load:p,loadAll:C,unload:k,unloadAll:S=>{K(S,x=>{k(x)})},_setReferrerPolicy:l,_setContentCssCors:u}},cu=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const a=_o(n).dom;return y.from(e.get(a)).getOrThunk(()=>{const l=Yh(a,s);return e.set(a,l),l})}}})(),Iv=e=>e.nodeName.toLowerCase()==="span",pl=(e,t)=>j(e)&&(Mo(e,t)||il(T.fromDom(e))),Fv=(e,t)=>{const n=new Bt(e,t).prev(!1),s=new Bt(e,t).next(!1),o=en(n)||pl(n,t),a=en(s)||pl(s,t);return o&&a},vl=e=>Iv(e)&&e.getAttribute("data-mce-type")==="bookmark",zv=(e,t)=>Y(e)&&e.data.length>0&&Fv(e,t),Zv=e=>ie(e)?e.childNodes.length>0:!1,Vv=e=>qi(e)||Ja(e),_f=(e,t,n)=>{var s;const o=n||t;if(ie(t)&&vl(t))return t;const a=t.childNodes;for(let l=a.length-1;l>=0;l--)_f(e,a[l],o);if(ie(t)){const l=t.childNodes;l.length===1&&vl(l[0])&&((s=t.parentNode)===null||s===void 0||s.insertBefore(l[0],t))}return!Vv(t)&&!Mo(t,o)&&!Zv(t)&&!zv(t,o)&&e.remove(t),t},Uv=te.makeMap,lu=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wv=/[<>&\"\']/g,Xh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Nf={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},aa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Af={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},uu=e=>{const t=T.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},du=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let o=0;o<s.length;o+=2){const a=String.fromCharCode(parseInt(s[o],t));if(!aa[a]){const l="&"+s[o+1]+";";n[a]=l,n[l]=a}}return n}else return},Df=du("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Of=(e,t)=>e.replace(t?lu:iu,n=>aa[n]||n),jv=e=>(""+e).replace(Wv,t=>aa[t]||t),Qh=(e,t)=>e.replace(t?lu:iu,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":aa[n]||"&#"+n.charCodeAt(0)+";"),fu=(e,t,n)=>{const s=n||Df;return e.replace(t?lu:iu,o=>aa[o]||s[o]||o)},ir={encodeRaw:Of,encodeAllRaw:jv,encodeNumeric:Qh,encodeNamed:fu,getEncodeFunc:(e,t)=>{const n=du(t)||Df,s=(l,u)=>l.replace(u?lu:iu,f=>aa[f]!==void 0?aa[f]:n[f]!==void 0?n[f]:f.length>1?"&#"+((f.charCodeAt(0)-55296)*1024+(f.charCodeAt(1)-56320)+65536)+";":"&#"+f.charCodeAt(0)+";"),o=(l,u)=>fu(l,u,n),a=Uv(e.replace(/\+/g,","));return a.named&&a.numeric?s:a.named?t?o:fu:a.numeric?Qh:Of},decode:e=>e.replace(Xh,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Nf[n]||String.fromCharCode(n)):Af[t]||Df[t]||uu(t))},mu={},ca={},Gv={},cc=te.makeMap,rn=te.each,Pf=te.extend,hu=te.explode,Kv=te.inArray,fn=(e,t)=>(e=te.trim(e),e?e.split(t||" "):[]),ur=(e,t={})=>{const n=cc(e," ",cc(e.toUpperCase()," "));return Pf(n,t)},bl=e=>ur("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Yv=e=>{const t={};let n,s,o,a;const l=(f,h="",v="")=>{const p=fn(v),C=fn(f);let k=C.length;for(;k--;){const R=fn([n,h].join(" "));t[C[k]]={attributes:jc(R,()=>({})),attributesOrder:R,children:jc(p,oe(Gv))}}},u=(f,h)=>{const v=fn(f),p=fn(h);let C=v.length;for(;C--;){const k=t[v[C]];for(let R=0,S=p.length;R<S;R++)k.attributes[p[R]]={},k.attributesOrder.push(p[R])}};if(mu[e])return mu[e];if(n="id accesskey class dir lang style tabindex title role",s="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const f="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",s+=" article aside details dialog figure main header footer hgroup section nav "+f,o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){n+=" xml:lang";const f="acronym applet basefont big font strike tt";o=[o,f].join(" "),rn(fn(f),v=>{l(v,"",o)});const h="center dir isindex noframes";s=[s,h].join(" "),a=[s,o].join(" "),rn(fn(h),v=>{l(v,"",a)})}return a=a||[s,o].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),l("dd div","",a),l("address dt caption","",e==="html4"?o:a),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),l("blockquote","cite",a),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",a),l("dl","","dt dd"),l("a","href target rel media hreflang type",e==="html4"?o:a),l("q","cite",o),l("ins del","cite datetime",a),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",a),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),l("param","name value"),l("map","name",[a,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",a),l("th","colspan rowspan headers scope abbr",a),l("form","accept-charset action autocomplete enctype method name novalidate target",a),l("fieldset","disabled form name",[a,"legend"].join(" ")),l("label","form for",o),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[a,"li"].join(" ")),l("noscript","",a),e!=="html4"&&(l("wbr"),l("ruby","",[o,"rt rp"].join(" ")),l("figcaption","",a),l("mark rt rp summary bdi","",o),l("canvas","width height",a),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[o,"option"].join(" ")),l("article section nav aside main header footer","",a),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[a,"figcaption"].join(" ")),l("time","datetime",o),l("dialog","open",a),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",o),l("progress","value max",o),l("meter","value min max low high optimum",o),l("details","open",[a,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),e!=="html4"&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&K([t.video,t.audio],f=>{delete f.children.audio,delete f.children.video}),rn(fn("a form meter progress dfn"),f=>{t[f]&&delete t[f].children[f]}),delete t.caption.children.table,delete t.script,mu[e]=t,t},Bf=(e,t)=>{if(e){const n={};return V(e)&&(e={"*":e}),rn(e,(s,o)=>{n[o]=n[o.toUpperCase()]=t==="map"?cc(s,/[, ]/):hu(s,/[, ]/)}),n}else return},dr=(e={})=>{var t;const n={},s={};let o=[];const a={},l={},u=(Te,Ze,Nt)=>{const tt=e[Te];if(tt)return cc(tt,/[, ]/,cc(tt.toUpperCase(),/[, ]/));{let vt=ca[Te];return vt||(vt=ur(Ze,Nt),ca[Te]=vt),vt}},f=(t=e.schema)!==null&&t!==void 0?t:"html5",h=Yv(f);e.verify_html===!1&&(e.valid_elements="*[*]");const v=Bf(e.valid_styles),p=Bf(e.invalid_styles,"map"),C=Bf(e.valid_classes,"map"),k=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),R=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),x=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),A="td th iframe video audio object script code",D=u("non_empty_elements",A+" pre",S),O=u("move_caret_before_on_enter_elements",A+" table",S),B=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),U=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",B),ge=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),q=u("transparent_elements","a ins del canvas map");rn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Te=>{l[Te]=new RegExp("</"+Te+"[^>]*>","gi")});const $=Te=>new RegExp("^"+Te.replace(/([?+*])/g,".$1")+"$"),F=Te=>{const Ze=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Nt=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,tt=/[*?+]/;if(Te){const vt=fn(Te,",");let Et,dt;n["@"]&&(Et=n["@"].attributes,dt=n["@"].attributesOrder);for(let Lt=0,eo=vt.length;Lt<eo;Lt++){let En=Ze.exec(vt[Lt]);if(En){const Ko=En[1],$s=En[2],hi=En[3],gi=En[5],Yo={},yo=[],Vt={attributes:Yo,attributesOrder:yo};if(Ko==="#"&&(Vt.paddEmpty=!0),Ko==="-"&&(Vt.removeEmpty=!0),En[4]==="!"&&(Vt.removeEmptyAttrs=!0),Et&&(at(Et,(to,Xo)=>{Yo[Xo]=to}),dt&&yo.push(...dt)),gi){const to=fn(gi,"|");for(let Xo=0,no=to.length;Xo<no;Xo++)if(En=Nt.exec(to[Xo]),En){const so={},kr=En[1],Mn=En[2].replace(/[\\:]:/g,":"),$a=En[3],xr=En[4];if(kr==="!"&&(Vt.attributesRequired=Vt.attributesRequired||[],Vt.attributesRequired.push(Mn),so.required=!0),kr==="-"){delete Yo[Mn],yo.splice(Kv(yo,Mn),1);continue}if($a&&($a==="="&&(Vt.attributesDefault=Vt.attributesDefault||[],Vt.attributesDefault.push({name:Mn,value:xr}),so.defaultValue=xr),$a==="~"&&(Vt.attributesForced=Vt.attributesForced||[],Vt.attributesForced.push({name:Mn,value:xr}),so.forcedValue=xr),$a==="<"&&(so.validValues=cc(xr,"?"))),tt.test(Mn)){const wo=so;Vt.attributePatterns=Vt.attributePatterns||[],wo.pattern=$(Mn),Vt.attributePatterns.push(wo)}else Yo[Mn]||yo.push(Mn),Yo[Mn]=so}}if(!Et&&$s==="@"&&(Et=Yo,dt=yo),hi&&(Vt.outputName=$s,n[hi]=Vt),tt.test($s)){const to=Vt;to.pattern=$($s),o.push(to)}else n[$s]=Vt}}}},ne=Te=>{o=[],K(ss(n),Ze=>{delete n[Ze]}),F(Te),rn(h,(Ze,Nt)=>{s[Nt]=Ze.children})},se=Te=>{const Ze=/^(~)?(.+)$/;Te&&(delete ca.text_block_elements,delete ca.block_elements,rn(fn(Te,","),Nt=>{const tt=Ze.exec(Nt);if(tt){const vt=tt[1]==="~",Et=vt?"span":"div",dt=tt[2];if(s[dt]=s[Et],a[dt]=Et,D[dt.toUpperCase()]={},D[dt]={},vt||(U[dt.toUpperCase()]={},U[dt]={}),!n[dt]){let Lt=n[Et];Lt=Pf({},Lt),delete Lt.removeEmptyAttrs,delete Lt.removeEmpty,n[dt]=Lt}rn(s,(Lt,eo)=>{Lt[Et]&&(s[eo]=Lt=Pf({},s[eo]),Lt[dt]=Lt[Et])})}}))},fe=Te=>{const Ze=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete mu[f],Te&&rn(fn(Te,","),Nt=>{const tt=Ze.exec(Nt);if(tt){const vt=tt[1];let Et;vt?Et=s[tt[2]]:Et=s[tt[2]]={"#comment":{}},Et=s[tt[2]],rn(fn(tt[3],"|"),dt=>{vt==="-"?delete Et[dt]:Et[dt]={}})}})},Re=Te=>{const Ze=n[Te];if(Ze)return Ze;let Nt=o.length;for(;Nt--;){const tt=o[Nt];if(tt.pattern.test(Te))return tt}};e.valid_elements?ne(e.valid_elements):(rn(h,(Te,Ze)=>{n[Ze]={attributes:Te.attributes,attributesOrder:Te.attributesOrder},s[Ze]=Te.children}),rn(fn("strong/b em/i"),Te=>{const Ze=fn(Te,"/");n[Ze[1]].outputName=Ze[0]}),rn(ge,(Te,Ze)=>{n[Ze]&&(e.padd_empty_block_inline_children&&(n[Ze].paddInEmptyBlock=!0),n[Ze].removeEmpty=!0)}),rn(fn("ol ul blockquote a table tbody"),Te=>{n[Te]&&(n[Te].removeEmpty=!0)}),rn(fn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Te=>{n[Te]&&(n[Te].paddEmpty=!0)}),rn(fn("span"),Te=>{n[Te].removeEmptyAttrs=!0})),se(e.custom_elements),fe(e.valid_children),F(e.extended_valid_elements),fe("+ol[ul|ol],+ul[ul|ol]"),rn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Te,Ze)=>{n[Ze]&&(n[Ze].parentsRequired=fn(Te))}),e.invalid_elements&&rn(hu(e.invalid_elements),Te=>{n[Te]&&delete n[Te]}),Re("span")||F("span[!data-mce-type|*]");const we=oe(v),Ie=oe(p),Ue=oe(C),yt=oe(x),Sn=oe(U),Kt=oe(B),J=oe(ge),pe=oe(Object.seal(S)),ze=oe(R),$e=oe(D),ve=oe(O),be=oe(k),Q=oe(q),Ee=oe(Object.seal(l)),Le=(Te,Ze)=>{const Nt=s[Te.toLowerCase()];return!!(Nt&&Nt[Ze.toLowerCase()])},Ye=(Te,Ze)=>{const Nt=Re(Te);if(Nt)if(Ze){if(Nt.attributes[Ze])return!0;const tt=Nt.attributePatterns;if(tt){let vt=tt.length;for(;vt--;)if(tt[vt].pattern.test(Ze))return!0}}else return!0;return!1},ot=oe(a);return{type:f,children:s,elements:n,getValidStyles:we,getValidClasses:Ue,getBlockElements:Sn,getInvalidStyles:Ie,getVoidElements:pe,getTextBlockElements:Kt,getTextInlineElements:J,getBoolAttrs:yt,getElementRule:Re,getSelfClosingElements:ze,getNonEmptyElements:$e,getMoveCaretBeforeOnEnterElements:ve,getWhitespaceElements:be,getTransparentElements:Q,getSpecialElements:Ee,isValidChild:Le,isValid:Ye,getCustomElements:ot,addValidElements:F,setValidElements:ne,addCustomElements:se,addValidChildren:fe}},gu=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,a={};let l,u;const f=ea;t&&(l=t.getValidStyles(),u=t.getInvalidStyles());const h=(`\\" \\' \\; \\: ; : `+f).split(" ");for(let p=0;p<h.length;p++)a[h[p]]=f+p,a[f+p]=h[p];const v={parse:p=>{const C={};let k=!1;const R=e.url_converter,S=e.url_converter_scope||v,x=($,F,ne)=>{const se=C[$+"-top"+F];if(!se)return;const fe=C[$+"-right"+F];if(!fe)return;const Re=C[$+"-bottom"+F];if(!Re)return;const we=C[$+"-left"+F];if(!we)return;const Ie=[se,fe,Re,we];let Ue=Ie.length-1;for(;Ue--&&Ie[Ue]===Ie[Ue+1];);Ue>-1&&ne||(C[$+F]=Ue===-1?Ie[0]:Ie.join(" "),delete C[$+"-top"+F],delete C[$+"-right"+F],delete C[$+"-bottom"+F],delete C[$+"-left"+F])},A=$=>{const F=C[$];if(!F)return;const ne=F.split(" ");let se=ne.length;for(;se--;)if(ne[se]!==ne[0])return!1;return C[$]=ne[0],!0},D=($,F,ne,se)=>{A(F)&&A(ne)&&A(se)&&(C[$]=C[F]+" "+C[ne]+" "+C[se],delete C[F],delete C[ne],delete C[se])},O=$=>(k=!0,a[$]),B=($,F)=>(k&&($=$.replace(/\uFEFF[0-9]/g,ne=>a[ne])),F||($=$.replace(/\\([\'\";:])/g,"$1")),$),U=$=>String.fromCharCode(parseInt($.slice(1),16)),ge=$=>$.replace(/\\[0-9a-f]+/gi,U),q=($,F,ne,se,fe,Re)=>{if(fe=fe||Re,fe)return fe=B(fe),"'"+fe.replace(/\'/g,"\\'")+"'";if(F=B(F||ne||se||""),!e.allow_script_urls){const we=F.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(we)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(we))return""}return R&&(F=R.call(S,F,"style")),"url('"+F.replace(/\'/g,"\\'")+"')"};if(p){p=p.replace(/[\u0000-\u001F]/g,""),p=p.replace(/\\[\"\';:\uFEFF]/g,O).replace(/\"[^\"]+\"|\'[^\']+\'/g,F=>F.replace(/[;:]/g,O));let $;for(;$=s.exec(p);){s.lastIndex=$.index+$[0].length;let F=$[1].replace(o,"").toLowerCase(),ne=$[2].replace(o,"");if(F&&ne){if(F=ge(F),ne=ge(ne),F.indexOf(f)!==-1||F.indexOf('"')!==-1||!e.allow_script_urls&&(F==="behavior"||/expression\s*\(|\/\*|\*\//.test(ne)))continue;F==="font-weight"&&ne==="700"?ne="bold":(F==="color"||F==="background-color")&&(ne=ne.toLowerCase()),ne=ne.replace(n,q),C[F]=k?B(ne,!0):ne}}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),D("border","border-width","border-style","border-color"),C.border==="medium none"&&delete C.border,C["border-image"]==="none"&&delete C["border-image"]}return C},serialize:(p,C)=>{let k="";const R=(x,A)=>{const D=A[x];if(D)for(let O=0,B=D.length;O<B;O++){const U=D[O],ge=p[U];ge&&(k+=(k.length>0?" ":"")+U+": "+ge+";")}},S=(x,A)=>{if(!u||!A)return!0;let D=u["*"];return D&&D[x]?!1:(D=u[A],!(D&&D[x]))};return C&&l?(R("*",l),R(C,l)):at(p,(x,A)=>{x&&S(A,C)&&(k+=(k.length>0?" ":"")+A+": "+x+";")}),k}};return v},Xv={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Mf=e=>e instanceof Event||N(e.initEvent),ho=e=>e.isDefaultPrevented===Ht||e.isDefaultPrevented===qe,Qv=e=>nt(e.preventDefault)||Mf(e),Jh=(e,t)=>{const n=t??{};for(const s in e)Oe(Xv,s)||(n[s]=e[s]);return j(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},Lf=(e,t,n,s)=>{var o;const a=Jh(t,s);return a.type=e,nt(a.target)&&(a.target=(o=a.srcElement)!==null&&o!==void 0?o:n),Qv(t)&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=Ht,N(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=Ht,N(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=Ht,a.stopPropagation()},ho(a)||(a.isDefaultPrevented=a.defaultPrevented===!0?Ht:qe,a.isPropagationStopped=a.cancelBubble===!0?Ht:qe,a.isImmediatePropagationStopped=qe)),a},Jv="mce-data-",eb=/^(?:mouse|contextmenu)|click/,la=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},Cl=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},eg=e=>j(e)&&eb.test(e.type),lc=(e,t)=>{const n=Lf(e.type,e,document,t);if(eg(e)&&en(e.pageX)&&!en(e.clientX)){const s=n.target.ownerDocument||document,o=s.documentElement,a=s.body,l=n;l.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),l.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}return n},tb=(e,t,n)=>{const s=e.document,o={type:"ready"};if(n.domLoaded){t(o);return}const a=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,l=()=>{Cl(e,"DOMContentLoaded",l),Cl(e,"load",l),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};a()?l():la(e,"DOMContentLoaded",l),n.domLoaded||la(e,"load",l)};class ia{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Jv+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,o){const a=this;let l;const u=window,f=C=>{a.executeHandlers(lc(C||u.event),h)};if(!t||Y(t)||Do(t))return s;let h;t[a.expando]?h=t[a.expando]:(h=a.count++,t[a.expando]=h,a.events[h]={}),o=o||t;const v=n.split(" ");let p=v.length;for(;p--;){let C=v[p],k=f,R=!1,S=!1;if(C==="DOMContentLoaded"&&(C="ready"),a.domLoaded&&C==="ready"&&t.readyState==="complete"){s.call(o,lc({type:C}));continue}!a.hasFocusIn&&(C==="focusin"||C==="focusout")&&(R=!0,S=C==="focusin"?"focus":"blur",k=x=>{const A=lc(x||u.event);A.type=A.type==="focus"?"focusin":"focusout",a.executeHandlers(A,h)}),l=a.events[h][C],l?C==="ready"&&a.domLoaded?s(lc({type:C})):l.push({func:s,scope:o}):(a.events[h][C]=l=[{func:s,scope:o}],l.fakeName=S,l.capture=R,l.nativeHandler=k,C==="ready"?tb(t,k,a):la(t,S||C,k,R))}return t=l=null,s}unbind(t,n,s){if(!t||Y(t)||Do(t))return this;const o=t[this.expando];if(o){let a=this.events[o];if(n){const l=n.split(" ");let u=l.length;for(;u--;){const f=l[u],h=a[f];if(h){if(s){let v=h.length;for(;v--;)if(h[v].func===s){const p=h.nativeHandler,C=h.fakeName,k=h.capture,R=h.slice(0,v).concat(h.slice(v+1));R.nativeHandler=p,R.fakeName=C,R.capture=k,a[f]=R}}(!s||h.length===0)&&(delete a[f],Cl(t,h.fakeName||f,h.nativeHandler,h.capture))}}}else at(a,(l,u)=>{Cl(t,l.fakeName||u,l.nativeHandler,l.capture)}),a={};for(const l in a)if(Oe(a,l))return this;delete this.events[o];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||Y(t)||Do(t))return this;const o=lc({type:n,target:t},s);do{const a=t[this.expando];a&&this.executeHandlers(o,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this}clean(t){if(!t||Y(t)||Do(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],o=s&&s[t.type];if(o)for(let a=0,l=o.length;a<l;a++){const u=o[a];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ia.Event=new ia;const $f=te.each,nb=te.grep,ic="data-mce-style",tg=te.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),uc=(e,t,n)=>{nt(n)||n===""?qt(e,t):nn(e,t,n)},yl=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),dc=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const a=o.nodeType;t&&Y(o)&&(a===s||!o.data.length)||(n++,s=a)}return n},Hf=(e,t)=>{const n=jn(t,"style"),s=e.serialize(e.parse(n),lt(t));uc(t,ic,s)},If=(e,t)=>xs(e)?Oe(tg,t)?e+"":e+"px":e,pu=(e,t,n)=>{const s=yl(t);nt(n)||n===""?tf(e,s):ef(e,s,If(n,s))},vu=(e,t,n)=>{const s=t.keep_values,o={set:(l,u,f)=>{const h=T.fromDom(l);N(t.url_converter)&&j(u)&&(u=t.url_converter.call(t.url_converter_scope||n(),String(u),f,l));const v="data-mce-"+f;uc(h,v,u),uc(h,f,u)},get:(l,u)=>{const f=T.fromDom(l);return jn(f,"data-mce-"+u)||jn(f,u)}},a={style:{set:(l,u)=>{const f=T.fromDom(l);s&&uc(f,ic,u),qt(f,"style"),V(u)&&Zi(f,e.parse(u))},get:l=>{const u=T.fromDom(l),f=jn(u,ic)||jn(u,"style");return e.serialize(e.parse(f),lt(u))}}};return s&&(a.href=a.src=o),a},Qe=(e,t={})=>{const n={},s=window,o={};let a=0;const l=!0,u=!0,f=cu.forElement(T.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),h=[],v=t.schema?t.schema:dr({}),p=gu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),C=t.ownEvents?new ia:ia.Event,k=v.getBlockElements(),R=M=>V(M)?Oe(k,M):ie(M)&&(Oe(k,M.nodeName)||ra(v,M)),S=M=>M&&e&&V(M)?e.getElementById(M):M,x=M=>{const L=S(M);return j(L)?T.fromDom(L):null},A=(M,L,ee="")=>{let X;const Ce=x(M);if(j(Ce)&&st(Ce)){const He=Rd[L];He&&He.get?X=He.get(Ce.dom,L):X=jn(Ce,L)}return j(X)?X:ee},D=M=>{const L=S(M);return nt(L)?[]:L.attributes},O=(M,L,ee)=>{pe(M,X=>{if(ie(X)){const Ce=T.fromDom(X),He=ee===""?null:ee,rt=jn(Ce,L),cn=Rd[L];cn&&cn.set?cn.set(Ce.dom,He,L):uc(Ce,L,He),rt!==He&&t.onSetAttrib&&t.onSetAttrib({attrElm:Ce.dom,attrName:L,attrValue:He})}})},B=(M,L)=>M.cloneNode(L),U=()=>t.root_element||e.body,ge=M=>{const L=rf(M);return{x:L.x,y:L.y,w:L.width,h:L.height}},q=(M,L)=>Kh(e.body,S(M),L),$=(M,L,ee)=>{pe(M,X=>{const Ce=T.fromDom(X);pu(Ce,L,ee),t.update_styles&&Hf(p,Ce)})},F=(M,L)=>{pe(M,ee=>{const X=T.fromDom(ee);at(L,(Ce,He)=>{pu(X,He,Ce)}),t.update_styles&&Hf(p,X)})},ne=(M,L,ee)=>{const X=S(M);if(!(nt(X)||!ie(X)))return ee?Yt(T.fromDom(X),yl(L)):(L=L.replace(/-(\D)/g,(Ce,He)=>He.toUpperCase()),L==="float"&&(L="cssFloat"),X.style?X.style[L]:void 0)},se=M=>{const L=S(M);if(!L)return{w:0,h:0};let ee=ne(L,"width"),X=ne(L,"height");return(!ee||ee.indexOf("px")===-1)&&(ee="0"),(!X||X.indexOf("px")===-1)&&(X="0"),{w:parseInt(ee,10)||L.offsetWidth||L.clientWidth,h:parseInt(X,10)||L.offsetHeight||L.clientHeight}},fe=M=>{const L=S(M),ee=q(L),X=se(L);return{x:ee.x,y:ee.y,w:X.w,h:X.h}},Re=(M,L)=>{if(!M)return!1;const ee=Xe(M)?M:[M];return Ot(ee,X=>Gn(T.fromDom(X),L))},we=(M,L,ee,X)=>{const Ce=[];let He=S(M);X=X===void 0;const rt=ee||(U().nodeName!=="BODY"?U().parentNode:null);if(V(L))if(L==="*")L=ie;else{const cn=L;L=gn=>Re(gn,cn)}for(;He&&!(He===rt||nt(He.nodeType)||Ja(He)||qi(He));){if(!L||L(He))if(X)Ce.push(He);else return[He];He=He.parentNode}return X?Ce:null},Ie=(M,L,ee)=>{const X=we(M,L,ee,!1);return X&&X.length>0?X[0]:null},Ue=(M,L,ee)=>{let X=L;if(M){V(L)&&(X=Ce=>Re(Ce,L));for(let Ce=M[ee];Ce;Ce=Ce[ee])if(N(X)&&X(Ce))return Ce}return null},yt=(M,L)=>Ue(M,L,"nextSibling"),Sn=(M,L)=>Ue(M,L,"previousSibling"),Kt=M=>N(M.querySelectorAll),J=(M,L)=>{var ee,X;const Ce=(X=(ee=S(L))!==null&&ee!==void 0?ee:t.root_element)!==null&&X!==void 0?X:e;return Kt(Ce)?Tn(Ce.querySelectorAll(M)):[]},pe=function(M,L,ee){const X=ee??this;if(Xe(M)){const Ce=[];return $f(M,(He,rt)=>{const cn=S(He);cn&&Ce.push(L.call(X,cn,rt))}),Ce}else{const Ce=S(M);return Ce?L.call(X,Ce):!1}},ze=(M,L)=>{pe(M,ee=>{at(L,(X,Ce)=>{O(ee,Ce,X)})})},$e=(M,L)=>{pe(M,ee=>{const X=T.fromDom(ee);Me(X,L)})},ve=(M,L,ee,X,Ce)=>pe(M,He=>{const rt=V(L)?e.createElement(L):L;return j(ee)&&ze(rt,ee),X&&(!V(X)&&X.nodeType?rt.appendChild(X):V(X)&&$e(rt,X)),Ce?rt:He.appendChild(rt)}),be=(M,L,ee)=>ve(e.createElement(M),M,L,ee,!0),Q=ir.decode,Ee=ir.encodeAllRaw,Le=(M,L,ee="")=>{let X="<"+M;for(const Ce in L)Zn(L,Ce)&&(X+=" "+Ce+'="'+Ee(L[Ce])+'"');return tr(ee)&&Oe(v.getVoidElements(),M)?X+" />":X+">"+ee+"</"+M+">"},Ye=M=>{const L=e.createElement("div"),ee=e.createDocumentFragment();ee.appendChild(L),M&&(L.innerHTML=M);let X;for(;X=L.firstChild;)ee.appendChild(X);return ee.removeChild(L),ee},ot=(M,L)=>pe(M,ee=>{const X=T.fromDom(ee);return L&&K(sn(X),Ce=>{_n(Ce)&&Ce.dom.length===0?pt(Ce):as(X,Ce)}),pt(X),X.dom}),Te=M=>pe(M,L=>{const ee=L.attributes;for(let X=ee.length-1;X>=0;X--)L.removeAttributeNode(ee.item(X))}),Ze=M=>p.parse(M),Nt=(M,L)=>p.serialize(M,L),tt=M=>{if(Qo!==Qe.DOM&&e===document){if(n[M])return;n[M]=!0}let L=e.getElementById("mceDefaultStyles");if(!L){L=e.createElement("style"),L.id="mceDefaultStyles",L.type="text/css";const ee=e.head;ee.firstChild?ee.insertBefore(L,ee.firstChild):ee.appendChild(L)}L.styleSheet?L.styleSheet.cssText+=M:L.appendChild(e.createTextNode(M))},vt=M=>{M||(M=""),K(M.split(","),L=>{o[L]=!0,f.load(L).catch(Be)})},Et=(M,L,ee)=>{pe(M,X=>{if(ie(X)){const Ce=T.fromDom(X),He=L.split(" ");K(He,rt=>{j(ee)?(ee?Wr:qa)(Ce,rt):ih(Ce,rt)})}})},dt=(M,L)=>{Et(M,L,!0)},Lt=(M,L)=>{Et(M,L,!1)},eo=(M,L)=>{const ee=x(M),X=L.split(" ");return j(ee)&&So(X,Ce=>Gd(ee,Ce))},En=M=>{pe(M,L=>tf(T.fromDom(L),"display"))},Ko=M=>{pe(M,L=>ef(T.fromDom(L),"display","none"))},$s=M=>{const L=x(M);return j(L)&&uo(Xn(L,"display"),"none")},hi=M=>(M||"mce_")+a++,gi=M=>{const L=x(M);return j(L)?ie(L.dom)?L.dom.outerHTML:nf(L):""},Yo=(M,L)=>{pe(M,ee=>{ie(ee)&&(ee.outerHTML=L)})},yo=(M,L)=>{const ee=S(L);return pe(M,X=>{const Ce=ee==null?void 0:ee.parentNode,He=ee==null?void 0:ee.nextSibling;return Ce&&(He?Ce.insertBefore(X,He):Ce.appendChild(X)),X})},Vt=(M,L,ee)=>pe(L,X=>{var Ce;const He=Xe(L)?M.cloneNode(!0):M;return ee&&$f(nb(X.childNodes),rt=>{He.appendChild(rt)}),(Ce=X.parentNode)===null||Ce===void 0||Ce.replaceChild(He,X),X}),to=(M,L)=>{if(M.nodeName!==L.toUpperCase()){const ee=be(L);return $f(D(M),X=>{O(ee,X.nodeName,A(M,X.nodeName))}),Vt(ee,M,!0),ee}else return M},Xo=(M,L)=>{let ee=M;for(;ee;){let X=L;for(;X&&ee!==X;)X=X.parentNode;if(ee===X)break;ee=ee.parentNode}return!ee&&M.ownerDocument?M.ownerDocument.documentElement:ee},no=M=>{if(ie(M)){const L=M.nodeName.toLowerCase()==="a"&&!A(M,"href")&&A(M,"id");if(A(M,"name")||A(M,"data-mce-bookmark")||L)return!0}return!1},so=(M,L,ee)=>{let X=0;if(no(M))return!1;const Ce=M.firstChild;if(Ce){const He=new Bt(Ce,M),rt=v?v.getWhitespaceElements():{},cn=L||(v?v.getNonEmptyElements():null);let gn=Ce;do{if(ie(gn)){const $1=gn.getAttribute("data-mce-bogus");if($1){gn=He.next($1==="all");continue}const H1=gn.nodeName.toLowerCase();if(cn&&cn[H1]){if(H1==="br"){X++,gn=He.next();continue}return!1}if(no(gn))return!1}if(Do(gn)||Y(gn)&&!sa(gn.data)&&(!(ee!=null&&ee.includeZwsp)||!Zh(gn.data))||Y(gn)&&gn.parentNode&&rt[gn.parentNode.nodeName]&&sa(gn.data))return!1;gn=He.next()}while(gn)}return X<=1},kr=()=>e.createRange(),Mn=(M,L,ee)=>{let X=kr(),Ce,He;if(M&&L&&M.parentNode&&L.parentNode){const rt=M.parentNode;return X.setStart(rt,dc(M)),X.setEnd(L.parentNode,dc(L)),Ce=X.extractContents(),X=kr(),X.setStart(L.parentNode,dc(L)+1),X.setEnd(rt,dc(M)+1),He=X.extractContents(),rt.insertBefore(_f(Qo,Ce),M),ee?rt.insertBefore(ee,M):rt.insertBefore(L,M),rt.insertBefore(_f(Qo,He),M),ot(M),ee||L}else return},$a=(M,L,ee,X)=>{if(Xe(M)){let Ce=M.length;const He=[];for(;Ce--;)He[Ce]=$a(M[Ce],L,ee,X);return He}else return t.collect&&(M===e||M===s)&&h.push([M,L,ee,X]),C.bind(M,L,ee,X||Qo)},xr=(M,L,ee)=>{if(Xe(M)){let X=M.length;const Ce=[];for(;X--;)Ce[X]=xr(M[X],L,ee);return Ce}else{if(h.length>0&&(M===e||M===s)){let X=h.length;for(;X--;){const[Ce,He,rt]=h[X];M===Ce&&(!L||L===He)&&(!ee||ee===rt)&&C.unbind(Ce,He,rt)}}return C.unbind(M,L,ee)}},wo=(M,L,ee)=>C.dispatch(M,L,ee),Zc=(M,L,ee)=>C.dispatch(M,L,ee),w2=M=>{if(M&&ie(M)){const L=M.getAttribute("data-mce-contenteditable");return L&&L!=="inherit"?L:M.contentEditable!=="inherit"?M.contentEditable:null}else return null},Qo={doc:e,settings:t,win:s,files:o,stdMode:l,boxModel:u,styleSheetLoader:f,boundEvents:h,styles:p,schema:v,events:C,isBlock:R,root:null,clone:B,getRoot:U,getViewPort:ge,getRect:fe,getSize:se,getParent:Ie,getParents:we,get:S,getNext:yt,getPrev:Sn,select:J,is:Re,add:ve,create:be,createHTML:Le,createFragment:Ye,remove:ot,setStyle:$,getStyle:ne,setStyles:F,removeAllAttribs:Te,setAttrib:O,setAttribs:ze,getAttrib:A,getPos:q,parseStyle:Ze,serializeStyle:Nt,addStyle:tt,loadCSS:vt,addClass:dt,removeClass:Lt,hasClass:eo,toggleClass:Et,show:En,hide:Ko,isHidden:$s,uniqueId:hi,setHTML:$e,getOuterHTML:gi,setOuterHTML:Yo,decode:Q,encode:Ee,insertAfter:yo,replace:Vt,rename:to,findCommonAncestor:Xo,run:pe,getAttribs:D,isEmpty:so,createRng:kr,nodeIndex:dc,split:Mn,bind:$a,unbind:xr,fire:Zc,dispatch:wo,getContentEditable:w2,getContentEditableParent:M=>{const L=U();let ee=null;for(let X=M;X&&X!==L&&(ee=w2(X),ee===null);X=X.parentNode);return ee},isEditable:M=>{if(j(M)){const L=ie(M)?M:M.parentElement;return j(L)&&sr(T.fromDom(L))}else return!1},destroy:()=>{if(h.length>0){let M=h.length;for(;M--;){const[L,ee,X]=h[M];C.unbind(L,ee,X)}}at(o,(M,L)=>{f.unload(L),delete o[L]})},isChildOf:(M,L)=>M===L||L.contains(M),dumpRng:M=>"startContainer: "+M.startContainer.nodeName+", startOffset: "+M.startOffset+", endContainer: "+M.endContainer.nodeName+", endOffset: "+M.endOffset},Rd=vu(p,t,oe(Qo));return Qo};Qe.DOM=Qe(document),Qe.nodeIndex=dc;const sb=Qe.DOM,ng=0,Ff=1,bu=2,sg=3;class Ws{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const o=sb;let a;const l=()=>{o.remove(h),a&&(a.onerror=a.onload=a=null)},u=()=>{l(),n()},f=()=>{l(),s("Failed to load script: "+t)},h=o.uniqueId();a=document.createElement("script"),a.id=h,a.type="text/javascript",a.src=te._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=u,a.onerror=f,(document.getElementsByTagName("head")[0]||document.body).appendChild(a)})}isDone(t){return this.states[t]===bu}markDone(t){this.states[t]=bu}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=ng),new Promise((o,a)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:o,reject:a})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(f,h)=>{ht(n.scriptLoadedCallbacks,h).each(v=>{K(v,p=>p[f](h))}),delete n.scriptLoadedCallbacks[h]},o=f=>{const h=ke(f,v=>v.status==="rejected");return h.length>0?Promise.reject(oo(h,({reason:v})=>Xe(v)?v:[v])):Promise.resolve()},a=f=>Promise.allSettled(We(f,h=>n.states[h]===bu?(s("resolve",h),Promise.resolve()):n.states[h]===sg?(s("reject",h),Promise.reject(h)):(n.states[h]=Ff,n.loadScript(h).then(()=>{n.states[h]=bu,s("resolve",h);const v=n.queue;return v.length>0?(n.queue=[],a(v).then(o)):Promise.resolve()},()=>(n.states[h]=sg,s("reject",h),Promise.reject(h)))))),l=f=>(n.loading=!0,a(f).then(h=>{n.loading=!1;const v=n.queueLoadedCallbacks.shift();return y.from(v).each(Fn),o(h)})),u=Ad(t);return n.loading?new Promise((f,h)=>{n.queueLoadedCallbacks.push(()=>{l(u).then(f,h)})}):l(u)}}Ws.ScriptLoader=new Ws;const Ft=e=>{let t=e;return{get:()=>t,set:o=>{t=o}}},og=e=>Fe(e)&&Oe(e,"raw"),rg=e=>Xe(e)&&e.length>1,fc={},ag=Ft("en"),ob=()=>ht(fc,ag.get()),js={getData:()=>Ei(fc,e=>({...e})),setCode:e=>{e&&ag.set(e)},getCode:()=>ag.get(),add:(e,t)=>{let n=fc[e];n||(fc[e]=n={}),at(t,(s,o)=>{n[o.toLowerCase()]=s})},translate:e=>{const t=ob().getOr({}),n=l=>N(l)?Object.prototype.toString.call(l):s(l)?"":""+l,s=l=>l===""||l===null||l===void 0,o=l=>{const u=n(l);return ht(t,u.toLowerCase()).map(n).getOr(u)},a=l=>l.replace(/{context:\w+}$/,"");if(s(e))return"";if(og(e))return n(e.raw);if(rg(e)){const l=e.slice(1),u=o(e[0]).replace(/\{([0-9]+)\}/g,(f,h)=>Oe(l,h)?n(l[h]):f);return a(u)}return a(o(e))},isRtl:()=>ob().bind(e=>ht(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Oe(fc,e)},bn=()=>{const e=[],t={},n={},s=[],o=(S,x)=>{const A=ke(s,D=>D.name===S&&D.state===x);K(A,D=>D.resolve())},a=S=>Oe(t,S),l=S=>Oe(n,S),u=S=>{if(n[S])return n[S].instance},f=(S,x)=>{const A=js.getCode(),D=","+(x||"")+",";!A||x&&D.indexOf(","+A+",")===-1||Ws.ScriptLoader.add(t[S]+"/langs/"+A+".js")},h=(S,x)=>{bn.languageLoad!==!1&&(a(S)?f(S,x):R(S,"loaded").then(()=>f(S,x)))},v=(S,x)=>(e.push(x),n[S]={instance:x},o(S,"added"),x),p=S=>{delete t[S],delete n[S]},C=(S,x)=>V(x)?V(S)?{prefix:"",resource:x,suffix:""}:{prefix:S.prefix,resource:x,suffix:S.suffix}:x,k=(S,x)=>{if(t[S])return Promise.resolve();let A=V(x)?x:x.prefix+x.resource+x.suffix;A.indexOf("/")!==0&&A.indexOf("://")===-1&&(A=bn.baseURL+"/"+A),t[S]=A.substring(0,A.lastIndexOf("/"));const D=()=>(o(S,"loaded"),Promise.resolve());return n[S]?D():Ws.ScriptLoader.add(A).then(D)},R=(S,x="added")=>x==="added"&&l(S)||x==="loaded"&&a(S)?Promise.resolve():new Promise(A=>{s.push({name:S,state:x,resolve:A})});return{items:e,urls:t,lookup:n,get:u,requireLangPack:h,add:v,remove:p,createUrl:C,load:k,waitFor:R}};bn.languageLoad=!0,bn.baseURL="",bn.PluginManager=bn(),bn.ThemeManager=bn(),bn.ModelManager=bn();const ab=e=>{const t=Ft(y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:u=>{n(),t.set(y.some(u))}}},cb=e=>{const t=Ft(y.none()),n=()=>t.get().each(u=>clearInterval(u));return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:u=>{n(),t.set(y.some(setInterval(u,e)))}}},Ts=()=>{const e=ab(Be);return{...e,on:n=>e.get().each(n)}},wu=(e,t)=>{let n=null;return{cancel:()=>{Rn(n)||(clearTimeout(n),n=null)},throttle:(...a)=>{Rn(n)&&(n=setTimeout(()=>{n=null,e.apply(null,a)},t))}}},mc=(e,t)=>{let n=null;const s=()=>{Rn(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...a)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,a)},t)}}},ua=oe("mce-annotation"),Lo=oe("data-mce-annotation"),_t=oe("data-mce-annotation-uid"),wl=oe("data-mce-annotation-active"),da=oe("data-mce-annotation-classes"),Sl=oe("data-mce-annotation-attrs"),cg=e=>t=>Ke(t,e),go=(e,t)=>{const n=e.selection.getRng(),s=T.fromDom(n.startContainer),o=T.fromDom(e.getBody()),a=t.fold(()=>"."+ua(),f=>`[${Lo()}="${f}"]`),l=jr(s,n.startOffset).getOr(s);return Kn(l,a,cg(o)).bind(f=>zs(f,`${_t()}`).bind(h=>zs(f,`${Lo()}`).map(v=>{const p=zf(e,h);return{uid:h,name:v,elements:p}})))},$o=e=>st(e)&&Gd(e,ua()),lg=(e,t)=>tl(e,"data-mce-bogus")||cf(e,'[data-mce-bogus="all"]',cg(t)),zf=(e,t)=>{const n=T.fromDom(e.getBody()),s=un(n,`[${_t()}="${t}"]`);return ke(s,o=>!lg(o,n))},ig=(e,t)=>{const n=T.fromDom(e.getBody()),s=un(n,`[${Lo()}="${t}"]`),o={};return K(s,a=>{if(!lg(a,n)){const l=jn(a,_t()),u=ht(o,l).getOr([]);o[l]=u.concat([a])}}),o},lb=(e,t)=>{const n=Ft({}),s=()=>({listeners:[],previous:Ts()}),o=(p,C)=>{a(p,k=>(C(k),k))},a=(p,C)=>{const k=n.get(),R=ht(k,p).getOrThunk(s),S=C(R);k[p]=S,n.set(k)},l=(p,C,k)=>{o(p,R=>{K(R.listeners,S=>S(!0,p,{uid:C,nodes:We(k,x=>x.dom)}))})},u=p=>{o(p,C=>{K(C.listeners,k=>k(!1,p))})},f=(p,C)=>{K(zf(e,p),k=>{C?nn(k,wl(),"true"):qt(k,wl())})},h=mc(()=>{const p=Dr(t.getNames());K(p,C=>{a(C,k=>{const R=k.previous.get();return go(e,y.some(C)).fold(()=>{R.each(S=>{u(C),k.previous.clear(),f(S,!1)})},({uid:S,name:x,elements:A})=>{uo(R,S)||(R.each(D=>f(D,!1)),l(x,S,A),k.previous.set(S),f(S,!0))}),{previous:k.previous,listeners:k.listeners}})})},30);return e.on("remove",()=>{h.cancel()}),e.on("NodeChange",()=>{h.throttle()}),{addListener:(p,C)=>{a(p,k=>({previous:k.previous,listeners:k.listeners.concat([C])}))}}},ib=(e,t)=>{const n=Lo(),s=a=>y.from(a.attr(n)).bind(t.lookup),o=a=>{var l,u;a.attr(_t(),null),a.attr(Lo(),null),a.attr(wl(),null);const f=y.from(a.attr(Sl())).map(C=>C.split(",")).getOr([]),h=y.from(a.attr(da())).map(C=>C.split(",")).getOr([]);K(f,C=>a.attr(C,null));const v=(u=(l=a.attr("class"))===null||l===void 0?void 0:l.split(" "))!==null&&u!==void 0?u:[],p=wi(v,[ua()].concat(h));a.attr("class",p.length>0?p.join(" "):null),a.attr(da(),null),a.attr(Sl(),null)};e.serializer.addTempAttr(wl()),e.serializer.addAttributeFilter(n,a=>{for(const l of a)s(l).each(u=>{u.persistent===!1&&(l.name==="span"?l.unwrap():o(l))})})},ug=()=>{const e={};return{register:(o,a)=>{e[o]={name:o,settings:a}},lookup:o=>ht(e,o).map(a=>a.settings),getNames:()=>ss(e)}};let dg=0;const El=e=>{const n=new Date().getTime(),s=Math.floor(Math.random()*1e9);return dg++,e+"_"+s+dg+String(n)},ub=(e,t)=>{K(t,n=>{Wr(e,n)})},fg=(e,t)=>{K(t,n=>{qa(e,n)})},Zf=(e,t)=>T.fromDom(e.dom.cloneNode(t)),hc=e=>Zf(e,!1),kl=e=>Zf(e,!0),db=(e,t)=>{const n=T.fromTag(t),s=Pi(e);return Hn(n,s),n},Vf=(e,t)=>{const n=db(e,t);cs(e,n);const s=sn(e);return Yr(n,s),pt(e),n},Uf=(e,t,n=qe)=>{const s=new Bt(e,t),o=a=>{let l;do l=s[a]();while(l&&!Y(l)&&!n(l));return y.from(l).filter(Y)};return{current:()=>y.from(s.current()).filter(Y),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},Ho=(e,t)=>{const n=t||(l=>e.isBlock(l)||gt(l)||it(l)),s=(l,u,f,h)=>{if(Y(l)){const v=h(l,u,l.data);if(v!==-1)return y.some({container:l,offset:v})}return f().bind(v=>s(v.container,v.offset,f,h))};return{backwards:(l,u,f,h)=>{const v=Uf(l,h??e.getRoot(),n);return s(l,u,()=>v.prev().map(p=>({container:p,offset:p.length})),f).getOrNull()},forwards:(l,u,f,h)=>{const v=Uf(l,h??e.getRoot(),n);return s(l,u,()=>v.next().map(p=>({container:p,offset:0})),f).getOrNull()}}},gc=Math.round,fa=e=>e?{left:gc(e.left),top:gc(e.top),bottom:gc(e.bottom),right:gc(e.right),width:gc(e.width),height:gc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},mg=(e,t)=>(e=fa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),xl=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,hg=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Rl=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:hg(t.top-e.bottom,e,t)},Tl=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:hg(t.bottom-e.top,e,t),gg=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,fb=e=>wt(e,(t,n)=>t.fold(()=>y.some(n),s=>{const o=Math.min(n.left,s.left),a=Math.min(n.top,s.top),l=Math.max(n.right,s.right),u=Math.max(n.bottom,s.bottom);return y.some({top:a,right:l,bottom:u,left:o,width:l-o,height:u-a})}),y.none()),Wf=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-o)*(n-o))},pg=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),mb=(e,t,n)=>Math.min(Math.max(e,t),n),_l=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},fr=(e,t)=>{if(ie(e)&&e.hasChildNodes()){const n=e.childNodes,s=mb(t,0,n.length-1);return n[s]}else return e},vg=(e,t)=>{if(!(t<0&&ie(e)&&e.hasChildNodes()))return fr(e,t)},hb=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),bg=e=>V(e)&&e.charCodeAt(0)>=768&&hb.test(e),gb=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},pb=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},jf=ie,vb=ys,Cg=lf("display","block table"),yg=lf("float","left right"),Nl=pb(jf,vb,yi(yg)),bb=yi(lf("white-space","pre pre-line pre-wrap")),pc=Y,Al=gt,qf=Qe.nodeIndex,Su=vg,Eu=e=>e?e.createRange():Qe.DOM.createRng(),Gf=e=>V(e)&&/[\r\n\t ]/.test(e),Kf=e=>!!e.setStart&&!!e.setEnd,wg=e=>{const t=e.startContainer,n=e.startOffset;if(Gf(e.toString())&&bb(t.parentNode)&&Y(t)){const s=t.data;if(Gf(s[n-1])||Gf(s[n+1]))return!0}return!1},ma=e=>{const t=e.ownerDocument,n=Eu(t),s=t.createTextNode(Gt),o=e.parentNode;o.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const a=fa(n.getBoundingClientRect());return o.removeChild(s),a},G3=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,o=e.endOffset;if(t===n&&Y(n)&&s===0&&o===1){const a=e.cloneRange();return a.setEndAfter(n),mr(a)}else return null},ha=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,mr=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=fa(s[0]):n=fa(e.getBoundingClientRect()),!Kf(e)&&Al(e)&&ha(n)?ma(e):ha(n)&&Kf(e)&&(t=G3(e))!==null&&t!==void 0?t:n},ga=(e,t)=>{const n=mg(e,t);return n.width=1,n.right=n.left+1,n},Sg=e=>{const t=[],n=l=>{l.height!==0&&(t.length>0&&xl(l,t[t.length-1])||t.push(l))},s=(l,u)=>{const f=Eu(l.ownerDocument);if(u<l.data.length){if(bg(l.data[u]))return;if(bg(l.data[u-1])&&(f.setStart(l,u),f.setEnd(l,u+1),!wg(f))){n(ga(mr(f),!1));return}}u>0&&(f.setStart(l,u-1),f.setEnd(l,u),wg(f)||n(ga(mr(f),!1))),u<l.data.length&&(f.setStart(l,u),f.setEnd(l,u+1),wg(f)||n(ga(mr(f),!0)))},o=e.container(),a=e.offset();if(pc(o))return s(o,a),t;if(jf(o))if(e.isAtEnd()){const l=Su(o,a);pc(l)&&s(l,l.data.length),Nl(l)&&!Al(l)&&n(ga(mr(l),!1))}else{const l=Su(o,a);if(pc(l)&&s(l,0),Nl(l)&&e.isAtEnd())return n(ga(mr(l),!1)),t;const u=Su(e.container(),e.offset()-1);Nl(u)&&!Al(u)&&(Cg(u)||Cg(l)||!Nl(l))&&n(ga(mr(u),!1)),Nl(l)&&n(ga(mr(l),!0))}return t},I=(e,t,n)=>{const s=()=>(pc(e),t===0),o=()=>pc(e)?t>=e.data.length:t>=e.childNodes.length,a=()=>{const v=Eu(e.ownerDocument);return v.setStart(e,t),v.setEnd(e,t),v},l=()=>(n||(n=Sg(I(e,t))),n),u=()=>l().length>0,f=v=>v&&e===v.container()&&t===v.offset(),h=v=>Su(e,v?t-1:t);return{container:oe(e),offset:oe(t),toRange:a,getClientRects:l,isVisible:u,isAtStart:s,isAtEnd:o,isEqual:f,getNode:h}};I.fromRangeStart=e=>I(e.startContainer,e.startOffset),I.fromRangeEnd=e=>I(e.endContainer,e.endOffset),I.after=e=>I(e.parentNode,qf(e)+1),I.before=e=>I(e.parentNode,qf(e)),I.isAbove=(e,t)=>$n(zn(t.getClientRects()),Or(e.getClientRects()),Rl).getOr(!1),I.isBelow=(e,t)=>$n(Or(t.getClientRects()),zn(e.getClientRects()),Tl).getOr(!1),I.isAtStart=e=>e?e.isAtStart():!1,I.isAtEnd=e=>e?e.isAtEnd():!1,I.isTextPosition=e=>e?Y(e.container()):!1,I.isElementPosition=e=>!I.isTextPosition(e);const ku=(e,t)=>{Y(t)&&t.data.length===0&&e.remove(t)},Cb=(e,t,n)=>{t.insertNode(n),ku(e,n.previousSibling),ku(e,n.nextSibling)},yb=(e,t,n)=>{const s=y.from(n.firstChild),o=y.from(n.lastChild);t.insertNode(n),s.each(a=>ku(e,a.previousSibling)),o.each(a=>ku(e,a.nextSibling))},Yf=(e,t,n)=>{qi(n)?yb(e,t,n):Cb(e,t,n)},qs=Y,xu=mo,Xf=Qe.nodeIndex,Eg=e=>{const t=e.parentNode;return xu(t)?Eg(t):t},Qf=e=>e?Is(e.childNodes,(t,n)=>(xu(n)&&n.nodeName!=="BR"?t=t.concat(Qf(n)):t.push(n),t),[]):[],wb=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&qs(n);)t+=n.data.length;return t},pa=e=>t=>e===t,kg=e=>{let t,n;t=Qf(Eg(e)),n=Rt(t,pa(e),e),t=t.slice(0,n+1);const s=Is(t,(o,a,l)=>(qs(a)&&qs(t[l-1])&&o++,o),0);return t=qc(t,vs([e.nodeName])),n=Rt(t,pa(e),e),n-s},Jf=e=>(qs(e)?"text()":e.nodeName.toLowerCase())+"["+kg(e)+"]",xg=(e,t,n)=>{const s=[];for(let o=t.parentNode;o&&o!==e&&!(n&&n(o));o=o.parentNode)s.push(o);return s},Rg=(e,t)=>{let n=[],s=t.container(),o=t.offset(),a;if(qs(s))a=wb(s,o);else{const u=s.childNodes;o>=u.length?(a="after",o=u.length-1):a="before",s=u[o]}n.push(Jf(s));let l=xg(e,s);return l=qc(l,yi(mo)),n=n.concat(Br(l,u=>Jf(u))),n.reverse().join("/")+","+a},Sb=(e,t,n)=>{let s=Qf(e);return s=qc(s,(o,a)=>!qs(o)||!qs(s[a-1])),s=qc(s,vs([t])),s[n]},Eb=(e,t)=>{let n=e,s=0;for(;qs(n);){const o=n.data.length;if(t>=s&&t<=s+o){e=n,t=t-s;break}if(!qs(n.nextSibling)){e=n,t=o;break}s+=o,n=n.nextSibling}return qs(e)&&t>e.data.length&&(t=e.data.length),I(e,t)},em=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),o=n.length>1?n[1]:"before",a=Is(s,(l,u)=>{const f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return f?(f[1]==="text()"&&(f[1]="#text"),Sb(l,f[1],parseInt(f[2],10))):null},e);if(!a)return null;if(!qs(a)&&a.parentNode){let l;return o==="after"?l=Xf(a)+1:l=Xf(a),I(a.parentNode,l)}return Eb(a,parseInt(o,10))},tm=it,Qn=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let o=t.previousSibling;o&&Y(o);o=o.previousSibling)s+=e(o.data).length;return s},Tg=(e,t,n,s,o)=>{const a=o?s.startContainer:s.endContainer;let l=o?s.startOffset:s.endOffset;const u=[],f=e.getRoot();if(Y(a))u.push(n?Qn(t,a,l):l);else{let h=0;const v=a.childNodes;l>=v.length&&v.length&&(h=1,l=Math.max(0,v.length-1)),u.push(e.nodeIndex(v[l],n)+h)}for(let h=a;h&&h!==f;h=h.parentNode)u.push(e.nodeIndex(h,n));return u},kb=(e,t,n,s)=>{const o=t.dom,a=Tg(o,e,n,s,!0),l=t.isForward(),u=eu(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:a,forward:l,...u};{const f=Tg(o,e,n,s,!1);return{start:a,end:f,forward:l,...u}}},nm=(e,t,n)=>{let s=0;return te.each(e.select(t),o=>{if(o.getAttribute("data-mce-bogus")!=="all"){if(o===n)return!1;s++;return}}),s},_g=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(ie(n)&&n.nodeName==="TR"){const o=n.childNodes;n=o[Math.min(t?s:s-1,o.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},Ru=e=>(_g(e,!0),_g(e,!1),e),Tu=(e,t)=>{if(ie(e)&&(e=fr(e,t),tm(e)))return e;if(Cs(e)){Y(e)&&lr(e)&&(e=e.parentNode);let n=e.previousSibling;if(tm(n)||(n=e.nextSibling,tm(n)))return n}},xb=e=>Tu(e.startContainer,e.startOffset)||Tu(e.endContainer,e.endOffset),Ng=(e,t,n)=>{const s=n.getNode(),o=n.getRng();if(s.nodeName==="IMG"||tm(s)){const l=s.nodeName;return{name:l,index:nm(n.dom,l,s)}}const a=xb(o);if(a){const l=a.tagName;return{name:l,index:nm(n.dom,l,a)}}return kb(e,n,t,o)},Rb=e=>{const t=e.getRng();return{start:Rg(e.dom.getRoot(),I.fromRangeStart(t)),end:Rg(e.dom.getRoot(),I.fromRangeEnd(t)),forward:e.isForward()}},Ag=e=>({rng:e.getRng(),forward:e.isForward()}),sm=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},Dl=(e,t)=>{const n=e.dom;let s=e.getRng();const o=n.uniqueId(),a=e.isCollapsed(),l=e.getNode(),u=l.nodeName,f=e.isForward();if(u==="IMG")return{name:u,index:nm(n,u,l)};const h=Ru(s.cloneRange());if(!a){h.collapse(!1);const p=sm(n,o+"_end",t);Yf(n,h,p)}s=Ru(s),s.collapse(!0);const v=sm(n,o+"_start",t);return Yf(n,s,v),e.moveToBookmark({id:o,keep:!0,forward:f}),{id:o,forward:f}},Tb=(e,t,n=!1)=>t===2?Ng(Oo,n,e):t===3?Rb(e):t?Ag(e):Dl(e,!1),om=G(Ng,Ct,!0),Nn=e=>{const t=a=>a(e),n=oe(e),s=()=>o,o={tag:!0,inner:e,fold:(a,l)=>l(e),isValue:Ht,isError:qe,map:a=>In.value(a(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:a=>{a(e)},toOptional:()=>y.some(e)};return o},Ol=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,o)=>s(e),isValue:qe,isError:Ht,map:t,mapError:s=>In.error(s(e)),bind:t,exists:qe,forall:Ht,getOr:Ct,or:Ct,getOrThunk:$t,orThunk:$t,getOrDie:Td(String(e)),each:Be,toOptional:y.none};return n},In={value:Nn,error:Ol,fromOption:(e,t)=>e.fold(()=>Ol(t),Nn)},po={generate:e=>{if(!Xe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return K(e,(s,o)=>{const a=ss(s);if(a.length!==1)throw new Error("one and only one name per case");const l=a[0],u=s[l];if(n[l]!==void 0)throw new Error("duplicate key detected:"+l);if(l==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Xe(u))throw new Error("case arguments must be an array");t.push(l),n[l]=(...f)=>{const h=f.length;if(h!==u.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+u.length+" ("+u+"), got "+h);return{fold:(...p)=>{if(p.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+p.length);return p[o].apply(null,f)},match:p=>{const C=ss(p);if(t.length!==C.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+C.join(","));if(!So(t,R=>Ge(C,R)))throw new Error("Not all branches were specified when using match. Specified: "+C.join(", ")+`
Required: `+t.join(", "));return p[l].apply(null,f)},log:p=>{console.log(p,{constructors:t,constructor:l,params:f})}}}}),n}};po.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _b=e=>{const t=[],n=[];return K(e,s=>{s.fold(o=>{t.push(o)},o=>{n.push(o)})}),{errors:t,values:n}},Nb=e=>e.type==="inline-command"||e.type==="inline-format",Ab=e=>e.type==="block-command"||e.type==="block-format",Db=e=>{const t=s=>In.error({message:s,pattern:e}),n=(s,o,a)=>{if(e.format!==void 0){let l;if(Xe(e.format)){if(!So(e.format,V))return t(s+" pattern has non-string items in the `format` array");l=e.format}else if(V(e.format))l=[e.format];else return t(s+" pattern has non-string `format` parameter");return In.value(o(l))}else return e.cmd!==void 0?V(e.cmd)?In.value(a(e.cmd,e.value)):t(s+" pattern has non-string `cmd` parameter"):t(s+" pattern is missing both `format` and `cmd` parameters")};if(!Fe(e))return t("Raw pattern is not an object");if(!V(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!V(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let s=e.start,o=e.end;return o.length===0&&(o=s,s=""),n("Inline",a=>({type:"inline-format",start:s,end:o,format:a}),(a,l)=>({type:"inline-command",start:s,end:o,cmd:a,value:l}))}else return e.replacement!==void 0?V(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):In.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",s=>({type:"block-format",start:e.start,format:s[0]}),(s,o)=>({type:"block-command",start:e.start,cmd:s,value:o}))},_u=e=>ke(e,Ab),Dg=e=>ke(e,Nb),Ob=(e,t)=>({inlinePatterns:Dg(e),blockPatterns:_u(e),dynamicPatternsLookup:t}),Og=e=>{const t=_b(We(e,Db));return K(t.errors,n=>console.error(n.message,n.pattern)),t.values},Pb=e=>t=>{const n=e(t);return Og(n)},rm=ao().deviceType,Bb=rm.isTouch(),Mb=Qe.DOM,Lb=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return wt(t,(n,s)=>{const o=s.split("="),a=o[0],l=o.length>1?o[1]:a;return n[$r(a)]=$r(l),n},{})},Pl=e=>Jt(e,RegExp),ue=e=>t=>t.options.get(e),am=e=>V(e)||Fe(e),Pg=(e,t="")=>n=>{const s=V(n);if(s)if(n.indexOf("=")!==-1){const o=Lb(n);return{value:ht(o,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},$b=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Pg(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Pg(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=V(n)&&jt(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=Ge(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>Nr(n)?{valid:!0,value:n}:V(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||V(n)||Ia(n,V);return s?V(n)?{value:We(n.split(","),$r),valid:s}:Xe(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Au(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=V(n)||Ia(n,V);return s?{value:Xe(n)?n:We(n.split(","),$r),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=Nr(n)||V(n);return s?n===!1||rm.isiPhone()||rm.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!Bb}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||V(n)||N(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||V(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:am}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:am}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:am}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>V(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Ia(n,Fe)||n===!1?{value:Og(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>N(n)?{value:Pb(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Ia(n,Pl)?{value:n,valid:!0}:Pl(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=Ge(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=Ge(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:js.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Mb.getAttrib(e.getElement(),"placeholder")})})},Hb=ue("iframe_attrs"),Ib=ue("doctype"),Bg=ue("document_base_url"),cm=ue("body_id"),lm=ue("body_class"),im=ue("content_security_policy"),Mg=ue("br_in_pre"),An=ue("forced_root_block"),vc=ue("forced_root_block_attrs"),Fb=ue("newline_behavior"),Lg=ue("br_newline_selector"),um=ue("no_newline_selector"),Nu=ue("keep_styles"),zb=ue("end_container_on_empty_block"),$g=ue("automatic_uploads"),Hg=ue("images_reuse_filename"),Zb=ue("images_replace_blob_uris"),Ig=ue("icons"),Vb=ue("icons_url"),Ub=ue("images_upload_url"),Wb=ue("images_upload_base_path"),jb=ue("images_upload_credentials"),qb=ue("images_upload_handler"),Gb=ue("content_css_cors"),dm=ue("referrer_policy"),Fg=ue("language"),Kb=ue("language_url"),zg=ue("indent_use_margin"),Yb=ue("indentation"),Xb=ue("content_css"),Qb=ue("content_style"),Zg=ue("font_css"),Jb=ue("directionality"),eC=ue("inline_boundaries_selector"),Vg=ue("object_resizing"),tC=ue("resize_img_proportional"),Ug=ue("placeholder"),fm=ue("event_root"),va=ue("service_message"),bc=ue("theme"),nC=ue("theme_url"),mm=ue("model"),sC=ue("model_url"),hr=ue("inline_boundaries"),Xt=ue("formats"),oC=ue("preview_styles"),Wg=ue("format_empty_lines"),rC=ue("format_noneditable_selector"),jg=ue("custom_ui_selector"),Au=ue("inline"),aC=ue("hidden_input"),cC=ue("submit_patch"),lC=ue("add_form_submit_trigger"),iC=ue("add_unload_trigger"),Bl=ue("custom_undo_redo_levels"),qg=ue("disable_nodechange"),uC=ue("readonly"),ba=ue("editable_root"),Gg=ue("content_css_cors"),Du=ue("plugins"),dC=ue("external_plugins"),fC=ue("block_unsupported_drop"),Kg=ue("visual"),hm=ue("visual_table_class"),Yg=ue("visual_anchor_class"),mC=ue("iframe_aria_text"),hC=ue("setup"),gC=ue("init_instance_callback"),pC=ue("urlconverter_callback"),vC=ue("auto_focus"),bC=ue("browser_spellcheck"),Xg=ue("protect"),Qg=ue("paste_block_drop"),Ml=ue("paste_data_images"),Jg=ue("paste_preprocess"),ep=ue("paste_postprocess"),Ou=ue("newdocument_content"),Ll=ue("paste_webkit_styles"),gm=ue("paste_remove_styles_if_webkit"),tp=ue("paste_merge_formats"),CC=ue("smart_paste"),yC=ue("paste_as_text"),wC=ue("paste_tab_spaces"),SC=ue("allow_html_data_urls"),EC=ue("text_patterns"),kC=ue("text_patterns_lookup"),pm=ue("noneditable_class"),xC=ue("editable_class"),RC=ue("noneditable_regexp"),TC=ue("preserve_cdata"),_C=ue("highlight_on_focus"),vm=ue("xss_sanitization"),NC=ue("init_content_sync"),AC=e=>e.options.isSet("text_patterns_lookup"),DC=e=>te.explode(e.options.get("font_size_style_values")),OC=e=>te.explode(e.options.get("font_size_classes")),Pu=e=>e.options.get("encoding")==="xml",bm=e=>te.explode(e.options.get("images_file_types")),Cm=ue("table_tab_navigation"),ym=ue("details_initial_state"),np=ue("details_serialized_state"),wm=ie,Sm=Y,Em=e=>{const t=e.parentNode;t&&t.removeChild(e)},km=e=>{const t=Oo(e);return{count:e.length-t.length,text:t}},sp=e=>{let t;for(;(t=e.data.lastIndexOf(dn))!==-1;)e.deleteData(t,1)},xm=(e,t)=>(Ca(e),t),op=(e,t)=>{const n=km(e.data.substr(0,t.offset())),s=km(e.data.substr(t.offset()));return(n.text+s.text).length>0?(sp(e),I(e,t.offset()-n.count)):t},PC=(e,t)=>{const n=t.container(),s=k2(Tn(n.childNodes),e).map(o=>o<t.offset()?I(n,t.offset()-1):t).getOr(t);return Ca(e),s},Rm=(e,t)=>Sm(e)&&t.container()===e?op(e,t):xm(e,t),BC=(e,t)=>t.container()===e.parentNode?PC(e,t):xm(e,t),MC=(e,t)=>I.isTextPosition(t)?Rm(e,t):BC(e,t),Ca=e=>{wm(e)&&Cs(e)&&(Bo(e)?e.removeAttribute("data-mce-caret"):Em(e)),Sm(e)&&(sp(e),e.data.length===0&&Em(e))},Tm=it,LC=Us,$C=Gi,HC="*[contentEditable=false],video,audio,embed,object",rp=(e,t,n)=>{const s=mg(t.getBoundingClientRect(),n);let o,a;if(e.tagName==="BODY"){const u=e.ownerDocument.documentElement;o=e.scrollLeft||u.scrollLeft,a=e.scrollTop||u.scrollTop}else{const u=e.getBoundingClientRect();o=e.scrollLeft-u.left,a=e.scrollTop-u.top}s.left+=o,s.right+=o,s.top+=a,s.bottom+=a,s.width=1;let l=t.offsetWidth-t.clientWidth;return l>0&&(n&&(l*=-1),s.left+=l,s.right+=l),s},IC=e=>{var t,n;const s=un(T.fromDom(e),HC);for(let o=0;o<s.length;o++){const a=s[o].dom;let l=a.previousSibling;if(dl(l)){const u=l.data;u.length===1?(t=l.parentNode)===null||t===void 0||t.removeChild(l):l.deleteData(u.length-1,1)}l=a.nextSibling,ul(l)&&(l.data.length===1?(n=l.parentNode)===null||n===void 0||n.removeChild(l):l.deleteData(0,1))}},Dn=(e,t,n,s)=>{const o=Ts();let a,l;const u=An(e),f=e.dom,h=(S,x)=>{let A;if(v(),$C(x))return null;if(n(x)){const D=Mh(u,x,S),O=rp(t,x,S);f.setStyle(D,"top",O.top),l=D;const B=f.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});f.setStyles(B,{...O}),f.add(t,B),o.set({caret:B,element:x,before:S}),S&&f.addClass(B,"mce-visual-caret-before"),p(),A=x.ownerDocument.createRange(),A.setStart(D,0),A.setEnd(D,0)}else return l=kv(x,S),A=x.ownerDocument.createRange(),vo(l.nextSibling)?(A.setStart(l,0),A.setEnd(l,0)):(A.setStart(l,1),A.setEnd(l,1)),A;return A},v=()=>{IC(t),l&&(Ca(l),l=null),o.on(S=>{f.remove(S.caret),o.clear()}),a&&(clearInterval(a),a=void 0)},p=()=>{a=setInterval(()=>{o.on(S=>{s()?f.toggleClass(S.caret,"mce-visual-caret-hidden"):f.addClass(S.caret,"mce-visual-caret-hidden")})},500)};return{show:h,hide:v,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(S=>{const x=rp(t,S.element,S.before);f.setStyles(S.caret,{...x})})},destroy:()=>clearInterval(a)}},FC=()=>Ve.browser.isFirefox(),vo=e=>Tm(e)||LC(e),$l=e=>(vo(e)||Ao(e)&&FC())&&Li(T.fromDom(e)).exists(sr),zC=Vs,_m=it,ZC=Us,ap=lf("display","block table table-cell table-caption list-item"),Nm=Cs,Bu=lr,VC=ie,UC=Y,Hl=ys,ya=e=>e>0,wa=e=>e<0,Mu=(e,t)=>{let n;for(;n=e(t);)if(!Bu(n))return n;return null},Cc=(e,t,n,s,o)=>{const a=new Bt(e,s),l=_m(e)||Bu(e);let u;if(wa(t)){if(l&&(u=Mu(a.prev.bind(a),!0),n(u)))return u;for(;u=Mu(a.prev.bind(a),o);)if(n(u))return u}if(ya(t)){if(l&&(u=Mu(a.next.bind(a),!0),n(u)))return u;for(;u=Mu(a.next.bind(a),o);)if(n(u))return u}return null},Am=(e,t)=>{const n=o=>zC(o.dom),s=o=>o.dom===t;return rs(T.fromDom(e),n,s).map(o=>o.dom).getOr(t)},Sa=(e,t)=>{for(;e&&e!==t;){if(ap(e))return e;e=e.parentNode}return null},ls=(e,t,n)=>Sa(e.container(),n)===Sa(t.container(),n),cp=(e,t)=>{if(!t)return y.none();const n=t.container(),s=t.offset();return VC(n)?y.from(n.childNodes[s+e]):y.none()},Dm=(e,t)=>{var n;const o=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},lp=(e,t,n)=>Sa(t,e)===Sa(n,e),Il=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let a=o[s];if(a&&Nm(a)&&(a=a[s]),_m(a)||ZC(a)){if(lp(t,a,o))return a;break}if(Hl(a))break;o=o.parentNode}return null},Fl=G(Dm,!0),yc=G(Dm,!1),Om=(e,t,n)=>{let s;const o=G(Il,!0,t),a=G(Il,!1,t),l=n.startContainer,u=n.startOffset;if(lr(l)){const f=UC(l)?l.parentNode:l,h=f.getAttribute("data-mce-caret");if(h==="before"&&(s=f.nextSibling,$l(s)))return Fl(s);if(h==="after"&&(s=f.previousSibling,$l(s)))return yc(s)}if(!n.collapsed)return n;if(Y(l)){if(Nm(l)){if(e===1){if(s=a(l),s)return Fl(s);if(s=o(l),s)return yc(s)}if(e===-1){if(s=o(l),s)return yc(s);if(s=a(l),s)return Fl(s)}return n}if(dl(l)&&u>=l.data.length-1)return e===1&&(s=a(l),s)?Fl(s):n;if(ul(l)&&u<=1)return e===-1&&(s=o(l),s)?yc(s):n;if(u===l.data.length)return s=a(l),s?Fl(s):n;if(u===0)return s=o(l),s?yc(s):n}return n},Lu=(e,t)=>cp(e?0:-1,t).filter(_m),wc=(e,t,n)=>{const s=Om(e,t,n);return e===-1?I.fromRangeStart(s):I.fromRangeEnd(s)},Io=e=>y.from(e.getNode()).map(T.fromDom),zl=e=>y.from(e.getNode(!0)).map(T.fromDom),Pm=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Zl=(e,t)=>{const n=ls(e,t);return!n&&gt(e.getNode())?!0:n};var an;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(an||(an={}));const X3=it,Gs=Y,$u=ie,Bm=gt,Sc=ys,Mm=Fh,Hu=zh,WC=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},Lm=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,$m=(e,t)=>{if(ya(e)){if(Sc(t.previousSibling)&&!Gs(t.previousSibling))return I.before(t);if(Gs(t))return I(t,0)}if(wa(e)){if(Sc(t.nextSibling)&&!Gs(t.nextSibling))return I.after(t);if(Gs(t))return I(t,t.data.length)}return wa(e)?Bm(t)?I.before(t):I.after(t):I.before(t)},Iu=(e,t)=>{const n=t.nextSibling;return n&&Sc(n)?Gs(n)?I(n,0):I.before(n):Fu(an.Forwards,I.after(t),e)},Fu=(e,t,n)=>{let s,o,a,l;if(!$u(n)||!t)return null;if(t.isEqual(I.after(n))&&n.lastChild){if(l=I.after(n.lastChild),wa(e)&&Sc(n.lastChild)&&$u(n.lastChild))return Bm(n.lastChild)?I.before(n.lastChild):l}else l=t;const u=l.container();let f=l.offset();if(Gs(u)){if(wa(e)&&f>0)return I(u,--f);if(ya(e)&&f<u.length)return I(u,++f);s=u}else{if(wa(e)&&f>0&&(o=Lm(u,f-1),Sc(o)))return!Mm(o)&&(a=Cc(o,e,Hu,o),a)?Gs(a)?I(a,a.data.length):I.after(a):Gs(o)?I(o,o.data.length):I.before(o);if(ya(e)&&f<u.childNodes.length&&(o=Lm(u,f),Sc(o)))return Bm(o)?Iu(n,o):!Mm(o)&&(a=Cc(o,e,Hu,o),a)?Gs(a)?I(a,0):I.before(a):Gs(o)?I(o,0):I.after(o);s=o||l.getNode()}if(s&&(ya(e)&&l.isAtEnd()||wa(e)&&l.isAtStart())&&(s=Cc(s,e,Ht,n,!0),Hu(s,n)))return $m(e,s);o=s&&Cc(s,e,Hu,n);const h=er(ke(WC(u,n),X3));return h&&(!o||!h.contains(o))?(ya(e)?l=I.after(h):l=I.before(h),l):o?$m(e,o):null},Ks=e=>({next:t=>Fu(an.Forwards,t,e),prev:t=>Fu(an.Backwards,t,e)}),jC=(e,t,n)=>{const s=e?I.before(n):I.after(n);return _s(e,t,s)},qC=e=>gt(e)?I.before(e):I.after(e),ip=e=>I.isTextPosition(e)?e.offset()===0:ys(e.getNode()),Vl=e=>{if(I.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ys(e.getNode(!0))},up=(e,t)=>!I.isTextPosition(e)&&!I.isTextPosition(t)&&e.getNode()===t.getNode(!0),GC=e=>!I.isTextPosition(e)&&gt(e.getNode()),Q3=(e,t,n)=>e?!up(t,n)&&!GC(t)&&Vl(t)&&ip(n):!up(n,t)&&ip(t)&&Vl(n),_s=(e,t,n)=>{const s=Ks(t);return y.from(e?s.next(n):s.prev(n))},bo=(e,t,n)=>_s(e,t,n).bind(s=>ls(n,s,t)&&Q3(e,n,s)?_s(e,t,s):y.some(s)),dp=(e,t,n,s)=>bo(e,t,n).bind(o=>s(o)?dp(e,t,o,s):y.some(o)),Ec=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Y(n)?y.some(I(n,e?0:n.data.length)):n?ys(n)?y.some(e?I.before(n):qC(n)):jC(e,t,n):y.none()},On=G(_s,!0),Cn=G(_s,!1),mn=G(Ec,!0),Ns=G(Ec,!1),Hm="_mce_caret",As=e=>ie(e)&&e.id===Hm,Ea=(e,t)=>{let n=t;for(;n&&n!==e;){if(As(n))return n;n=n.parentNode}return null},KC=e=>V(e.start),zu=e=>Oe(e,"rng"),Zu=e=>Oe(e,"id"),Im=e=>Oe(e,"name"),fp=e=>te.isArray(e.start),Vu=e=>!Im(e)&&Nr(e.forward)?e.forward:!0,mp=(e,t)=>(ie(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Uu=(e,t)=>{const n=y.from(em(e.getRoot(),t.start)),s=y.from(em(e.getRoot(),t.end));return $n(n,s,(o,a)=>{const l=e.createRng();return l.setStart(o.container(),o.offset()),l.setEnd(a.container(),a.offset()),{range:l,forward:Vu(t)}})},hp=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(dn);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)},gp=e=>!e.hasChildNodes(),pp=(e,t)=>Ns(e).fold(qe,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),gr=(e,t,n)=>gp(t)&&Ea(e,t)?(hp(t,n),!0):!1,vp=(e,t,n,s)=>{const o=n[t?"start":"end"],a=e.getRoot();if(o){let l=a,u=o[0];for(let f=o.length-1;l&&f>=1;f--){const h=l.childNodes;if(gr(a,l,s))return!0;if(o[f]>h.length-1)return gr(a,l,s)?!0:pp(l,s);l=h[o[f]]}Y(l)&&(u=Math.min(o[0],l.data.length)),ie(l)&&(u=Math.min(o[0],l.childNodes.length)),t?s.setStart(l,u):s.setEnd(l,u)}return!0},Ds=e=>Y(e)&&e.data.length>0,bp=(e,t,n)=>{const s=e.get(n.id+"_"+t),o=s==null?void 0:s.parentNode,a=n.keep;if(s&&o){let l,u;if(t==="start"?a?s.hasChildNodes()?(l=s.firstChild,u=1):Ds(s.nextSibling)?(l=s.nextSibling,u=0):Ds(s.previousSibling)?(l=s.previousSibling,u=s.previousSibling.data.length):(l=o,u=e.nodeIndex(s)+1):(l=o,u=e.nodeIndex(s)):a?s.hasChildNodes()?(l=s.firstChild,u=1):Ds(s.previousSibling)?(l=s.previousSibling,u=s.previousSibling.data.length):(l=o,u=e.nodeIndex(s)):(l=o,u=e.nodeIndex(s)),!a){const f=s.previousSibling,h=s.nextSibling;te.each(te.grep(s.childNodes),p=>{Y(p)&&(p.data=p.data.replace(/\uFEFF/g,""))});let v;for(;v=e.get(n.id+"_"+t);)e.remove(v,!0);if(Y(h)&&Y(f)&&!Ve.browser.isOpera()){const p=f.data.length;f.appendData(h.data),e.remove(h),l=f,u=p}}return y.some(I(l,u))}else return y.none()},Cp=(e,t)=>{const n=e.createRng();return vp(e,!0,t,n)&&vp(e,!1,t,n)?y.some({range:n,forward:Vu(t)}):y.none()},YC=(e,t)=>{const n=bp(e,"start",t),s=bp(e,"end",t);return $n(n,s.or(n),(o,a)=>{const l=e.createRng();return l.setStart(mp(e,o.container()),o.offset()),l.setEnd(mp(e,a.container()),a.offset()),{range:l,forward:Vu(t)}})},J3=(e,t)=>y.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),XC=(e,t)=>{const n=e.dom;if(t){if(fp(t))return Cp(n,t);if(KC(t))return Uu(n,t);if(Zu(t))return YC(n,t);if(Im(t))return J3(n,t);if(zu(t))return y.some({range:t.rng,forward:Vu(t)})}return y.none()},QC=(e,t,n)=>Tb(e,t,n),JC=(e,t)=>{XC(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},ws=e=>ie(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Wu=(e=>t=>e===t)(Gt),ka=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Ul=e=>!ka(e)&&!Wu(e)&&!ff(e),ey=e=>({value:ty(e)}),ty=e=>Yc(e,"#").toUpperCase(),Wl=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},wp=e=>{const t=Wl(e.red)+Wl(e.green)+Wl(e.blue);return ey(t)},Sp=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,ny=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ep=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),kp=(e,t,n,s)=>{const o=parseInt(e,10),a=parseInt(t,10),l=parseInt(n,10),u=parseFloat(s);return Ep(o,a,l,u)},xp=e=>{if(e==="transparent")return y.some(Ep(0,0,0,0));const t=Sp.exec(e);if(t!==null)return y.some(kp(t[1],t[2],t[3],"1"));const n=ny.exec(e);return n!==null?y.some(kp(n[1],n[2],n[3],n[4])):y.none()},jl=e=>xp(e).map(wp).map(t=>"#"+t.value).getOr(e),Fm=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},sy=e=>oo(e,t=>{const n=_l(t);return n?[T.fromDom(n)]:[]}),Rp=e=>Fm(e).length>1,zm=e=>ke(sy(e),sc),oy=e=>un(e,"td[data-mce-selected],th[data-mce-selected]"),ql=(e,t)=>{const n=oy(t);return n.length>0?n:zm(e)},xa=e=>ql(Fm(e.selection.getSel()),T.fromDom(e.getBody())),Gl=(e,t)=>rl(e,"table",t),ry=e=>{const t=e.startContainer,n=e.startOffset;return Y(t)?n===0?y.some(T.fromDom(t)):y.none():y.from(t.childNodes[n]).map(T.fromDom)},Tp=e=>{const t=e.endContainer,n=e.endOffset;return Y(t)?n===t.data.length?y.some(T.fromDom(t)):y.none():y.from(t.childNodes[n-1]).map(T.fromDom)},Zm=e=>$i(e).fold(oe([e]),t=>[e].concat(Zm(t))),pr=e=>Hi(e).fold(oe([e]),t=>lt(t)==="br"?nr(t).map(n=>[e].concat(pr(n))).getOr([]):[e].concat(pr(t))),Kl=(e,t)=>$n(ry(t),Tp(t),(n,s)=>{const o=Wt(Zm(e),G(Ke,n)),a=Wt(pr(e),G(Ke,s));return o.isSome()&&a.isSome()}).getOr(!1),kc=(e,t,n,s)=>{const o=n,a=new Bt(n,o),l=mt(e.schema.getMoveCaretBeforeOnEnterElements(),(f,h)=>!Ge(["td","th","table"],h.toLowerCase()));let u=n;do{if(Y(u)&&te.trim(u.data).length!==0){s?t.setStart(u,0):t.setEnd(u,u.data.length);return}if(l[u.nodeName]){s?t.setStartBefore(u):u.nodeName==="BR"?t.setEndBefore(u):t.setEndAfter(u);return}}while(u=s?a.next():a.prev());o.nodeName==="BODY"&&(s?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Fo=e=>{const t=e.selection.getSel();return j(t)&&t.rangeCount>0},Vm=(e,t)=>{const n=xa(e);n.length>0?K(n,s=>{const o=s.dom,a=e.dom.createRng();a.setStartBefore(o),a.setEndAfter(o),t(a,!0)}):t(e.selection.getRng(),!1)},_p=(e,t,n)=>{const s=Dl(e,t);n(s),e.moveToBookmark(s)},Yl=e=>xs(e==null?void 0:e.nodeType),Um=e=>ie(e)&&!ws(e)&&!As(e)&&!mo(e),ju=(e,t)=>{if(Um(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},Ra=e=>e.isContentEditable===!0,Np=(e,t,n)=>{const{selection:s,dom:o}=e,a=s.getNode(),l=it(a);_p(s,!0,()=>{t()}),l&&it(a)&&o.isChildOf(a,e.getBody())?e.selection.select(a):n(s.getStart())&&ay(o,s)},ay=(e,t)=>{var n,s;const o=t.getRng(),{startContainer:a,startOffset:l}=o,u=t.getNode();if(!ju(e,u)&&ie(a)){const f=a.childNodes,h=e.getRoot();let v;if(l<f.length){const p=f[l];v=new Bt(p,(n=e.getParent(p,e.isBlock))!==null&&n!==void 0?n:h)}else{const p=f[f.length-1];v=new Bt(p,(s=e.getParent(p,e.isBlock))!==null&&s!==void 0?s:h),v.next(!0)}for(let p=v.current();p;p=v.next()){if(e.getContentEditable(p)==="false")return;if(Y(p)&&!jm(p)){o.setStart(p,0),t.setRng(o);return}}}},Ap=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=n?e:e[s];e;e=e[s])if(ie(e)||!jm(e))return e}},Wm=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ra(e,t),xc=(e,t,n)=>e.schema.isValidChild(t,n),jm=(e,t=!1)=>{if(j(e)&&Y(e)){const n=t?e.data.replace(/ /g," "):e.data;return sa(n)}else return!1},Rc=e=>j(e)&&Y(e)&&e.length===0,cy=(e,t)=>{const n="[data-mce-cef-wrappable]",s=rC(e),o=tr(s)?n:`${n},${s}`;return Gn(T.fromDom(t),o)},Dp=(e,t)=>{const n=e.dom;return Um(t)&&n.getContentEditable(t)==="false"&&cy(e,t)&&n.select('[contenteditable="true"]',t).length===0},vr=(e,t)=>N(e)?e(t):(j(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),qm=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Tc=(e,t)=>{if(nt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=jl(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},qu=(e,t,n)=>{const s=e.getStyle(t,n);return Tc(s,n)},Op=(e,t)=>{let n;return e.getParent(t,s=>ie(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},Gu=(e,t,n)=>e.getParents(t,n,e.getRoot()),Gm=(e,t,n)=>{const s=e.formatter.get(t);return j(s)&&Ot(s,n)},Ku=(e,t)=>Gm(e,t,s=>{const o=a=>N(a)||a.length>1&&a.charAt(0)==="%";return Ot(["styles","attributes"],a=>ht(s,a).exists(l=>{const u=Xe(l)?l:Va(l);return Ot(u,o)}))}),Pp=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],o=a=>mt(a,(l,u)=>Ot(s,f=>f===u));return Gm(e,t,a=>{const l=o(a);return Gm(e,n,u=>{const f=o(u);return Pr(l,f)})})},Os=e=>Zn(e,"block"),ly=e=>Os(e)&&e.wrapper===!0,Bp=e=>Os(e)&&e.wrapper!==!0,is=e=>Zn(e,"selector"),zt=e=>Zn(e,"inline"),Mp=e=>is(e)&&zt(e)&&uo(ht(e,"mixed"),!0),Km=e=>is(e)&&e.expand!==!1&&!zt(e),Ta=ws,Lp=Gu,Ym=jm,iy=Wm,uy=e=>gt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,$p=(e,t)=>{let n=t;for(;n;){if(ie(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},Yu=(e,t,n,s)=>{const o=t.data;if(e){for(let a=n;a>0;a--)if(s(o.charAt(a-1)))return a}else for(let a=n;a<o.length;a++)if(s(o.charAt(a)))return a;return-1},_c=(e,t,n)=>Yu(e,t,n,s=>Wu(s)||ka(s)),dy=(e,t,n)=>Yu(e,t,n,Ul),Xm=(e,t,n,s,o,a)=>{let l;const u=e.getParent(n,e.isBlock)||t,f=(v,p,C)=>{const k=Ho(e),R=o?k.backwards:k.forwards;return y.from(R(v,p,(S,x)=>Ta(S.parentNode)?-1:(l=S,C(o,S,x)),u))};return f(n,s,_c).bind(v=>a?f(v.container,v.offset+(o?-1:0),dy):y.some(v)).orThunk(()=>l?y.some({container:l,offset:o?0:l.length}):y.none())},Xu=(e,t,n,s,o)=>{const a=s[o];Y(s)&&tr(s.data)&&a&&(s=a);const l=Lp(e,s);for(let u=0;u<l.length;u++)for(let f=0;f<t.length;f++){const h=t[f];if(!(j(h.collapsed)&&h.collapsed!==n.collapsed)&&is(h)&&e.is(l[u],h.selector))return l[u]}return s},Hp=(e,t,n,s)=>{var o;let a=n;const l=e.getRoot(),u=t[0];if(Os(u)&&(a=u.wrapper?null:e.getParent(n,u.block,l)),!a){const f=(o=e.getParent(n,"LI,TD,TH"))!==null&&o!==void 0?o:l;a=e.getParent(Y(n)?n.parentNode:n,h=>h!==l&&iy(e.schema,h),f)}if(a&&Os(u)&&u.wrapper&&(a=Lp(e,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a&&a[s]&&!e.isBlock(a[s])&&(a=a[s],!qm(a,"br")););return a||n},Ip=(e,t,n,s)=>{const o=n.parentNode;return j(n[s])?!1:o===t||nt(o)||e.isBlock(o)?!0:Ip(e,t,o,s)},Nc=(e,t,n,s,o)=>{let a=n;const l=o?"previousSibling":"nextSibling",u=e.getRoot();if(Y(n)&&!Ym(n)&&(o?s>0:s<n.data.length))return n;for(;a;){if(!t[0].block_expand&&e.isBlock(a))return a;for(let f=a[l];f;f=f[l]){const h=Y(f)&&!Ip(e,u,f,l);if(!Ta(f)&&!uy(f)&&!Ym(f,h))return a}if(a===u||a.parentNode===u){n=a;break}a=a.parentNode}return n},Fp=e=>Ta(e.parentNode)||Ta(e),_a=(e,t,n,s=!1)=>{let{startContainer:o,startOffset:a,endContainer:l,endOffset:u}=t;const f=n[0];return ie(o)&&o.hasChildNodes()&&(o=fr(o,a),Y(o)&&(a=0)),ie(l)&&l.hasChildNodes()&&(l=fr(l,t.collapsed?u:u-1),Y(l)&&(u=l.data.length)),o=$p(e,o),l=$p(e,l),Fp(o)&&(o=Ta(o)?o:o.parentNode,t.collapsed?o=o.previousSibling||o:o=o.nextSibling||o,Y(o)&&(a=t.collapsed?o.length:0)),Fp(l)&&(l=Ta(l)?l:l.parentNode,t.collapsed?l=l.nextSibling||l:l=l.previousSibling||l,Y(l)&&(u=t.collapsed?0:l.length)),t.collapsed&&(Xm(e,e.getRoot(),o,a,!0,s).each(({container:p,offset:C})=>{o=p,a=C}),Xm(e,e.getRoot(),l,u,!1,s).each(({container:p,offset:C})=>{l=p,u=C})),(zt(f)||f.block_expand)&&((!zt(f)||!Y(o)||a===0)&&(o=Nc(e,n,o,a,!0)),(!zt(f)||!Y(l)||u===l.data.length)&&(l=Nc(e,n,l,u,!1))),Km(f)&&(o=Xu(e,n,t,o,"previousSibling"),l=Xu(e,n,t,l,"nextSibling")),(Os(f)||is(f))&&(o=Hp(e,n,o,"previousSibling"),l=Hp(e,n,l,"nextSibling"),Os(f)&&(e.isBlock(o)||(o=Nc(e,n,o,a,!0)),e.isBlock(l)||(l=Nc(e,n,l,u,!1)))),ie(o)&&o.parentNode&&(a=e.nodeIndex(o),o=o.parentNode),ie(l)&&l.parentNode&&(u=e.nodeIndex(l)+1,l=l.parentNode),{startContainer:o,startOffset:a,endContainer:l,endOffset:u}},br=(e,t,n)=>{var s;const o=t.startOffset,a=fr(t.startContainer,o),l=t.endOffset,u=fr(t.endContainer,l-1),f=x=>{const A=x[0];Y(A)&&A===a&&o>=A.data.length&&x.splice(0,1);const D=x[x.length-1];return l===0&&x.length>0&&D===u&&Y(D)&&x.splice(x.length-1,1),x},h=(x,A,D)=>{const O=[];for(;x&&x!==D;x=x[A])O.push(x);return O},v=(x,A)=>e.getParent(x,D=>D.parentNode===A,A),p=(x,A,D)=>{const O=D?"nextSibling":"previousSibling";for(let B=x,U=B.parentNode;B&&B!==A;B=U){U=B.parentNode;const ge=h(B===x?B:B[O],O);ge.length&&(D||ge.reverse(),n(f(ge)))}};if(a===u)return n(f([a]));const C=(s=e.findCommonAncestor(a,u))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(a,u))return p(a,C,!0);if(e.isChildOf(u,a))return p(u,C);const k=v(a,C)||a,R=v(u,C)||u;p(a,k,!0);const S=h(k===a?k:k.nextSibling,"nextSibling",R===u?R.nextSibling:R);S.length&&n(f(S)),p(u,R)},fy=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],my=e=>_n(e)&&Yi(e)===dn,hy=(e,t,n,s)=>ps(t).fold(()=>"skipping",o=>s==="br"||my(t)?"valid":$o(t)?"existing":As(t.dom)?"caret":Ot(fy,a=>Gn(t,a))?"valid-block":!xc(e,n,s)||!xc(e,lt(o),n)?"invalid-child":"valid"),zo=(e,t)=>{const n=_a(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},zp=(e,t,n,s,o,a)=>{const{uid:l=t,...u}=n;Wr(e,ua()),nn(e,`${_t()}`,l),nn(e,`${Lo()}`,s);const{attributes:f={},classes:h=[]}=o(l,u);if(Hn(e,f),ub(e,h),a){h.length>0&&nn(e,`${da()}`,h.join(","));const v=ss(f);v.length>0&&nn(e,`${Sl()}`,v.join(","))}},gy=e=>{qa(e,ua()),qt(e,`${_t()}`),qt(e,`${Lo()}`),qt(e,`${wl()}`);const t=zs(e,`${Sl()}`).map(s=>s.split(",")).getOr([]),n=zs(e,`${da()}`).map(s=>s.split(",")).getOr([]);K(t,s=>qt(e,s)),fg(e,n),qt(e,`${da()}`),qt(e,`${Sl()}`)},Qu=(e,t,n,s,o)=>{const a=T.fromTag("span",e);return zp(a,t,n,s,o,!1),a},py=(e,t,n,s,o,a)=>{const l=[],u=Qu(e.getDoc(),n,a,s,o),f=Ts(),h=()=>{f.clear()},v=()=>f.get().getOrThunk(()=>{const R=hc(u);return l.push(R),f.set(R),R}),p=R=>{K(R,C)},C=R=>{switch(hy(e,R,"span",lt(R))){case"invalid-child":{h();const x=sn(R);p(x),h();break}case"valid-block":{h(),zp(R,n,a,s,o,!0);break}case"valid":{const x=v();Ch(R,x);break}}},k=R=>{const S=We(R,T.fromDom);p(S)};return br(e.dom,t,R=>{h(),k(R)}),l},vy=(e,t,n,s)=>{e.undoManager.transact(()=>{const o=e.selection,a=o.getRng(),l=xa(e).length>0,u=El("mce-annotation");if(a.collapsed&&!l&&zo(e,a),o.getRng().collapsed&&!l){const f=Qu(e.getDoc(),u,s,t,n.decorate);Me(f,Gt),o.getRng().insertNode(f.dom),o.select(f.dom)}else _p(o,!1,()=>{Vm(e,f=>{py(e,f,u,t,n.decorate,s)})})})},Zp=e=>{const t=ug();ib(e,t);const n=lb(e,t),s=el("span"),o=a=>{K(a,l=>{s(l)?or(l):gy(l)})};return{register:(a,l)=>{t.register(a,l)},annotate:(a,l)=>{t.lookup(a).each(u=>{vy(e,a,u,l)})},annotationChanged:(a,l)=>{n.addListener(a,l)},remove:a=>{go(e,y.some(a)).each(({elements:l})=>{const u=e.selection.getBookmark();o(l),e.selection.moveToBookmark(u)})},removeAll:a=>{const l=e.selection.getBookmark();at(ig(e,a),(u,f)=>{o(u)}),e.selection.moveToBookmark(l)},getAll:a=>{const l=ig(e,a);return Ei(l,u=>We(u,f=>f.dom))}}},Ju=e=>({getBookmark:G(QC,e),moveToBookmark:G(JC,e)});Ju.isBookmarkNode=ws;const by=(e,t,n)=>n.collapsed?!1:Ot(n.getClientRects(),s=>gg(s,e,t)),Cy=(e,t)=>e.dispatch("PreProcess",t),yy=(e,t)=>e.dispatch("PostProcess",t),wy=e=>{e.dispatch("remove")},Sy=e=>{e.dispatch("detach")},Ey=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},ky=(e,t,n,s,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:o})},xy=(e,t,n,s,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:o})},Ry=e=>{e.dispatch("PreInit")},Ty=e=>{e.dispatch("PostRender")},_y=e=>{e.dispatch("Init")},Vp=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},Up=(e,t,n)=>{e.dispatch(t,n)},Wp=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},jp=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},Ny=(e,t)=>e.dispatch("BeforeSetContent",t),qp=(e,t)=>e.dispatch("SetContent",t),Ac=(e,t)=>e.dispatch("BeforeGetContent",t),Dc=(e,t)=>e.dispatch("GetContent",t),Qm=(e,t)=>{e.dispatch("AutocompleterStart",t)},Ay=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},Ps=e=>{e.dispatch("AutocompleterEnd")},Na=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),Dy=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Oc=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Oy=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),de={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||de.metaKeyPressed(e),metaKeyPressed:e=>Ve.os.isMacOS()||Ve.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Aa="data-mce-selected",Py="table,img,figure.image,hr,video,span.mce-preview-object,details",Gp=Math.abs,ed=Math.round,Jm={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},By=e=>e.type==="longpress"||e.type.indexOf("touch")===0,td=(e,t)=>{const n=t.dom,s=t.getDoc(),o=document,a=t.getBody();let l,u,f,h,v,p,C,k,R,S,x,A,D,O,B,U,ge;const q=Q=>j(Q)&&(_h(Q)||n.is(Q,"figure.image")),$=Q=>Us(Q)||n.hasClass(Q,"mce-preview-object"),F=(Q,Ee)=>{if(By(Q)){const Le=Q.touches[0];return q(Q.target)&&!by(Le.clientX,Le.clientY,Ee)}else return q(Q.target)&&!by(Q.clientX,Q.clientY,Ee)},ne=Q=>{const Ee=Q.target;F(Q,t.selection.getRng())&&!Q.isDefaultPrevented()&&t.selection.select(Ee)},se=Q=>n.hasClass(Q,"mce-preview-object")&&j(Q.firstElementChild)?[Q,Q.firstElementChild]:n.is(Q,"figure.image")?[Q.querySelector("img")]:[Q],fe=Q=>{const Ee=Vg(t);return!Ee||Q.getAttribute("data-mce-resize")==="false"||Q===t.getBody()?!1:n.hasClass(Q,"mce-preview-object")&&j(Q.firstElementChild)?Gn(T.fromDom(Q.firstElementChild),Ee):Gn(T.fromDom(Q),Ee)},Re=Q=>$(Q)?n.create("img",{src:Ve.transparentSrc}):Q.cloneNode(!0),we=(Q,Ee,Le)=>{if(j(Le)){const Ye=se(Q);K(Ye,ot=>{ot.style[Ee]||!t.schema.isValid(ot.nodeName.toLowerCase(),Ee)?n.setStyle(ot,Ee,Le):n.setAttrib(ot,Ee,""+Le)})}},Ie=(Q,Ee,Le)=>{we(Q,"width",Ee),we(Q,"height",Le)},Ue=Q=>{let Ee,Le,Ye,ot,Te;Ee=Q.screenX-p,Le=Q.screenY-C,O=Ee*h[2]+S,B=Le*h[3]+x,O=O<5?5:O,B=B<5?5:B,(q(l)||$(l))&&tC(t)!==!1?Ye=!de.modifierPressed(Q):Ye=de.modifierPressed(Q),Ye&&(Gp(Ee)>Gp(Le)?(B=ed(O*A),O=ed(B/A)):(O=ed(B/A),B=ed(O*A))),Ie(u,O,B),ot=h.startPos.x+Ee,Te=h.startPos.y+Le,ot=ot>0?ot:0,Te=Te>0?Te:0,n.setStyles(f,{left:ot,top:Te,display:"block"}),f.innerHTML=O+" &times; "+B,h[2]<0&&u.clientWidth<=O&&n.setStyle(u,"left",k+(S-O)),h[3]<0&&u.clientHeight<=B&&n.setStyle(u,"top",R+(x-B)),Ee=a.scrollWidth-U,Le=a.scrollHeight-ge,Ee+Le!==0&&n.setStyles(f,{left:ot-Ee,top:Te-Le}),D||(ky(t,l,S,x,"corner-"+h.name),D=!0)},yt=()=>{const Q=D;D=!1,Q&&(we(l,"width",O),we(l,"height",B)),n.unbind(s,"mousemove",Ue),n.unbind(s,"mouseup",yt),o!==s&&(n.unbind(o,"mousemove",Ue),n.unbind(o,"mouseup",yt)),n.remove(u),n.remove(f),n.remove(v),Sn(l),Q&&(xy(t,l,O,B,"corner-"+h.name),n.setAttrib(l,"style",n.getAttrib(l,"style"))),t.nodeChanged()},Sn=Q=>{$e();const Ee=n.getPos(Q,a),Le=Ee.x,Ye=Ee.y,ot=Q.getBoundingClientRect(),Te=ot.width||ot.right-ot.left,Ze=ot.height||ot.bottom-ot.top;l!==Q&&(J(),l=Q,O=B=0);const Nt=t.dispatch("ObjectSelected",{target:Q});fe(Q)&&!Nt.isDefaultPrevented()?at(Jm,(tt,vt)=>{const Et=Lt=>{const eo=se(l)[0];p=Lt.screenX,C=Lt.screenY,S=eo.clientWidth,x=eo.clientHeight,A=x/S,h=tt,h.name=vt,h.startPos={x:Te*tt[0]+Le,y:Ze*tt[1]+Ye},U=a.scrollWidth,ge=a.scrollHeight,v=n.add(a,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=Re(l),n.addClass(u,"mce-clonedresizable"),n.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",n.setStyles(u,{left:Le,top:Ye,margin:0}),Ie(u,Te,Ze),u.removeAttribute(Aa),a.appendChild(u),n.bind(s,"mousemove",Ue),n.bind(s,"mouseup",yt),o!==s&&(n.bind(o,"mousemove",Ue),n.bind(o,"mouseup",yt)),f=n.add(a,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+x)};let dt=n.get("mceResizeHandle"+vt);dt&&n.remove(dt),dt=n.add(a,"div",{id:"mceResizeHandle"+vt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+vt+"-resize; margin:0; padding:0"}),n.bind(dt,"mousedown",Lt=>{Lt.stopImmediatePropagation(),Lt.preventDefault(),Et(Lt)}),tt.elm=dt,n.setStyles(dt,{left:Te*tt[0]+Le-dt.offsetWidth/2,top:Ze*tt[1]+Ye-dt.offsetHeight/2})}):J(!1)},Kt=wu(Sn,0),J=(Q=!0)=>{Kt.cancel(),$e(),l&&Q&&l.removeAttribute(Aa),at(Jm,(Ee,Le)=>{const Ye=n.get("mceResizeHandle"+Le);Ye&&(n.unbind(Ye),n.remove(Ye))})},pe=(Q,Ee)=>n.isChildOf(Q,Ee),ze=Q=>{if(D||t.removed||t.composing)return;const Ee=Q.type==="mousedown"?Q.target:e.getNode(),Le=Kn(T.fromDom(Ee),Py).map(ot=>ot.dom).filter(ot=>n.isEditable(ot.parentElement)).getOrUndefined(),Ye=j(Le)?n.getAttrib(Le,Aa,"1"):"1";if(K(n.select(`img[${Aa}],hr[${Aa}]`),ot=>{ot.removeAttribute(Aa)}),j(Le)&&pe(Le,a)&&t.hasFocus()){ve();const ot=e.getStart(!0);if(pe(ot,Le)&&pe(e.getEnd(!0),Le)){n.setAttrib(Le,Aa,Ye),Kt.throttle(Le);return}}J()},$e=()=>{at(Jm,Q=>{Q.elm&&(n.unbind(Q.elm),delete Q.elm)})},ve=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{ve(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ze),t.on("keyup compositionend",Q=>{l&&l.nodeName==="TABLE"&&ze(Q)}),t.on("hide blur",J),t.on("contextmenu longpress",ne,!0)}),t.on("remove",$e),{isResizable:fe,showResizeRect:Sn,hideResizeRect:J,updateResizeRect:ze,destroy:()=>{Kt.cancel(),l=u=v=null}}},My=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},Ly=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},Kp=(e,t,n)=>{const s=e.document.createRange();return My(s,t),Ly(s,n),s},e1=(e,t,n,s,o)=>{const a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(s.dom,o),a},Xl=po.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yp=(e,t,n)=>t(T.fromDom(n.startContainer),n.startOffset,T.fromDom(n.endContainer),n.endOffset),$y=(e,t)=>t.match({domRange:n=>({ltr:oe(n),rtl:y.none}),relative:(n,s)=>({ltr:Lr(()=>Kp(e,n,s)),rtl:Lr(()=>y.some(Kp(e,s,n)))}),exact:(n,s,o,a)=>({ltr:Lr(()=>e1(e,n,s,o,a)),rtl:Lr(()=>y.some(e1(e,o,a,n,s)))})}),Xp=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(o=>o.collapsed===!1).map(o=>Xl.rtl(T.fromDom(o.endContainer),o.endOffset,T.fromDom(o.startContainer),o.startOffset)).getOrThunk(()=>Yp(e,Xl.ltr,n)):Yp(e,Xl.ltr,n)},eS=(e,t)=>{const n=$y(e,t);return Xp(e,n)};Xl.ltr,Xl.rtl;const Qp={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},tS=(e,t,n)=>{var s,o;return y.from((o=(s=e.dom).caretPositionFromPoint)===null||o===void 0?void 0:o.call(s,t,n)).bind(a=>{if(a.offsetNode===null)return y.none();const l=e.dom.createRange();return l.setStart(a.offsetNode,a.offset),l.collapse(),y.some(l)})},nS=(e,t,n)=>{var s,o;return y.from((o=(s=e.dom).caretRangeFromPoint)===null||o===void 0?void 0:o.call(s,t,n))},sS=(()=>document.caretPositionFromPoint?tS:document.caretRangeFromPoint?nS:y.none)(),oS=(e,t,n)=>{const s=T.fromDom(e.document);return sS(s,t,n).map(o=>Qp.create(T.fromDom(o.startContainer),o.startOffset,T.fromDom(o.endContainer),o.endOffset))},t1=po.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Iy=(e,t,n,s)=>e.fold(t,n,s),rS=e=>e.fold(Ct,Ct,Ct),nd=t1.before,Fy=t1.on,zy=t1.after,Zo={before:nd,on:Fy,after:zy,cata:Iy,getStart:rS},sd=po.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),n1=e=>sd.exact(e.start,e.soffset,e.finish,e.foffset),Jp=e=>e.match({domRange:t=>T.fromDom(t.startContainer),relative:(t,n)=>Zo.getStart(t),exact:(t,n,s,o)=>t}),e0=sd.domRange,t0=sd.relative,Zy=sd.exact,Vy=e=>{const t=Jp(e);return Ga(t)},s1=Qp.create,Da={domRange:e0,relative:t0,exact:Zy,exactFromRange:n1,getWin:Vy,range:s1},od=(e,t)=>{const n=lt(e);return n==="input"?Zo.after(e):Ge(["br","img"],n)?t===0?Zo.before(e):Zo.after(e):Zo.on(e,t)},Uy=(e,t)=>{const n=e.fold(Zo.before,od,Zo.after),s=t.fold(Zo.before,od,Zo.after);return Da.relative(n,s)},n0=(e,t,n,s)=>{const o=od(e,t),a=od(n,s);return Da.relative(o,a)},o1=e=>e.match({domRange:t=>{const n=T.fromDom(t.startContainer),s=T.fromDom(t.endContainer);return n0(n,t.startOffset,s,t.endOffset)},relative:Uy,exact:n0}),rd=(e,t)=>{const s=(t||document).createDocumentFragment();return K(e,o=>{s.appendChild(o.dom)}),T.fromDom(s)},Wy=e=>{const t=Da.getWin(e).dom,n=(o,a,l,u)=>e1(t,o,a,l,u),s=o1(e);return eS(t,s).match({ltr:n,rtl:n})},jy=(e,t,n)=>oS(e,t,n),s0=(e,t,n)=>{const s=Ga(T.fromDom(n));return jy(s.dom,e,t).map(o=>{const a=n.createRange();return a.setStart(o.start.dom,o.soffset),a.setEnd(o.finish.dom,o.foffset),a}).getOrUndefined()},r1=(e,t)=>j(e)&&j(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,qy=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},o0=(e,t,n)=>qy(e,t,n)!==null,aS=(e,t,n)=>o0(e,t,s=>s.nodeName===n),Gy=(e,t)=>Cs(e)&&!o0(e,t,As),Ky=(e,t,n)=>{const s=t.parentNode;if(s){const o=new Bt(t,e.getParent(s,e.isBlock)||e.getRoot());let a;for(;a=o[n?"prev":"next"]();)if(gt(a))return!0}return!1},cS=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},lS=(e,t)=>{let n=t;for(;n&&n!==e;){if(it(n))return!0;n=n.parentNode}return!1},ad=(e,t,n,s,o)=>{const a=e.getRoot(),l=e.schema.getNonEmptyElements(),u=o.parentNode;let f,h;if(!u)return y.none();const v=e.getParent(u,e.isBlock)||a;if(s&&gt(o)&&t&&e.isEmpty(v))return y.some(I(u,e.nodeIndex(o)));const p=new Bt(o,v);for(;h=p[s?"prev":"next"]();){if(e.getContentEditableParent(h)==="false"||Gy(h,a))return y.none();if(Y(h)&&h.data.length>0)return aS(h,a,"A")?y.none():y.some(I(h,s?h.data.length:0));if(e.isBlock(h)||l[h.nodeName.toLowerCase()])return y.none();f=h}return Do(f)?y.none():n&&f?y.some(I(f,0)):y.none()},r0=(e,t,n,s)=>{const o=e.getRoot();let a,l=!1,u=n?s.startContainer:s.endContainer,f=n?s.startOffset:s.endOffset;const h=ie(u)&&f===u.childNodes.length,v=e.schema.getNonEmptyElements();let p=n;if(Cs(u))return y.none();if(ie(u)&&f>u.childNodes.length-1&&(p=!1),Ja(u)&&(u=o,f=0),u===o){if(p&&(a=u.childNodes[f>0?f-1:0],a&&(Cs(a)||v[a.nodeName]||Ao(a))))return y.none();if(u.hasChildNodes()){if(f=Math.min(!p&&f>0?f-1:f,u.childNodes.length-1),u=u.childNodes[f],f=Y(u)&&h?u.data.length:0,!t&&u===o.lastChild&&Ao(u)||lS(o,u)||Cs(u))return y.none();if(u.hasChildNodes()&&!Ao(u)){a=u;const C=new Bt(u,o);do{if(it(a)||Cs(a)){l=!1;break}if(Y(a)&&a.data.length>0){f=p?0:a.data.length,u=a,l=!0;break}if(v[a.nodeName.toLowerCase()]&&!fv(a)){f=e.nodeIndex(a),u=a.parentNode,p||f++,l=!0;break}}while(a=p?C.next():C.prev())}}}return t&&(Y(u)&&f===0&&ad(e,h,t,!0,u).each(C=>{u=C.container(),f=C.offset(),l=!0}),ie(u)&&(a=u.childNodes[f],a||(a=u.childNodes[f-1]),a&&gt(a)&&!cS(a,"A")&&!Ky(e,a,!1)&&!Ky(e,a,!0)&&ad(e,h,t,!0,a).each(C=>{u=C.container(),f=C.offset(),l=!0}))),p&&!t&&Y(u)&&f===u.data.length&&ad(e,h,t,!1,u).each(C=>{u=C.container(),f=C.offset(),l=!0}),l&&u?y.some(I(u,f)):y.none()},cd=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),o=I.fromRangeStart(t);return r0(e,n,!0,s).each(a=>{(!n||!I.isAbove(o,a))&&s.setStart(a.container(),a.offset())}),n||r0(e,n,!1,s).each(a=>{s.setEnd(a.container(),a.offset())}),n&&s.collapse(!0),r1(t,s)?y.none():y.some(s)},ld=(e,t)=>e.splitText(t),Ql=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset;if(t===s&&Y(t)){if(n>0&&n<t.data.length)if(s=ld(t,n),t=s.previousSibling,o>n){o=o-n;const a=ld(s,o).previousSibling;t=s=a,o=a.data.length,n=0}else o=0}else if(Y(t)&&n>0&&n<t.data.length&&(t=ld(t,n),n=0),Y(s)&&o>0&&o<s.data.length){const a=ld(s,o).previousSibling;s=a,o=a.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:o}},Vo=e=>({walk:(a,l)=>br(e,a,l),split:Ql,expand:(a,l={type:"word"})=>{if(l.type==="word"){const u=_a(e,a,[{inline:"span"}]),f=e.createRng();return f.setStart(u.startContainer,u.startOffset),f.setEnd(u.endContainer,u.endOffset),f}return a},normalize:a=>cd(e,a).fold(qe,l=>(a.setStart(l.startContainer,l.startOffset),a.setEnd(l.endContainer,l.endOffset),!0))});Vo.compareRanges=r1,Vo.getCaretRangeFromPoint=s0,Vo.getSelectedNode=_l,Vo.getNode=fr;const Yy=((e,t)=>{const n=(u,f)=>{if(!xs(f)&&!f.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+f);const h=u.dom;Kr(h)&&(h.style[e]=f+"px")},s=u=>{const f=t(u);if(f<=0||f===null){const h=Yt(u,e);return parseFloat(h)||0}return f},o=s,a=(u,f)=>wt(f,(h,v)=>{const p=Yt(u,v),C=p===void 0?0:parseInt(p,10);return isNaN(C)?h:h+C},0);return{set:n,get:s,getOuter:o,aggregate:a,max:(u,f,h)=>{const v=a(u,h);return f>v?f-v:0}}})("height",e=>{const t=e.dom;return qr(e)?t.getBoundingClientRect().height:t.offsetHeight}),Xy=e=>Yy.get(e),a0=()=>T.fromDom(document),c0=(e,t)=>e.view(t).fold(oe([]),s=>{const o=e.owner(s),a=c0(e,o);return[s].concat(a)}),Qy=(e,t)=>{const n=t.owner(e);return c0(t,n)};var i=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?y.none():y.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(T.fromDom)},owner:e=>To(e)});const d=e=>{const t=a0(),n=Xa(t),s=Qy(e,i),o=sf(e),a=Fa(s,(l,u)=>{const f=sf(u);return{left:l.left+f.left,top:l.top+f.top}},{left:0,top:0});return Qr(a.left+o.left+n.left,a.top+o.top+n.top)},m=e=>lt(e)==="textarea",g=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),b=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},w=(e,t)=>{const n=sn(e);if(n.length===0||m(e))return{element:e,offset:t};if(t<n.length&&!m(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return m(s)?{element:e,offset:t}:lt(s)==="img"?{element:s,offset:1}:_n(s)?{element:s,offset:Yi(s).length}:{element:s,offset:sn(s).length}}},E=(e,t)=>{const n=No(e),s=Xy(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},_=(e,t)=>{const n=w(e,t),s=T.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+dn+"</span>");return as(n.element,s),E(s,()=>pt(s))},P=e=>E(T.fromDom(e),Be),W=(e,t,n,s)=>{ce(e,(o,a)=>re(e,t,n,s),n)},ae=(e,t,n,s,o)=>{const a={elm:s.element.dom,alignToTop:o};if(g(e,a))return;const l=Xa(t).top;n(t,l,s,o),b(e,a)},re=(e,t,n,s)=>{const o=T.fromDom(e.getBody()),a=T.fromDom(e.getDoc());Vi(o);const l=_(T.fromDom(n.startContainer),n.startOffset);ae(e,a,t,l,s),l.cleanup()},Z=(e,t,n,s)=>{const o=T.fromDom(e.getDoc());ae(e,o,n,P(t),s)},ce=(e,t,n)=>{const s=n.startContainer,o=n.startOffset,a=n.endContainer,l=n.endOffset;t(T.fromDom(s),T.fromDom(a));const u=e.dom.createRng();u.setStart(s,o),u.setEnd(a,l),e.selection.setRng(n)},z=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),me=(e,t,n,s)=>{const o=t+e,a=n.pos.top,l=n.bottom,u=l-a>=t;a<e?z(n,s!==!1):a>o?z(n,u?s!==!1:s===!0):l>o&&!u&&z(n,s===!0)},xe=(e,t,n,s)=>{const o=Ga(e).dom.innerHeight;me(t,o,n,s)},Ae=(e,t,n,s)=>{const o=Ga(e).dom.innerHeight;me(t,o,n,s);const a=d(n.element),l=rf(window);a.top<l.y?Qa(n.element,s!==!1):a.top>l.bottom&&Qa(n.element,s===!0)},ut=(e,t,n)=>W(e,xe,t,n),Qt=(e,t,n)=>Z(e,t,xe,n),St=(e,t,n)=>W(e,Ae,t,n),Jn=(e,t,n)=>Z(e,t,Ae,n),Pc=(e,t,n)=>{(e.inline?Qt:Jn)(e,t,n)},Oa=(e,t,n)=>{(e.inline?ut:St)(e,t,n)},a1=e=>e.dom.focus(),id=e=>{const t=_o(e).dom;return e.dom===t.activeElement},je=(e=a0())=>y.from(e.dom.activeElement).map(T.fromDom),Pn=e=>je(_o(e)).filter(t=>e.dom.contains(t.dom)),yn=(e,t)=>{const n=_n(t)?Yi(t).length:sn(t).length+1;return e>n?n:e<0?0:e},Bs=e=>Da.range(e.start,yn(e.soffset,e.start),e.finish,yn(e.foffset,e.finish)),us=(e,t)=>!ji(t.dom)&&(Zs(e,t)||Ke(e,t)),Pa=e=>t=>us(e,t.start)&&us(e,t.finish),Bn=e=>e.inline||Ve.browser.isFirefox(),c1=e=>Da.range(T.fromDom(e.startContainer),e.startOffset,T.fromDom(e.endContainer),e.endOffset),Jl=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?y.none():y.from(t.getRangeAt(0))).map(c1)},Co=e=>{const t=Ga(e);return Jl(t.dom).filter(Pa(e))},hn=(e,t)=>y.from(t).filter(Pa(e)).map(Bs),Jy=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),y.some(t)}catch{return y.none()}},l1=e=>{const t=Bn(e)?Co(T.fromDom(e.getBody())):y.none();e.bookmark=t.isSome()?t:e.bookmark},i1=e=>(e.bookmark?e.bookmark:y.none()).bind(n=>hn(T.fromDom(e.getBody()),n)).bind(Jy),e4=e=>{i1(e).each(t=>e.selection.setRng(t))},ud={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},t4=(e,t)=>(xs(t)||(t=0),setTimeout(e,t)),ei=(e,t)=>(xs(t)||(t=0),setInterval(e,t)),Ys={setEditorTimeout:(e,t,n)=>t4(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=ei(()=>{e.removed?clearInterval(s):t()},n);return s}},VT=e=>e.type==="nodechange"&&e.selectionChange,UT=(e,t)=>{const n=()=>{t.throttle()};Qe.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Qe.DOM.unbind(document,"mouseup",n)})},WT=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},jT=(e,t)=>{WT(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{VT(n)||l1(e)})},qT=e=>{const t=wu(()=>{l1(e)},0);e.on("init",()=>{e.inline&&UT(e,t),jT(e,t)}),e.on("remove",()=>{t.cancel()})};let dd;const n4=Qe.DOM,GT=e=>ie(e)&&ud.isEditorUIElement(e),s4=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},l0=(e,t)=>{const n=jg(e);return n4.getParent(t,o=>GT(o)||(n?e.dom.is(o,n):!1))!==null},o4=e=>{try{const t=_o(T.fromDom(e.getElement()));return je(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},KT=(e,t)=>{const n=t.editor;qT(n);const s=(o,a)=>{if(_C(o)&&o.inline!==!0){const l=T.fromDom(o.getContainer());a(l,"tox-edit-focus")}};n.on("focusin",()=>{const o=e.focusedEditor;s4(o4(n))&&s(n,Wr),o!==n&&(o&&o.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:o}),n.focus(!0))}),n.on("focusout",()=>{Ys.setEditorTimeout(n,()=>{const o=e.focusedEditor;(!s4(o4(n))||o!==n)&&s(n,qa),!l0(n,o4(n))&&o===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),dd||(dd=o=>{const a=e.activeEditor;a&&ph(o).each(l=>{const u=l;u.ownerDocument===document&&u!==document.body&&!l0(a,u)&&e.focusedEditor===a&&(a.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},n4.bind(document,"focusin",dd))},YT=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&dd&&(n4.unbind(document,"focusin",dd),dd=null)},XT=e=>{e.on("AddEditor",G(KT,e)),e.on("RemoveEditor",G(YT,e))},QT=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),JT=e=>e.collapsed?y.from(fr(e.startContainer,e.startOffset)).map(T.fromDom):y.none(),e7=(e,t)=>JT(t).bind(n=>Bh(n)?y.some(n):Zs(e,n)?y.none():y.some(e)),dS=(e,t)=>{e7(T.fromDom(e.getBody()),t).bind(n=>mn(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},r4=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},t7=e=>id(e)||Pn(e).isSome(),n7=e=>j(e.iframeElement)&&id(T.fromDom(e.iframeElement)),s7=e=>{const t=e.getBody();return t&&t7(T.fromDom(t))},o7=e=>{const t=_o(T.fromDom(e.getElement()));return je(t).filter(n=>!s4(n.dom)&&l0(e,n.dom)).isSome()},ti=e=>e.inline?s7(e):n7(e),r7=e=>ti(e)||o7(e),a7=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable(),j(e.bookmark)&&!ti(e)&&i1(e).each(a=>{e.selection.setRng(a),s=a});const o=QT(e,t.getNode());if(o&&e.dom.isChildOf(o,n)){r4(o),dS(e,s),a4(e);return}e.inline||(Ve.browser.isOpera()||r4(n),e.getWin().focus()),(Ve.browser.isFirefox()||e.inline)&&(r4(n),dS(e,s)),a4(e)},a4=e=>e.editorManager.setActive(e),c7=(e,t)=>{e.removed||(t?a4(e):a7(e))},fS=(e,t,n,s,o)=>{const a=n?t.startContainer:t.endContainer,l=n?t.startOffset:t.endOffset;return y.from(a).map(T.fromDom).map(u=>!s||!t.collapsed?jr(u,o(u,l)).getOr(u):u).bind(u=>st(u)?y.some(u):ps(u).filter(st)).map(u=>u.dom).getOr(e)},mS=(e,t,n=!1)=>fS(e,t,!0,n,(s,o)=>Math.min(Ii(s),o)),hS=(e,t,n=!1)=>fS(e,t,!1,n,(s,o)=>o>0?o-1:o),gS=(e,t)=>{const n=e;for(;e&&Y(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},l7=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const o=t.startOffset,a=t.endOffset;let l=t.commonAncestorContainer;t.collapsed||(n===s&&a-o<2&&n.hasChildNodes()&&(l=n.childNodes[o]),Y(n)&&Y(s)&&(n.length===o?n=gS(n.nextSibling,!0):n=n.parentNode,a===0?s=gS(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(l=n)));const u=Y(l)?l.parentNode:l;return ie(u)?u:e},i7=(e,t,n,s)=>{const o=[],a=e.getRoot(),l=e.getParent(n||mS(a,t,t.collapsed),e.isBlock),u=e.getParent(s||hS(a,t,t.collapsed),e.isBlock);if(l&&l!==a&&o.push(l),l&&u&&l!==u){let f;const h=new Bt(l,a);for(;(f=h.next())&&f!==u;)e.isBlock(f)&&o.push(f)}return u&&l!==u&&u!==a&&o.push(u),o},u7=(e,t,n)=>y.from(t).bind(s=>y.from(s.parentNode).map(o=>{const a=e.nodeIndex(s),l=e.createRng();return l.setStart(o,a),l.setEnd(o,a+1),n&&(kc(e,l,s,!0),kc(e,l,s,!1)),l})),c4=(e,t)=>We(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),d7=e=>lt(e)==="img"?1:Dh(e).fold(()=>sn(e).length,t=>t.length),f7=e=>Dh(e).filter(t=>t.trim().length!==0||t.indexOf(Gt)>-1).isSome(),m7=e=>Wd(e)&&jn(e,"contenteditable")==="false",h7=["img","br"],pS=e=>f7(e)||Ge(h7,lt(e))||m7(e),g7=e=>tv(e,pS),p7=e=>v7(e,pS),v7=(e,t)=>{const n=s=>{const o=sn(s);for(let a=o.length-1;a>=0;a--){const l=o[a];if(t(l))return y.some(l);const u=n(l);if(u.isSome())return u}return y.none()};return n(e)},vS="[data-mce-autocompleter]",b7=(e,t)=>{if(bS(T.fromDom(e.getBody())).isNone()){const n=T.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Pt(n,T.fromDom(t.extractContents())),t.insertNode(n.dom),ps(n).each(s=>s.dom.normalize()),p7(n).map(s=>{e.selection.setCursorLocation(s.dom,d7(s))})}},C7=e=>Kn(e,vS),bS=e=>Ya(e,vS),y7=(e,t)=>bS(t).each(n=>{const s=e.selection.getBookmark();or(n),e.selection.moveToBookmark(s)}),w7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},i0=(e,t,n)=>{const s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s])return e[s];if(e!==t){let a=e[o];if(a)return a;for(let l=e.parent;l&&l!==t;l=l.parent)if(a=l[o],a)return a}},S7=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!sa(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},CS=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ds{static create(t,n){const s=new ds(t,w7[t]||1);return n&&at(n,(o,a)=>{s.attr(a,o)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!V(t))return j(t)&&at(t,(a,l)=>{s.attr(l,a)}),s;const o=s.attributes;if(o){if(n!==void 0){if(n===null){if(t in o.map){delete o.map[t];let a=o.length;for(;a--;)if(o[a].name===t)return o.splice(a,1),s}return s}if(t in o.map){let a=o.length;for(;a--;)if(o[a].name===t){o[a].value=n;break}}else o.push({name:t,value:n});return o.map[t]=n,s}return o.map[t]}}clone(){const t=this,n=new ds(t.name,t.type),s=t.attributes;if(s){const o=[];o.map={};for(let a=0,l=s.length;a<l;a++){const u=s[a];u.name!=="id"&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}n.attributes=o}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,o=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):o&&(o.next=s),n.lastChild===t?(n.lastChild=o,o&&(o.next=null)):s&&(s.prev=o),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const o=n.parent||this;return s?(n===o.firstChild?o.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===o.lastChild?o.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=o,t}getAll(t){const n=this,s=[];for(let o=n.firstChild;o;o=i0(o,n))o.name===t&&s.push(o);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let o=t.firstChild;o;o=i0(o,t))n.push(o);let s=n.length;for(;s--;){const o=n[s];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var o;const a=this;let l=a.firstChild;if(CS(a))return!1;if(l)do{if(l.type===1){if(l.attr("data-mce-bogus"))continue;if(t[l.name]||CS(l))return!1}if(l.type===8||l.type===3&&!S7(l)||l.type===3&&l.parent&&n[l.parent.name]&&sa((o=l.value)!==null&&o!==void 0?o:"")||s&&s(l))return!1}while(l=i0(l,a));return!0}walk(t){return i0(this,null,t)}}const E7=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),yS=(e,t,n=0)=>{const s=e.toLowerCase();if(s.indexOf("[if ",n)!==-1&&E7(s,n)){const o=s.indexOf("[endif]",n);return s.indexOf(">",o)}else if(t){const o=s.indexOf(">",n);return o!==-1?o:s.length}else{const o=/--!?>/g;o.lastIndex=n;const a=o.exec(e);return a?a.index+a[0].length:s.length}},k7=(e,t,n)=>{const s=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,a=e.getVoidElements();let l=1,u=n;for(;l!==0;)for(s.lastIndex=u;;){const f=s.exec(t);if(f===null)return u;if(f[1]==="!"){ln(f[2],"--")?u=yS(t,!1,f.index+3):u=yS(t,!0,f.index+1);break}else{o.lastIndex=s.lastIndex;const h=o.exec(t);if(Rn(h)||h.index!==s.lastIndex)continue;f[1]==="/"?l-=1:Oe(a,f[2])||(l+=1),u=s.lastIndex+h[0].length;break}}return u},x7=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},wS=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;let o=x7(e.getTempAttrs(),t);const a=s.getVoidElements();let l;for(;l=n.exec(o);){const u=n.lastIndex,f=l[0].length;let h;a[l[1]]?h=u:h=k7(s,o,u),o=o.substring(0,u-f)+o.substring(h),n.lastIndex=u-f}return Oo(o)},R7=wS,SS=e=>{const t=un(e,"[data-mce-bogus]");K(t,n=>{jn(n,"data-mce-bogus")==="all"?pt(n):ta(n)?(as(n,T.fromText(ea)),pt(n)):or(n)})},ES=e=>{const t=un(e,"input");K(t,n=>{qt(n,"name")})},T7=(e,t)=>{const n=An(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},_7=(e,t)=>{const n=e.getDoc(),s=_o(T.fromDom(e.getBody())),o=T.fromTag("div",n);nn(o,"data-mce-bogus","all"),Zi(o,{position:"fixed",left:"-9999999px",top:"0"}),Me(o,t.innerHTML),SS(o),ES(o);const a=$3(s);Pt(a,o);const l=Oo(o.dom.innerText);return pt(o),l},N7=(e,t,n)=>{let s;return t.format==="raw"?s=te.trim(R7(e.serializer,n.innerHTML)):t.format==="text"?s=_7(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=T7(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Xi(T.fromDom(n))&&V(s)?te.trim(s):s},A7=(e,t)=>y.from(e.getBody()).fold(oe(t.format==="tree"?new ds("body",11):""),n=>N7(e,t,n)),kS=te.makeMap,xS=e=>{const t=[];e=e||{};const n=e.indent,s=kS(e.indent_before||""),o=kS(e.indent_after||""),a=ir.getEncodeFunc(e.entity_encoding||"raw",e.entities),l=e.element_format!=="xhtml";return{start:(u,f,h)=>{if(n&&s[u]&&t.length>0){const v=t[t.length-1];v.length>0&&v!==`
`&&t.push(`
`)}if(t.push("<",u),f)for(let v=0,p=f.length;v<p;v++){const C=f[v];t.push(" ",C.name,'="',a(C.value,!0),'"')}if(!h||l?t[t.length]=">":t[t.length]=" />",h&&n&&o[u]&&t.length>0){const v=t[t.length-1];v.length>0&&v!==`
`&&t.push(`
`)}},end:u=>{let f;t.push("</",u,">"),n&&o[u]&&t.length>0&&(f=t[t.length-1],f.length>0&&f!==`
`&&t.push(`
`))},text:(u,f)=>{u.length>0&&(t[t.length]=f?u:a(u))},cdata:u=>{t.push("<![CDATA[",u,"]]>")},comment:u=>{t.push("<!--",u,"-->")},pi:(u,f)=>{f?t.push("<?",u," ",a(f),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:u=>{t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Bc=(e={},t=dr())=>{const n=xS(e);return e.validate="validate"in e?e.validate:!0,{serialize:o=>{const a=e.validate,l={3:f=>{var h;n.text((h=f.value)!==null&&h!==void 0?h:"",f.raw)},8:f=>{var h;n.comment((h=f.value)!==null&&h!==void 0?h:"")},7:f=>{n.pi(f.name,f.value)},10:f=>{var h;n.doctype((h=f.value)!==null&&h!==void 0?h:"")},4:f=>{var h;n.cdata((h=f.value)!==null&&h!==void 0?h:"")},11:f=>{let h=f;if(h=h.firstChild)do u(h);while(h=h.next)}};n.reset();const u=f=>{var h;const v=l[f.type];if(v)v(f);else{const p=f.name,C=p in t.getVoidElements();let k=f.attributes;if(a&&k&&k.length>1){const R=[];R.map={};const S=t.getElementRule(f.name);if(S){for(let x=0,A=S.attributesOrder.length;x<A;x++){const D=S.attributesOrder[x];if(D in k.map){const O=k.map[D];R.map[D]=O,R.push({name:D,value:O})}}for(let x=0,A=k.length;x<A;x++){const D=k[x].name;if(!(D in R.map)){const O=k.map[D];R.map[D]=O,R.push({name:D,value:O})}}k=R}}if(n.start(p,k,C),!C){let R=f.firstChild;if(R){(p==="pre"||p==="textarea")&&R.type===3&&((h=R.value)===null||h===void 0?void 0:h[0])===`
`&&n.text(`
`,!0);do u(R);while(R=R.next)}n.end(p)}}};return o.type===1&&!e.inner?u(o):o.type===3?l[3](o):l[11](o),n.getContent()}}},RS=new Set;K(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{RS.add(t)});const TS=["font","text-decoration","text-emphasis"],l4=(e,t)=>ss(e.parseStyle(e.getAttrib(t,"style"))),D7=e=>RS.has(e),O7=(e,t)=>So(l4(e,t),n=>!D7(n)),P7=e=>ke(e,t=>Ot(TS,n=>ln(t,n))),B7=(e,t,n)=>{const s=l4(e,t),o=l4(e,n),a=l=>{var u,f;const h=(u=e.getStyle(t,l))!==null&&u!==void 0?u:"",v=(f=e.getStyle(n,l))!==null&&f!==void 0?f:"";return jt(h)&&jt(v)&&h!==v};return Ot(s,l=>{const u=f=>Ot(f,h=>h===l);if(!u(o)&&u(TS)){const f=P7(o);return Ot(f,a)}else return a(l)})},_S=(e,t,n)=>y.from(n.container()).filter(Y).exists(s=>{const o=e?0:-1;return t(s.data.charAt(n.offset()+o))}),i4=G(_S,!0,ka),u4=G(_S,!1,ka),M7=e=>{const t=e.container();return Y(t)&&(t.data.length===0||Ji(t.data)&&Ju.isBookmarkNode(t.parentNode))},Mc=(e,t)=>n=>cp(e?0:-1,n).filter(t).isSome(),NS=e=>_h(e)&&Yt(T.fromDom(e),"display")==="block",AS=e=>it(e)&&!iv(e),L7=Mc(!0,NS),$7=Mc(!1,NS),u1=Mc(!0,Us),d1=Mc(!1,Us),DS=Mc(!0,Ao),OS=Mc(!1,Ao),Lc=Mc(!0,AS),$c=Mc(!1,AS),H7=e=>e.slice(0,-1),I7=(e,t,n)=>Zs(t,e)?H7(Kd(e,s=>n(s)||Ke(s,t))):[],PS=(e,t)=>I7(e,t,qe),Ba=(e,t)=>[e].concat(PS(e,t)),d4=(e,t,n)=>dp(e,t,n,M7),BS=(e,t)=>Wt(Ba(T.fromDom(t.container()),e),bs),MS=(e,t,n)=>d4(e,t.dom,n).forall(s=>BS(t,n).fold(()=>!ls(s,n,t.dom),o=>!ls(s,n,t.dom)&&Zs(o,T.fromDom(s.container())))),LS=(e,t,n)=>BS(t,n).fold(()=>d4(e,t.dom,n).forall(s=>!ls(s,n,t.dom)),s=>d4(e,s.dom,n).isNone()),f4=G(LS,!1),$S=G(LS,!0),F7=G(MS,!1),z7=G(MS,!0),Z7=e=>Io(e).exists(ta),u0=(e,t,n)=>{const s=ke(Ba(T.fromDom(n.container()),t),bs),o=zn(s).getOr(t);return _s(e,o.dom,n).filter(Z7)},m4=(e,t)=>Io(t).exists(ta)||u0(!0,e,t).isSome(),h4=(e,t)=>zl(t).exists(ta)||u0(!1,e,t).isSome(),V7=G(u0,!1),U7=G(u0,!0),HS=e=>I.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),IS=(e,t)=>{const n=ke(Ba(T.fromDom(t.container()),e),bs);return zn(n).getOr(e)},FS=(e,t)=>HS(t)?u4(t):u4(t)||Cn(IS(e,t).dom,t).exists(u4),zS=(e,t)=>HS(t)?i4(t):i4(t)||On(IS(e,t).dom,t).exists(i4),W7=e=>Ge(["pre","pre-wrap"],e),g4=e=>Io(e).bind(t=>Gr(t,st)).exists(t=>W7(Yt(t,"white-space"))),j7=(e,t)=>Cn(e.dom,t).isNone(),q7=(e,t)=>On(e.dom,t).isNone(),G7=(e,t)=>j7(e,t)||q7(e,t)||f4(e,t)||$S(e,t)||h4(e,t)||m4(e,t),K7=e=>j(e)&&it(e)&&ap(e),ZS=(e,t)=>n=>K7(new Bt(n,e)[t]()),Y7=(e,t)=>{const n=On(e.dom,t).getOr(t),s=ZS(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},X7=(e,t)=>{const n=Cn(e.dom,t).getOr(t),s=ZS(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},VS=(e,t)=>g4(t)?!1:G7(e,t)||FS(e,t)||zS(e,t),f1=(e,t)=>g4(t)?!1:f4(e,t)||F7(e,t)||h4(e,t)||FS(e,t)||X7(e,t),Q7=e=>{const t=e.container(),n=e.offset();return Y(t)&&n<t.data.length?I(t,n+1):e},m1=(e,t)=>g4(t)?!1:$S(e,t)||z7(e,t)||m4(e,t)||zS(e,t)||Y7(e,t),p4=(e,t)=>f1(e,t)||m1(e,Q7(t)),US=(e,t)=>Wu(e.charAt(t)),WS=(e,t)=>ka(e.charAt(t)),J7=e=>{const t=e.container();return Y(t)&&vn(t.data,Gt)},e8=e=>{const t=e.split("");return We(t,(n,s)=>Wu(n)&&s>0&&s<t.length-1&&Ul(t[s-1])&&Ul(t[s+1])?" ":n).join("")},jS=(e,t,n)=>{const s=t.data,o=I(t,0);return!n&&US(s,0)&&!p4(e,o)?(t.data=" "+s.slice(1),!0):n&&WS(s,0)&&f1(e,o)?(t.data=Gt+s.slice(1),!0):!1},t8=e=>{const t=e.data,n=e8(t);return n!==t?(e.data=n,!0):!1},qS=(e,t,n)=>{const s=t.data,o=I(t,s.length-1);return!n&&US(s,s.length-1)&&!p4(e,o)?(t.data=s.slice(0,-1)+" ",!0):n&&WS(s,s.length-1)&&m1(e,o)?(t.data=s.slice(0,-1)+Gt,!0):!1},n8=(e,t)=>{const n=t.container();if(!Y(n))return y.none();if(J7(t)){const s=jS(e,n,!1)||t8(n)||qS(e,n,!1);return Rs(s,t)}else if(p4(e,t)){const s=jS(e,n,!0)||qS(e,n,!0);return Rs(s,t)}else return y.none()},s8=e=>{const t=T.fromDom(e.getBody());e.selection.isCollapsed()&&n8(t,I.fromRangeStart(e.selection.getRng())).each(n=>{e.selection.setRng(n.toRange())})},GS=(e,t,n)=>{if(n===0)return;const s=T.fromDom(e),o=rs(s,bs).getOr(s),a=e.data.slice(t,t+n),l=t+n>=e.data.length&&m1(o,I(e,e.data.length)),u=t===0&&f1(o,I(e,0));e.replaceData(t,n,Ef(a,4,u,l))},d0=(e,t)=>{const n=e.data.slice(t),s=n.length-V1(n).length;GS(e,t,s)},v4=(e,t)=>{const n=e.data.slice(0,t),s=n.length-Xc(n).length;GS(e,t-s,s)},b4=(e,t,n,s=!0)=>{const o=Xc(e.data).length,a=s?e:t,l=s?t:e;return s?a.appendData(l.data):a.insertData(0,l.data),pt(T.fromDom(l)),n&&d0(a,o),a},o8=(e,t)=>{const n=e.container(),s=e.offset();return!I.isTextPosition(e)&&n===t.parentNode&&s>I.before(t).offset()},r8=(e,t)=>o8(t,e)?I(t.container(),t.offset()-1):t,a8=e=>Y(e)?I(e,0):I.before(e),c8=e=>Y(e)?I(e,e.data.length):I.after(e),KS=e=>ys(e.previousSibling)?y.some(c8(e.previousSibling)):e.previousSibling?Ns(e.previousSibling):y.none(),YS=e=>ys(e.nextSibling)?y.some(a8(e.nextSibling)):e.nextSibling?mn(e.nextSibling):y.none(),l8=(e,t)=>y.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Cn(e,I.before(n))).orThunk(()=>On(e,I.after(t))),i8=(e,t)=>On(e,I.after(t)).orThunk(()=>Cn(e,I.before(t))),u8=(e,t)=>KS(t).orThunk(()=>YS(t)).orThunk(()=>l8(e,t)),d8=(e,t)=>YS(t).orThunk(()=>KS(t)).orThunk(()=>i8(e,t)),f8=(e,t,n)=>e?d8(t,n):u8(t,n),m8=(e,t,n)=>f8(e,t,n).map(G(r8,n)),XS=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},h8=e=>t=>t.dom===e,g8=(e,t)=>t&&Oe(e.schema.getBlockElements(),lt(t)),p8=e=>{if(Mt(e)){const t=T.fromHtml('<br data-mce-bogus="1">');return Xr(e),Pt(e,t),y.some(I.before(t.dom))}else return y.none()},v8=(e,t,n)=>{const s=nr(e).filter(_n),o=Ka(e).filter(_n);return pt(e),V2(s,o,t,(a,l,u)=>{const f=a.dom,h=l.dom,v=f.data.length;return b4(f,h,n),u.container()===h?I(f,v):u}).orThunk(()=>(n&&(s.each(a=>v4(a.dom,a.dom.length)),o.each(a=>d0(a.dom,0))),t))},b8=(e,t)=>Oe(e.schema.getTextInlineElements(),lt(t)),ni=(e,t,n,s=!0)=>{const o=m8(t,e.getBody(),n.dom),a=rs(n,G(g8,e),h8(e.getBody())),l=v8(n,o,b8(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(p8).fold(()=>{s&&XS(e,t,l)},u=>{s&&XS(e,t,y.some(u))})},C8=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,y8=e=>C8.test(e),si=(e,t)=>Gn(T.fromDom(t),eC(e))&&!ra(e.schema,t)&&e.dom.isEditable(t),QS=e=>{var t;return Qe.DOM.getStyle(e,"direction",!0)==="rtl"||y8((t=e.textContent)!==null&&t!==void 0?t:"")},w8=(e,t,n)=>ke(Qe.DOM.getParents(n.container(),"*",t),e),Hc=(e,t,n)=>{const s=w8(e,t,n);return y.from(s[s.length-1])},S8=(e,t,n)=>{const s=Sa(t,e),o=Sa(n,e);return j(s)&&s===o},E8=e=>pf(e)||vf(e),Xs=(e,t)=>{const n=t.container(),s=t.offset();return e?Po(n)?Y(n.nextSibling)?I(n.nextSibling,0):I.after(n):pf(t)?I(n,s+1):t:Po(n)?Y(n.previousSibling)?I(n.previousSibling,n.previousSibling.data.length):I.before(n):vf(t)?I(n,s-1):t},JS=G(Xs,!0),eE=G(Xs,!1),tE=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},k8=e=>{e.execCommand("delete")},C4=e=>tE(e,"Delete"),x8=e=>tE(e,"ForwardDelete"),R8=e=>t=>uo(ps(t),e,Ke),T8=e=>Ph(e)||nc(e),f0=(e,t)=>Zs(e,t)?Gr(t,T8,R8(e)):y.none(),y4=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},nE=(e,t,n)=>$n(mn(n),Ns(n),(s,o)=>{const a=Xs(!0,s),l=Xs(!1,o),u=Xs(!1,t);return e?On(n,u).exists(f=>f.isEqual(l)&&t.isEqual(a)):Cn(n,u).exists(f=>f.isEqual(a)&&t.isEqual(l))}).getOr(!0),sE=e=>(ah(e)?nr(e):Hi(e)).bind(sE).orThunk(()=>y.some(e)),oE=(e,t,n,s=!0)=>{var o;t.deleteContents();const a=sE(n).getOr(n),l=T.fromDom((o=e.dom.getParent(a.dom,e.dom.isBlock))!==null&&o!==void 0?o:n.dom);if(l.dom===e.getBody()?y4(e,s):Mt(l)&&(ar(l),s&&e.selection.setCursorLocation(l.dom,0)),!Ke(n,l)){const u=uo(ps(l),n)?[]:fh(l);K(u.concat(sn(n)),f=>{!Ke(f,l)&&!Zs(f,l)&&Mt(f)&&pt(f)})}},_8=e=>t=>Ke(e,t),w4=e=>un(e,"td,th"),N8=(e,t)=>{const n=h=>Gl(T.fromDom(h),t),s=n(e.startContainer),o=n(e.endContainer),a=s.isSome(),l=o.isSome(),u=$n(s,o,Ke).getOr(!1);return{startTable:s,endTable:o,isStartInTable:a,isEndInTable:l,isSameTable:u,isMultiTable:!u&&a&&l}},S4=(e,t)=>({start:e,end:t}),A8=(e,t,n)=>({rng:e,table:t,cells:n}),h1=po.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),m0=(e,t)=>Kn(T.fromDom(e),"td,th",t),rE=e=>!Ke(e.start,e.end),aE=(e,t)=>Gl(e.start,t).bind(n=>Gl(e.end,t).bind(s=>Rs(Ke(n,s),n))),D8=(e,t)=>!rE(e)&&aE(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),O8=(e,t)=>{const n=m0(e.startContainer,t),s=m0(e.endContainer,t);return $n(n,s,S4)},P8=e=>t=>Gl(t,e).bind(n=>Or(w4(n)).map(s=>S4(t,s))),B8=e=>t=>Gl(t,e).bind(n=>zn(w4(n)).map(s=>S4(s,t))),E4=e=>t=>aE(t,e).map(n=>A8(t,n,w4(n))),cE=(e,t,n,s)=>{if(n.collapsed||!e.forall(rE))return y.none();if(t.isSameTable){const o=e.bind(E4(s));return y.some({start:o,end:o})}else{const o=m0(n.startContainer,s),a=m0(n.endContainer,s),l=o.bind(P8(s)).bind(E4(s)),u=a.bind(B8(s)).bind(E4(s));return y.some({start:l,end:u})}},lE=(e,t)=>Wc(e,n=>Ke(n,t)),k4=e=>$n(lE(e.cells,e.rng.start),lE(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),M8=(e,t,n)=>e.exists(s=>D8(s,n)&&Kl(s.start,t)),iE=(e,t)=>{const{startTable:n,endTable:s}=t,o=e.cloneRange();return n.each(a=>o.setStartAfter(a.dom)),s.each(a=>o.setEndBefore(a.dom)),o},L8=(e,t,n,s)=>cE(e,t,n,s).bind(({start:o,end:a})=>o.or(a)).bind(o=>{const{isSameTable:a}=t,l=k4(o).getOr([]);if(a&&o.cells.length===l.length)return y.some(h1.fullTable(o.table));if(l.length>0){if(a)return y.some(h1.partialTable(l,y.none()));{const u=iE(n,t);return y.some(h1.partialTable(l,y.some({...t,rng:u})))}}else return y.none()}),$8=(e,t,n,s)=>cE(e,t,n,s).bind(({start:o,end:a})=>{const l=o.bind(k4).getOr([]),u=a.bind(k4).getOr([]);if(l.length>0&&u.length>0){const f=iE(n,t);return y.some(h1.multiTable(l,u,f))}else return y.none()}),H8=(e,t)=>{const n=_8(e),s=O8(t,n),o=N8(t,n);return M8(s,t,n)?s.map(a=>h1.singleCellTable(t,a.start)):o.isMultiTable?$8(s,o,t,n):L8(s,o,t,n)},uE=e=>K(e,t=>{qt(t,"contenteditable"),ar(t)}),I8=(e,t)=>y.from(e.dom.getParent(t,e.dom.isBlock)).map(T.fromDom),F8=(e,t,n)=>{n.each(s=>{t?pt(s):(ar(s),e.selection.setCursorLocation(s.dom,0))})},x4=(e,t,n,s)=>{const o=n.cloneRange();s?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),R4(e,o,t,!1).each(a=>a())},dE=e=>{const t=xa(e),n=T.fromDom(e.selection.getNode());Gi(n.dom)&&Mt(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Ot(t,s=>Ke(s,n))&&nn(n,"data-mce-selected","1")},fE=(e,t,n)=>y.some(()=>{const s=e.selection.getRng(),o=n.bind(({rng:a,isStartInTable:l})=>{const u=I8(e,l?a.endContainer:a.startContainer);a.deleteContents(),F8(e,l,u.filter(Mt));const f=l?t[0]:t[t.length-1];return x4(e,f,s,l),Mt(f)?y.none():y.some(l?t.slice(1):t.slice(0,-1))}).getOr(t);uE(o),dE(e)}),z8=(e,t,n,s)=>y.some(()=>{const o=e.selection.getRng(),a=t[0],l=n[n.length-1];x4(e,a,o,!0),x4(e,l,o,!1);const u=Mt(a)?t:t.slice(1),f=Mt(l)?n:n.slice(0,-1);uE(u.concat(f)),s.deleteContents(),dE(e)}),R4=(e,t,n,s=!0)=>y.some(()=>{oE(e,t,n,s)}),Z8=(e,t)=>y.some(()=>ni(e,!1,t)),V8=(e,t,n)=>H8(t,n).bind(s=>s.fold(G(R4,e),G(Z8,e),G(fE,e),G(z8,e))),U8=(e,t)=>h0(e,t),W8=(e,t,n,s)=>T4(t,s).fold(()=>V8(e,t,n),o=>U8(e,o)),j8=(e,t,n)=>{const s=T.fromDom(e.getBody()),o=e.selection.getRng();return n.length!==0?fE(e,n,y.none()):W8(e,s,o,t)},mE=(e,t)=>Wt(Ba(t,e),sc),T4=(e,t)=>Wt(Ba(t,e),el("caption")),q8=(e,t,n,s,o)=>bo(n,e.getBody(),o).bind(a=>mE(t,T.fromDom(a.getNode())).bind(l=>Ke(l,s)?y.none():y.some(Be))),h0=(e,t)=>y.some(()=>{ar(t),e.selection.setCursorLocation(t.dom,0)}),G8=(e,t,n,s)=>mn(e.dom).bind(o=>Ns(e.dom).map(a=>t?n.isEqual(o)&&s.isEqual(a):n.isEqual(a)&&s.isEqual(o))).getOr(!0),K8=(e,t)=>h0(e,t),Y8=(e,t,n)=>T4(e,T.fromDom(n.getNode())).fold(()=>y.some(Be),s=>Rs(!Ke(s,t),Be)),X8=(e,t,n,s,o)=>bo(n,e.getBody(),o).fold(()=>y.some(Be),a=>G8(s,n,o,a)?K8(e,s):Y8(t,s,a)),Q8=(e,t,n,s)=>{const o=I.fromRangeStart(e.selection.getRng());return mE(n,s).bind(a=>Mt(a)?h0(e,a):q8(e,n,t,a,o))},J8=(e,t,n,s)=>{const o=I.fromRangeStart(e.selection.getRng());return Mt(s)?h0(e,s):X8(e,n,t,s,o)},hE=(e,t)=>e?DS(t):OS(t),e_=(e,t)=>{const n=I.fromRangeStart(e.selection.getRng());return hE(t,n)||_s(t,e.getBody(),n).exists(s=>hE(t,s))},t_=(e,t,n)=>{const s=T.fromDom(e.getBody());return T4(s,n).fold(()=>Q8(e,t,s,n).orThunk(()=>Rs(e_(e,t),Be)),o=>J8(e,t,s,o))},_4=(e,t)=>{const n=T.fromDom(e.selection.getStart(!0)),s=xa(e);return e.selection.isCollapsed()&&s.length===0?t_(e,t,n):j8(e,n,s)},oi=(e,t)=>{let n=t;for(;n&&n!==e;){if(Vs(n)||it(n))return n;n=n.parentNode}return null},n_=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],s_=te.each,N4=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(a,l)=>{if(a.nodeName!==l.nodeName||a.nodeType!==l.nodeType)return!1;const u=h=>{const v={};return s_(t.getAttribs(h),p=>{const C=p.nodeName.toLowerCase();C!=="style"&&!o(C)&&(v[C]=t.getAttrib(h,C))}),v},f=(h,v)=>{for(const p in h)if(Oe(h,p)){const C=v[p];if(en(C)||h[p]!==C)return!1;delete v[p]}for(const p in v)if(Oe(v,p))return!1;return!0};return ie(a)&&ie(l)&&(!f(u(a),u(l))||!f(t.parseStyle(t.getAttrib(a,"style")),t.parseStyle(t.getAttrib(l,"style"))))?!1:!ws(a)&&!ws(l)},o=a=>Ot(n_,l=>ln(a,l))||n.has(a);return{compare:s,isAttributeInternal:o}},o_=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},gE=(e,t,n,s)=>{const o=n.name;for(let a=0,l=e.length;a<l;a++){const u=e[a];if(u.name===o){const f=s.nodes[o];f?f.nodes.push(n):s.nodes[o]={filter:u,nodes:[n]}}}if(n.attributes)for(let a=0,l=t.length;a<l;a++){const u=t[a],f=u.name;if(f in n.attributes.map){const h=s.attributes[f];h?h.nodes.push(n):s.attributes[f]={filter:u,nodes:[n]}}}},r_=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&o_(n,o=>{gE(e,t,o,s)}),s},pE=(e,t)=>{const n=(s,o)=>{at(s,a=>{const l=Tn(a.nodes);K(a.filter.callbacks,u=>{for(let f=l.length-1;f>=0;f--){const h=l[f];(!(o?h.attr(a.filter.name)!==void 0:h.name===a.filter.name)||nt(h.parent))&&l.splice(f,1)}l.length>0&&u(l,a.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},vE=(e,t,n,s={})=>{const o=r_(e,t,n);pE(o,s)},A4=(e,t,n)=>{if(e.insert&&t(n)){const s=new ds("br",1);s.attr("data-mce-bogus","1"),n.empty().append(s)}else n.empty().append(new ds("#text",3)).value=Gt},a_=e=>{var t;return bE(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Gt},bE=(e,t)=>{const n=e==null?void 0:e.firstChild;return j(n)&&n===e.lastChild&&n.name===t},c_=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},g1=(e,t,n,s)=>s.isEmpty(t,n,o=>c_(e,o)),l_=(e,t)=>j(e)&&(t(e)||e.name==="br"),i_=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return y.from(t)},D4=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const o of s)n&&!t.isValidChild(n.name,o.name)&&D4(o,t,n);e.unwrap()}},O4=(e,t,n,s=Be)=>{const o=t.getTextBlockElements(),a=t.getNonEmptyElements(),l=t.getWhitespaceElements(),u=te.makeMap("tr,td,th,tbody,thead,tfoot,table"),f=new Set,h=v=>v!==n&&!u[v.name];for(let v=0;v<e.length;v++){const p=e[v];let C,k,R;if(!p.parent||f.has(p))continue;if(o[p.name]&&p.parent.name==="li"){let x=p.next;for(;x&&o[x.name];){x.name="li",f.add(x),p.parent.insert(x,p.parent);x=x.next}p.unwrap();continue}const S=[p];for(C=p.parent;C&&!t.isValidChild(C.name,p.name)&&h(C);C=C.parent)S.push(C);if(C&&S.length>1)if(t.isValidChild(C.name,p.name)){S.reverse(),k=S[0].clone(),s(k);let x=k;for(let A=0;A<S.length-1;A++){t.isValidChild(x.name,S[A].name)&&A>0?(R=S[A].clone(),s(R),x.append(R)):R=x;for(let D=S[A].firstChild;D&&D!==S[A+1];){const O=D.next;R.append(D),D=O}x=R}g1(t,a,l,k)?C.insert(p,S[0],!0):(C.insert(k,S[0],!0),C.insert(p,k)),C=S[0],(g1(t,a,l,C)||bE(C,"br"))&&C.empty().remove()}else D4(p,t);else if(p.parent){if(p.name==="li"){let x=p.prev;if(x&&(x.name==="ul"||x.name==="ol")){x.append(p);continue}if(x=p.next,x&&(x.name==="ul"||x.name==="ol")&&x.firstChild){x.insert(p,x.firstChild,!0);continue}const A=new ds("ul",1);s(A),p.wrap(A);continue}if(t.isValidChild(p.parent.name,"div")&&t.isValidChild("div",p.name)){const x=new ds("div",1);s(x),p.wrap(x)}else D4(p,t)}}},u_=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},CE=(e,t,n=t.parent)=>n&&e.children[t.name]&&!e.isValidChild(n.name,t.name)?!0:!!(n&&t.name==="a"&&u_(n,"a")),d_=(e,t,n,s)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,s),o},f_=e=>{const t=I.fromRangeStart(e),n=I.fromRangeEnd(e),s=e.commonAncestorContainer;return _s(!1,s,n).map(o=>!ls(t,n,s)&&ls(t,o,s)?d_(t.container(),t.offset(),o.container(),o.offset()):e).getOr(e)},P4=e=>e.collapsed?e:f_(e),m_=e=>j(e.firstChild)&&e.firstChild===e.lastChild,h_=e=>e.name==="br"||e.value===Gt,g_=(e,t)=>e.getBlockElements()[t.name]&&m_(t)&&h_(t.firstChild),p_=(e,t)=>{const n=e.getNonEmptyElements();return j(t)&&(t.isEmpty(n)||g_(e,t))},v_=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),p_(e,s)&&(s=s==null?void 0:s.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},b_=e=>{var t,n;const s=e.firstChild,o=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),o&&o.id==="mce_marker"&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),e},C_=(e,t,n)=>{const s=t.serialize(n),o=e.createFragment(s);return b_(o)},y_=e=>{var t;return ke((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},w_=e=>e.data===Gt||gt(e),S_=e=>j(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&w_(e.firstChild),E_=e=>!e.firstChild||S_(e),k_=e=>e.length>0&&E_(e[e.length-1])?e.slice(0,-1):e,B4=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},x_=(e,t)=>!!B4(e,t),R_=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},T_=(e,t)=>{const n=I.before(e),o=Ks(t).next(n);return o?o.toRange():null},yE=(e,t)=>{const n=I.after(e),o=Ks(t).prev(n);return o?o.toRange():null},__=(e,t,n,s)=>{const o=R_(e,s),a=e.parentNode;return a&&(a.insertBefore(o[0],e),te.each(t,l=>{a.insertBefore(l,e)}),a.insertBefore(o[1],e),a.removeChild(e)),yE(t[t.length-1],n)},N_=(e,t,n)=>{const s=e.parentNode;return s&&te.each(t,o=>{s.insertBefore(o,e)}),T_(e,n)},A_=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),yE(t[0],n)),D_=(e,t,n,s)=>{const o=C_(t,e,s),a=B4(t,n.startContainer),l=k_(y_(o.firstChild)),u=1,f=2,h=t.getRoot(),v=p=>{const C=I.fromRangeStart(n),k=Ks(t.getRoot()),R=p===u?k.prev(C):k.next(C),S=R==null?void 0:R.getNode();return S?B4(t,S)!==a:!0};return a?v(u)?N_(a,l,h):v(f)?A_(a,l,h,t):__(a,l,h,n):null},O_=["pre"],P_=(e,t,n,s)=>{var o;const a=t.firstChild,l=t.lastChild,u=l.attr("data-mce-type")==="bookmark"?l.prev:l,f=a===u,h=Ge(O_,a.name);if(f&&h){const v=a.attr("contenteditable")!=="false",p=((o=e.getParent(n,e.isBlock))===null||o===void 0?void 0:o.nodeName.toLowerCase())===a.name,C=y.from(oi(s,n)).forall(Vs);return v&&p&&C}else return!1},M4=Gi,B_=(e,t,n)=>{if(j(n)){const s=e.getParent(t.endContainer,M4);return n===s&&Kl(T.fromDom(n),t)}else return!1},M_=(e,t,n)=>{var s;if(n.getAttribute("data-mce-bogus")==="all")(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,a=n.lastChild;!o||o===a&&o.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},L_=(e,t)=>{y.from(e.getParent(t,"td,th")).map(T.fromDom).each(Ev)},$_=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const o=e.getBody(),a=N4(e);te.each(s.select("*[data-mce-fragment]"),l=>{if(j(n[l.nodeName.toLowerCase()])&&O7(s,l)){for(let f=l.parentElement;j(f)&&f!==o&&!B7(s,l,f);f=f.parentElement)if(a.compare(f,l)){s.remove(l,!0);break}}})}},H_=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},I_=e=>{te.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},F_=e=>!!e.getAttribute("data-mce-fragment"),z_=(e,t)=>j(t)&&!e.schema.getVoidElements()[t.nodeName],Z_=(e,t)=>{var n,s,o;let a;const l=e.dom,u=e.selection;if(!t)return;u.scrollIntoView(t);const f=oi(e.getBody(),t);if(f&&l.getContentEditable(f)==="false"){l.remove(t),u.select(f);return}let h=l.createRng();const v=t.previousSibling;if(Y(v)){h.setStart(v,(s=(n=v.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const k=t.nextSibling;Y(k)&&(v.appendData(k.data),(o=k.parentNode)===null||o===void 0||o.removeChild(k))}else h.setStartBefore(t),h.setEndBefore(t);const p=k=>{let R=I.fromRangeStart(k);return R=Ks(e.getBody()).next(R),R==null?void 0:R.toRange()},C=l.getParent(t,l.isBlock);l.remove(t),C&&l.isEmpty(C)&&(Xr(T.fromDom(C)),h.setStart(C,0),h.setEnd(C,0),!M4(C)&&!F_(C)&&(a=p(h))?(h=a,l.remove(C)):l.add(C,l.create("br",{"data-mce-bogus":"1"}))),u.setRng(h)},V_=e=>{const t=e.dom,n=P4(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,M4);B_(t,n,s)?R4(e,n,T.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Y(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},U_=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return y.some(t);return y.none()},W_=e=>{K(Tn(e.getBody().querySelectorAll("details")),t=>{const n=ke(Tn(t.children),s=>s.nodeName==="SUMMARY");n.length>1&&K(n.slice(1),s=>{const o=T.fromDom(s);qa(o,"mce-accordion-summary"),Vf(o,"p")})})},j_=(e,t,n)=>{var s,o;const a=e.selection,l=e.dom,u=e.parser,f=n.merge,h=Bc({validate:!0},e.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,v);let p=a.getRng();const C=p.startContainer,k=e.getBody();C===k&&a.isCollapsed()&&l.isBlock(k.firstChild)&&z_(e,k.firstChild)&&l.isEmpty(k.firstChild)&&(p=l.createRng(),p.setStart(k.firstChild,0),p.setEnd(k.firstChild,0),a.setRng(p)),a.isCollapsed()||V_(e);const R=a.getNode(),S={context:R.nodeName.toLowerCase(),data:n.data,insert:!0},x=u.parse(t,S);if(n.paste===!0&&v_(e.schema,x)&&x_(l,R))return p=D_(h,l,a.getRng(),x),p&&a.setRng(p),t;n.paste===!0&&P_(l,x,R,e.getBody())&&((s=x.firstChild)===null||s===void 0||s.unwrap()),H_(x);let A=x.lastChild;if(A&&A.attr("id")==="mce_marker"){const D=A;for(A=A.prev;A;A=A.walk(!0))if(A.type===3||!l.isBlock(A.name)){A.parent&&e.schema.isValidChild(A.parent.name,"span")&&A.parent.insert(D,A,A.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(R),!S.invalid)t=h.serialize(x),M_(e,t,R);else{e.selection.setContent(v);let D=a.getNode(),O;const B=e.getBody();for(Ja(D)?D=O=B:O=D;O&&O!==B;)D=O,O=O.parentNode;t=D===B?B.innerHTML:l.getOuterHTML(D);const U=u.parse(t),ge=U_(U),q=ge.bind(i_).getOr(U);ge.each(se=>se.replace(x));const $=x.children(),F=(o=x.parent)!==null&&o!==void 0?o:U;x.unwrap();const ne=ke($,se=>CE(e.schema,se,F));O4(ne,e.schema,q),vE(u.getNodeFilters(),u.getAttributeFilters(),U),t=h.serialize(U),D===B?l.setHTML(B,t):l.setOuterHTML(D,t)}return $_(e,f),Z_(e,l.get("mce_marker")),I_(e.getBody()),L_(l,a.getStart()),W_(e),Mv(e.schema,e.getBody(),a.getStart()),t},g0=e=>e instanceof ds,q_=e=>{ti(e)&&mn(e.getBody()).each(t=>{const n=t.getNode(),s=Ao(n)?mn(n).getOr(t):t;e.selection.setRng(s.toRange())})},L4=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&q_(e)},G_=(e,t,n,s)=>{if(n.length===0||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const a=An(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=o,n=e.dom.createHTML(a,vc(e),n)):n||(n=o),L4(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Bc({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Xi(T.fromDom(t))?n:te.trim(n);return L4(e,o,s.no_selection),{content:o,html:o}}},K_=(e,t,n,s)=>{vE(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=Bc({validate:!1},e.schema).serialize(n),a=Xi(T.fromDom(t))?o:te.trim(o);return L4(e,a,s.no_selection),{content:n,html:a}},Y_=(e,t,n)=>y.from(e.getBody()).map(s=>g0(t)?K_(e,s,t,n):G_(e,s,t,n)).getOr({content:t,html:g0(n.content)?"":n.content}),X_=(e,t,n)=>rs(e,t,n).isSome(),Q_=(e,t)=>J2(e,t).isSome(),wE=e=>N(e)?e:qe,J_=(e,t,n)=>{let s=e.dom;const o=wE(n);for(;s.parentNode;){s=s.parentNode;const a=T.fromDom(s),l=t(a);if(l.isSome())return l;if(o(a))break}return y.none()},$4=(e,t,n)=>{const s=t(e),o=wE(n);return s.orThunk(()=>o(e)?y.none():J_(e,t,o))},H4=qm,SE=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let o=0;o<s.length;o++){const a=s[o];if(is(a)&&a.inherit===!1&&e.dom.is(t,a.selector))return!0}return!1},I4=(e,t,n,s,o)=>{const a=e.dom.getRoot();if(t===a)return!1;const l=e.dom.getParent(t,u=>SE(e,u,n)?!0:u.parentNode===a||!!Cr(e,u,n,s,!0));return!!Cr(e,l,n,s,o)},p0=(e,t,n)=>zt(n)&&H4(t,n.inline)||Os(n)&&H4(t,n.block)?!0:is(n)?ie(t)&&e.is(t,n.selector):!1,EE=(e,t,n,s,o,a)=>{const l=n[s],u=s==="attributes";if(N(n.onmatch))return n.onmatch(t,n,s);if(l){if(Z1(l)){for(let f=0;f<l.length;f++)if(u?e.getAttrib(t,l[f]):qu(e,t,l[f]))return!0}else for(const f in l)if(Oe(l,f)){const h=u?e.getAttrib(t,f):qu(e,t,f),v=vr(l[f],a),p=nt(h)||tr(h);if(p&&nt(v))continue;if(o&&p&&!n.exact||(!o||n.exact)&&!H4(h,Tc(v,f)))return!1}}return!0},Cr=(e,t,n,s,o)=>{const a=e.formatter.get(n),l=e.dom;if(a&&ie(t))for(let u=0;u<a.length;u++){const f=a[u];if(p0(e.dom,t,f)&&EE(l,t,f,"attributes",o,s)&&EE(l,t,f,"styles",o,s)){const h=f.classes;if(h){for(let v=0;v<h.length;v++)if(!e.dom.hasClass(t,vr(h[v],s)))return}return f}}},F4=(e,t,n,s,o)=>{if(s)return I4(e,s,t,n,o);if(s=e.selection.getNode(),I4(e,s,t,n,o))return!0;const a=e.selection.getStart();return!!(a!==s&&I4(e,a,t,n,o))},eN=(e,t,n)=>{const s=[],o={},a=e.selection.getStart();return e.dom.getParent(a,l=>{for(let u=0;u<t.length;u++){const f=t[u];!o[f]&&Cr(e,l,f,n)&&(o[f]=!0,s.push(f))}},e.dom.getRoot()),s},tN=(e,t)=>{const n=o=>Ke(o,T.fromDom(e.getBody())),s=(o,a)=>Cr(e,o.dom,a)?y.some(a):y.none();return y.from(e.selection.getStart(!0)).bind(o=>$4(T.fromDom(o),a=>Za(t,l=>s(a,l)),n)).getOrNull()},nN=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const o=e.selection.getStart(),a=Gu(s,o);for(let l=n.length-1;l>=0;l--){const u=n[l];if(!is(u))return!0;for(let f=a.length-1;f>=0;f--)if(s.is(a[f],u.selector))return!0}}return!1},sN=(e,t,n)=>wt(n,(s,o)=>{const a=Ku(e,o);return e.formatter.matchNode(t,o,{},a)?s.concat([o]):s},[]),fd=dn,oN=(e,t)=>e.importNode(t,!0),rN=e=>{const t=[];let n=e;for(;n;){if(Y(n)&&n.data!==fd||n.childNodes.length>1)return[];ie(n)&&t.push(n),n=n.firstChild}return t},kE=e=>rN(e).length>0,xE=e=>{if(e){const t=new Bt(e,e);for(let n=t.current();n;n=t.next())if(Y(n))return n}return null},z4=e=>{const t=T.fromTag("span");return Hn(t,{id:Hm,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Pt(t,T.fromText(fd)),t},aN=e=>{const t=xE(e);return t&&t.data.charAt(0)===fd&&t.deleteData(0,1),t},Z4=(e,t,n=!0)=>{const s=e.dom,o=e.selection;if(kE(t))ni(e,!1,T.fromDom(t),n);else{const a=o.getRng(),l=s.getParent(t,s.isBlock),u=a.startContainer,f=a.startOffset,h=a.endContainer,v=a.endOffset,p=aN(t);s.remove(t,!0),u===p&&f>0&&a.setStart(p,f-1),h===p&&v>0&&a.setEnd(p,v-1),l&&s.isEmpty(l)&&ar(T.fromDom(l)),o.setRng(a)}},V4=(e,t,n=!0)=>{const s=e.dom,o=e.selection;if(t)Z4(e,t,n);else if(t=Ea(e.getBody(),o.getStart()),!t)for(;t=s.get(Hm);)Z4(e,t,n)},cN=(e,t,n)=>{var s,o;const a=e.dom,l=a.getParent(n,G(Wm,e.schema));l&&a.isEmpty(l)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Sv(T.fromDom(n)),a.isEmpty(n)?(o=n.parentNode)===null||o===void 0||o.replaceChild(t,n):a.insertAfter(t,n))},RE=(e,t)=>(e.appendChild(t),t),TE=(e,t)=>{var n;const s=Fa(e,(a,l)=>RE(a,l.cloneNode(!1)),t),o=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return RE(s,o.createTextNode(fd))},lN=(e,t,n,s,o,a)=>{const l=e.formatter,u=e.dom,f=ke(ss(l.get()),p=>p!==s&&!vn(p,"removeformat")),h=sN(e,n,f);if(ke(h,p=>!Pp(e,p,s)).length>0){const p=n.cloneNode(!1);return u.add(t,p),l.remove(s,o,p,a),u.remove(p),y.some(p)}else return y.none()},iN=(e,t,n)=>{let s;const o=e.selection,a=e.formatter.get(t);if(!a)return;const l=o.getRng();let u=l.startOffset;const h=l.startContainer.nodeValue;s=Ea(e.getBody(),o.getStart());const v=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(h&&u>0&&u<h.length&&v.test(h.charAt(u))&&v.test(h.charAt(u-1))){const p=o.getBookmark();l.collapse(!0);let C=_a(e.dom,l,a);C=Ql(C),e.formatter.apply(t,n,C),o.moveToBookmark(p)}else{let p=s?xE(s):null;(!s||(p==null?void 0:p.data)!==fd)&&(s=oN(e.getDoc(),z4(!0).dom),p=s.firstChild,l.insertNode(s),u=1),e.formatter.apply(t,n,s),o.setCursorLocation(p,u)}},uN=(e,t,n,s)=>{const o=e.dom,a=e.selection;let l=!1;const u=e.formatter.get(t);if(!u)return;const f=a.getRng(),h=f.startContainer,v=f.startOffset;let p=h;Y(h)&&(v!==h.data.length&&(l=!0),p=p.parentNode);const C=[];let k;for(;p;){if(Cr(e,p,t,n,s)){k=p;break}p.nextSibling&&(l=!0),C.push(p),p=p.parentNode}if(k)if(l){const R=a.getBookmark();f.collapse(!0);let S=_a(o,f,u,!0);S=Ql(S),e.formatter.remove(t,n,S,s),a.moveToBookmark(R)}else{const R=Ea(e.getBody(),k),S=z4(!1).dom;cN(e,S,R??k);const x=lN(e,S,k,t,n,s),A=TE(C.concat(x.toArray()),S);R&&Z4(e,R,!1),a.setCursorLocation(A,1),o.isEmpty(k)&&o.remove(k)}},dN=(e,t,n)=>{const s=e.selection,o=e.getBody();V4(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===fd&&V4(e,Ea(o,s.getStart())),(t===37||t===39)&&V4(e,Ea(o,s.getStart()))},fN=e=>Y(e)&&Eo(e.data,Gt),mN=e=>{e.on("mouseup keydown",t=>{dN(e,t.keyCode,fN(e.selection.getRng().endContainer))})},_E=e=>{const t=z4(!1),n=TE(e,t.dom);return{caretContainer:t,caretPosition:I(n,0)}},NE=(e,t)=>{const{caretContainer:n,caretPosition:s}=_E(t);return as(T.fromDom(e),n),pt(T.fromDom(e)),s},hN=(e,t)=>{const{caretContainer:n,caretPosition:s}=_E(t);return e.insertNode(n.dom),s},AE=(e,t)=>{const n=e.schema.getTextInlineElements();return Oe(n,lt(t))&&!As(t.dom)&&!mo(t.dom)},DE=e=>As(e.dom)&&kE(e.dom),p1={},OE=vs(["pre"]),gN=(e,t)=>{p1[e]||(p1[e]=[]),p1[e].push(t)},pN=(e,t)=>{Oe(p1,e)&&K(p1[e],n=>{n(t)})};gN("pre",e=>{const t=e.selection.getRng(),n=o=>a=>{const l=a.previousSibling;return OE(l)&&Ge(o,l)},s=(o,a)=>{const l=T.fromDom(a),u=To(l).dom;pt(l),Yr(T.fromDom(o),[T.fromTag("br",u),T.fromTag("br",u),...sn(l)])};if(!t.collapsed){const o=e.selection.getSelectedBlocks(),a=ke(ke(o,OE),n(o));K(a,l=>{s(l.previousSibling,l)})}});const PE=["fontWeight","fontStyle","color","fontSize","fontFamily"],vN=e=>Fe(e.styles)&&Ot(ss(e.styles),t=>Ge(PE,t)),bN=e=>Wt(e,t=>zt(t)&&t.inline==="span"&&vN(t)),BE=(e,t)=>{const n=e.get(t);return Xe(n)?bN(n):y.none()},ME=(e,t)=>Cn(t,I.fromRangeStart(e)).isNone(),LE=(e,t)=>On(t,I.fromRangeEnd(e)).exists(n=>!gt(n.getNode())||On(t,n).isSome())===!1,$E=e=>t=>ec(t)&&e.isEditable(t),CN=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return ME(n,t[0])&&LE(n,t[0])?t:[];{const s=zn(t).filter(l=>ME(n,l)).toArray(),o=Or(t).filter(l=>LE(n,l)).toArray(),a=t.slice(1,-1);return s.concat(a).concat(o)}},yN=e=>ke(CN(e),$E(e.dom)),HE=e=>ke(e.getSelectedBlocks(),$E(e.dom)),U4=te.each,W4=e=>ie(e)&&!ws(e)&&!As(e)&&!mo(e),IE=(e,t)=>{for(let n=e;n;n=n[t]){if(Y(n)&&jt(n.data))return e;if(ie(n)&&!ws(n))return n}return e},FE=(e,t,n)=>{const s=N4(e),o=ie(t)&&Ra(t),a=ie(n)&&Ra(n);if(o&&a){const l=IE(t,"previousSibling"),u=IE(n,"nextSibling");if(s.compare(l,u)){for(let f=l.nextSibling;f&&f!==u;){const h=f;f=f.nextSibling,l.appendChild(h)}return e.dom.remove(u),te.each(te.grep(u.childNodes),f=>{l.appendChild(f)}),l}}return n},zE=(e,t,n,s)=>{var o;if(s&&t.merge_siblings!==!1){const a=(o=FE(e,Ap(s),s))!==null&&o!==void 0?o:s;FE(e,a,Ap(a,!0))}},wN=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";U4(e.select(s,n),o=>{W4(o)&&Ra(o)&&U4(t.styles,(a,l)=>{e.setStyle(o,l,"")})})}},j4=(e,t,n)=>{U4(e.childNodes,s=>{W4(s)&&(t(s)&&n(s),s.hasChildNodes()&&j4(s,t,n))})},SN=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},ZE=(e,t)=>n=>!!(n&&qu(e,n,t)),VE=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),SN(e,s)},ri=po.generate([{keep:[]},{rename:["name"]},{removed:[]}]),EN=/^(src|href|style)$/,q4=te.each,v0=qm,kN=e=>/^(TR|TH|TD)$/.test(e.nodeName),UE=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),WE=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(ie(s)){const a=s.childNodes.length-1;!n&&o&&o--,s=s.childNodes[o>a?a:o]}return Y(s)&&n&&o>=s.data.length&&(s=new Bt(s,e.getBody()).next()||s),Y(s)&&!n&&o===0&&(s=new Bt(s,e.getBody()).prev()||s),s},jE=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return kN(e)&&s?e.nodeName==="TR"&&s[n]||s:e},G4=(e,t,n,s)=>{var o;const a=e.create(n,s);return(o=t.parentNode)===null||o===void 0||o.insertBefore(a,t),a.appendChild(t),a},qE=(e,t,n,s,o)=>{const a=T.fromDom(t),l=T.fromDom(e.create(s,o)),u=n?Yd(a):mh(a);return Yr(l,u),n?(as(a,l),Ui(l,a)):(cs(a,l),Pt(l,a)),l.dom},xN=(e,t)=>t.links&&e.nodeName==="A",GE=(e,t,n)=>{const s=t.parentNode;let o;const a=e.dom,l=An(e);Os(n)&&s===a.getRoot()&&(!n.list_block||!v0(t,n.list_block))&&K(Tn(t.childNodes),u=>{xc(e,l,u.nodeName.toLowerCase())?o?o.appendChild(u):(o=G4(a,u,l),a.setAttribs(o,vc(e))):o=null}),!(Mp(n)&&!v0(n.inline,t))&&a.remove(t,!0)},KE=(e,t,n)=>xs(e)?{name:t,value:null}:{name:e,value:vr(t,n)},YE=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},XE=(e,t,n,s,o)=>{let a=!1;q4(n.styles,(l,u)=>{const{name:f,value:h}=KE(u,l,s),v=Tc(h,f);(n.remove_similar||Rn(h)||!ie(o)||v0(qu(e,o,f),v))&&e.setStyle(t,f,""),a=!0}),a&&YE(e,t)},RN=(e,t,n)=>{t==="removeformat"?K(HE(e.selection),s=>{K(PE,o=>e.dom.setStyle(s,o,"")),YE(e.dom,s)}):BE(e.formatter,t).each(s=>{K(HE(e.selection),o=>XE(e.dom,o,s,n,null))})},QE=(e,t,n,s,o)=>{const a=e.dom,l=N4(e),u=e.schema;if(zt(t)&&au(u,t.inline)&&ra(u,s)&&s.parentElement===e.getBody())return GE(e,s,t),ri.removed();if(!t.ceFalseOverride&&s&&a.getContentEditableParent(s)==="false"||s&&!p0(a,s,t)&&!xN(s,t))return ri.keep();const f=s,h=t.preserve_attributes;if(zt(t)&&t.remove==="all"&&Xe(h)){const v=ke(a.getAttribs(f),p=>Ge(h,p.name.toLowerCase()));if(a.removeAllAttribs(f),K(v,p=>a.setAttrib(f,p.name,p.value)),v.length>0)return ri.rename("span")}if(t.remove!=="all"){XE(a,f,t,n,o),q4(t.attributes,(p,C)=>{const{name:k,value:R}=KE(C,p,n);if(t.remove_similar||Rn(R)||!ie(o)||v0(a.getAttrib(o,k),R)){if(k==="class"){const S=a.getAttrib(f,k);if(S){let x="";if(K(S.split(/\s+/),A=>{/mce\-\w+/.test(A)&&(x+=(x?" ":"")+A)}),x){a.setAttrib(f,k,x);return}}}if(EN.test(k)&&f.removeAttribute("data-mce-"+k),k==="style"&&vs(["li"])(f)&&a.getStyle(f,"list-style-type")==="none"){f.removeAttribute(k),a.setStyle(f,"list-style-type","none");return}k==="class"&&f.removeAttribute("className"),f.removeAttribute(k)}}),q4(t.classes,p=>{p=vr(p,n),(!ie(o)||a.hasClass(o,p))&&a.removeClass(f,p)});const v=a.getAttribs(f);for(let p=0;p<v.length;p++){const C=v[p].nodeName;if(!l.isAttributeInternal(C))return ri.keep()}}return t.remove!=="none"?(GE(e,f,t),ri.removed()):ri.keep()},TN=(e,t,n,s,o)=>{let a;return t.parentNode&&K(Gu(e.dom,t.parentNode).reverse(),l=>{if(!a&&ie(l)&&l.id!=="_start"&&l.id!=="_end"){const u=Cr(e,l,n,s,o);u&&u.split!==!1&&(a=l)}}),a},_N=(e,t,n,s)=>QE(e,t,n,s,s).fold(oe(s),o=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,o)),oe(null)),NN=(e,t,n,s,o,a,l,u)=>{var f,h;let v,p;const C=e.dom;if(n){const k=n.parentNode;for(let R=s.parentNode;R&&R!==k;R=R.parentNode){let S=C.clone(R,!1);for(let x=0;x<t.length&&(S=_N(e,t[x],u,S),S!==null);x++);S&&(v&&S.appendChild(v),p||(p=S),v=S)}a&&(!l.mixed||!C.isBlock(n))&&(s=(f=C.split(n,s))!==null&&f!==void 0?f:s),v&&p&&((h=o.parentNode)===null||h===void 0||h.insertBefore(v,o),p.appendChild(o),zt(l)&&zE(e,l,u,v))}return s},AN=(e,t,n,s,o)=>{const a=e.formatter.get(t),l=a[0],u=e.dom,f=e.selection,h=S=>{const x=TN(e,S,t,n,o);return NN(e,a,x,S,S,!0,l,n)},v=S=>ws(S)&&ie(S)&&(S.id==="_start"||S.id==="_end"),p=S=>Ot(a,x=>v1(e,x,n,S,S)),C=S=>{const x=Tn(S.childNodes),D=p(S)||Ot(a,U=>p0(u,S,U)),O=S.parentNode;if(!D&&j(O)&&Km(l)&&p(O),l.deep&&x.length)for(let U=0;U<x.length;U++)C(x[U]);K(["underline","line-through","overline"],U=>{ie(S)&&e.dom.getStyle(S,"text-decoration")===U&&S.parentNode&&Op(u,S.parentNode)===U&&v1(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:U}},void 0,S)})},k=S=>{const x=u.get(S?"_start":"_end");if(x){let A=x[S?"firstChild":"lastChild"];return v(A)&&(A=A[S?"firstChild":"lastChild"]),Y(A)&&A.data.length===0&&(A=S?x.previousSibling||x.nextSibling:x.nextSibling||x.previousSibling),u.remove(x,!0),A}else return null},R=S=>{let x,A,D=_a(u,S,a,S.collapsed);if(l.split){if(D=Ql(D),x=WE(e,D,!0),A=WE(e,D),x!==A){if(x=jE(x,!0),A=jE(A,!1),UE(u,x,A)){const B=y.from(x.firstChild).getOr(x);h(qE(u,B,!0,"span",{id:"_start","data-mce-type":"bookmark"})),k(!0);return}if(UE(u,A,x)){const B=y.from(A.lastChild).getOr(A);h(qE(u,B,!1,"span",{id:"_end","data-mce-type":"bookmark"})),k(!1);return}x=G4(u,x,"span",{id:"_start","data-mce-type":"bookmark"}),A=G4(u,A,"span",{id:"_end","data-mce-type":"bookmark"});const O=u.createRng();O.setStartAfter(x),O.setEndBefore(A),br(u,O,B=>{K(B,U=>{!ws(U)&&!ws(U.parentNode)&&h(U)})}),h(x),h(A),x=k(!0),A=k()}else x=A=h(x);D.startContainer=x.parentNode?x.parentNode:x,D.startOffset=u.nodeIndex(x),D.endContainer=A.parentNode?A.parentNode:A,D.endOffset=u.nodeIndex(A)+1}br(u,D,O=>{K(O,C)})};if(s){if(Yl(s)){const S=u.createRng();S.setStartBefore(s),S.setEndAfter(s),R(S)}else R(s);jp(e,t,s,n);return}!f.isCollapsed()||!zt(l)||xa(e).length?(Np(e,()=>Vm(e,R),S=>zt(l)&&F4(e,t,n,S)),e.nodeChanged()):uN(e,t,n,o),RN(e,t,n),jp(e,t,s,n)},JE=(e,t,n,s,o)=>{(s||e.selection.isEditable())&&AN(e,t,n,s,o)},v1=(e,t,n,s,o)=>QE(e,t,n,s,o).fold(qe,a=>(e.dom.rename(s,a),!0),Ht),e5=te.each,DN=(e,t,n,s)=>{const o=a=>{if(ie(a)&&ie(a.parentNode)&&Ra(a)){const l=Op(e,a.parentNode);e.getStyle(a,"color")&&l?e.setStyle(a,"text-decoration",l):e.getStyle(a,"text-decoration")===l&&e.setStyle(a,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(te.walk(s,o,"childNodes"),o(s))},ON=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const o=ZE(e,"fontSize");j4(s,a=>o(a)&&Ra(a),VE(e,"backgroundColor",vr(t.styles.backgroundColor,n)))}},PN=(e,t,n,s)=>{if(zt(t)&&(t.inline==="sub"||t.inline==="sup")){const o=ZE(e,"fontSize");j4(s,l=>o(l)&&Ra(l),VE(e,"fontSize",""));const a=ke(e.select(t.inline==="sup"?"sub":"sup",s),Ra);e.remove(a,!0)}},BN=(e,t,n,s)=>{e5(t,o=>{zt(o)&&e5(e.dom.select(o.inline,s),a=>{W4(a)&&v1(e,o,n,a,o.exact?a:null)}),wN(e.dom,o,s)})},MN=(e,t,n,s,o)=>{const a=o.parentNode;Cr(e,a,n,s)&&v1(e,t,s,o)||t.merge_with_parents&&a&&e.dom.getParent(a,l=>Cr(e,l,n,s)?(v1(e,t,s,o),!0):!1)},b0=te.each,LN=(e,t,n,s)=>{if(Wg(e)&&zt(t)&&n.parentNode){const o=bl(e.schema),a=Q_(T.fromDom(n),l=>As(l.dom));return Zn(o,s)&&Mt(T.fromDom(n.parentNode),!1)&&!a}else return!1},t5=(e,t,n,s)=>{if(b0(n.styles,(o,a)=>{e.setStyle(t,a,vr(o,s))}),n.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},$N=(e,t,n,s)=>{const o=e.formatter.get(t),a=o[0],l=!s&&e.selection.isCollapsed(),u=e.dom,f=e.selection,h=(R,S=a)=>{N(S.onformat)&&S.onformat(R,S,n,s),t5(u,R,S,n),b0(S.attributes,(x,A)=>{u.setAttrib(R,A,vr(x,n))}),b0(S.classes,x=>{const A=vr(x,n);u.hasClass(R,A)||u.addClass(R,A)})},v=(R,S)=>{let x=!1;return b0(R,A=>is(A)?u.getContentEditable(S)==="false"&&!A.ceFalseOverride||j(A.collapsed)&&A.collapsed!==l?!0:u.is(S,A.selector)&&!As(S)?(h(S,A),x=!0,!1):!0:!1),x},p=R=>{if(V(R)){const S=u.create(R);return h(S),S}else return null},C=(R,S,x)=>{const A=[];let D=!0;const O=a.inline||a.block,B=p(O),U=$=>ly(a)&&Cr(e,$,t,n),ge=($,F,ne)=>{const se=Bp(a)&&Wm(e.schema,$)&&xc(e,F,O);return ne&&se},q=($,F,ne,se)=>{const fe=$.nodeName.toLowerCase(),Re=xc(e,O,fe)&&xc(e,F,O),we=!x&&Y($)&&Ji($.data),Ie=As($),Ue=!zt(a)||!R.isBlock($);return(ne||se)&&Re&&!we&&!Ie&&Ue};br(R,S,$=>{let F;const ne=se=>{let fe=!1,Re=D,we=!1;const Ie=se.parentNode,Ue=Ie.nodeName.toLowerCase(),yt=R.getContentEditable(se);j(yt)&&(Re=D,D=yt==="true",fe=!0,we=Dp(e,se));const Sn=D&&!fe;if(gt(se)&&!LN(e,a,se,Ue)){F=null,Os(a)&&R.remove(se);return}if(U(se)){F=null;return}if(ge(se,Ue,Sn)){const Kt=R.rename(se,O);h(Kt),A.push(Kt),F=null;return}if(is(a)){let Kt=v(o,se);if(!Kt&&j(Ie)&&Km(a)&&(Kt=v(o,Ie)),!zt(a)||Kt){F=null;return}}j(B)&&q(se,Ue,Sn,we)?(F||(F=R.clone(B,!1),Ie.insertBefore(F,se),A.push(F)),we&&fe&&(D=Re),F.appendChild(se)):(F=null,K(Tn(se.childNodes),ne),fe&&(D=Re),F=null)};K($,ne)}),a.links===!0&&K(A,$=>{const F=ne=>{ne.nodeName==="A"&&h(ne,a),K(Tn(ne.childNodes),F)};F($)}),K(A,$=>{const F=fe=>{let Re=0;return K(fe.childNodes,we=>{!Rc(we)&&!ws(we)&&Re++}),Re},ne=fe=>Wt(fe.childNodes,Um).filter(we=>R.getContentEditable(we)!=="false"&&p0(R,we,a)).map(we=>{const Ie=R.clone(we,!1);return h(Ie),R.replace(Ie,fe,!0),R.remove(we,!0),Ie}).getOr(fe),se=F($);if((A.length>1||!R.isBlock($))&&se===0){R.remove($,!0);return}(zt(a)||Os(a)&&a.wrapper)&&(!a.exact&&se===1&&($=ne($)),BN(e,o,n,$),MN(e,a,t,n,$),ON(R,a,n,$),DN(R,a,n,$),PN(R,a,n,$),zE(e,a,n,$))})},k=Yl(s)?s:f.getNode();if(u.getContentEditable(k)==="false"&&!Dp(e,k)){s=k,v(o,s),Wp(e,t,s,n);return}if(a){if(s)if(Yl(s)){if(!v(o,s)){const R=u.createRng();R.setStartBefore(s),R.setEndAfter(s),C(u,_a(u,R,o),!0)}}else C(u,s,!0);else!l||!zt(a)||xa(e).length?(f.setRng(P4(f.getRng())),Np(e,()=>{Vm(e,(R,S)=>{const x=S?R:_a(u,R,o);C(u,x,!1)})},Ht),e.nodeChanged()):iN(e,t,n),BE(e.formatter,t).each(R=>{K(yN(e.selection),S=>t5(u,S,R,n))});pN(t,e)}Wp(e,t,s,n)},n5=(e,t,n,s)=>{(s||e.selection.isEditable())&&$N(e,t,n,s)},s5=e=>Oe(e,"vars"),HN=(e,t)=>{e.set({}),t.on("NodeChange",n=>{c5(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=y.from(n.node).map(o=>Yl(o)?o:o.startContainer).bind(o=>ie(o)?y.some(o):y.from(o.parentElement)).getOrThunk(()=>o5(t));c5(t,s,e.get())})},o5=e=>e.selection.getStart(),r5=(e,t,n,s,o)=>Nd(t,u=>{const f=e.formatter.matchNode(u,n,o??{},s);return!en(f)},u=>SE(e,u,n)?!0:s?!1:j(e.formatter.matchNode(u,n,o,!0))),a5=(e,t)=>{const n=t??o5(e);return ke(Gu(e.dom,n),s=>ie(s)&&!mo(s))},c5=(e,t,n)=>{const s=a5(e,t);at(n,(o,a)=>{const l=u=>{const f=r5(e,s,a,u.similar,s5(u)?u.vars:void 0),h=f.isSome();if(u.state.get()!==h){u.state.set(h);const v=f.getOr(t);s5(u)?u.callback(h,{node:v,format:a,parents:s}):K(u.callbacks,p=>p(h,{node:v,format:a,parents:s}))}};K([o.withSimilar,o.withoutSimilar],l),K(o.withVars,l)})},IN=(e,t,n,s,o,a)=>{const l=t.get();K(n.split(","),u=>{const f=ht(l,u).getOrThunk(()=>{const v={withSimilar:{state:Ft(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ft(!1),similar:!1,callbacks:[]},withVars:[]};return l[u]=v,v}),h=()=>{const v=a5(e);return r5(e,v,u,o,a).isSome()};if(en(a)){const v=o?f.withSimilar:f.withoutSimilar;v.callbacks.push(s),v.callbacks.length===1&&v.state.set(h())}else f.withVars.push({state:Ft(h()),similar:o,vars:a,callback:s})}),t.set(l)},FN=(e,t,n)=>{const s=e.get();K(t.split(","),o=>ht(s,o).each(a=>{s[o]={withSimilar:{...a.withSimilar,callbacks:ke(a.withSimilar.callbacks,l=>l!==n)},withoutSimilar:{...a.withoutSimilar,callbacks:ke(a.withoutSimilar.callbacks,l=>l!==n)},withVars:ke(a.withVars,l=>l.callback!==n)}})),e.set(s)},zN=(e,t,n,s,o,a)=>(IN(e,t,n,s,o,a),{unbind:()=>FN(t,n,s)}),ZN=(e,t,n,s)=>{const o=e.formatter.get(t);o&&(F4(e,t,n,s)&&(!("toggle"in o[0])||o[0].toggle)?JE(e,t,n,s):n5(e,t,n,s))},l5=te.explode,i5=()=>{const e={};return{addFilter:(o,a)=>{K(l5(o),l=>{Oe(e,l)||(e[l]={name:l,callbacks:[]}),e[l].callbacks.push(a)})},getFilters:()=>Va(e),removeFilter:(o,a)=>{K(l5(o),l=>{if(Oe(e,l))if(j(a)){const u=e[l],f=ke(u.callbacks,h=>h!==a);f.length>0?u.callbacks=f:delete e[l]}else delete e[l]})}}},VN=(e,t)=>{K(t,n=>{e.attr(n,null)})},UN=(e,t,n)=>{e.addNodeFilter("font",s=>{K(s,o=>{const a=t.parse(o.attr("style")),l=o.attr("color"),u=o.attr("face"),f=o.attr("size");l&&(a.color=l),u&&(a["font-family"]=u),f&&Hr(f).each(h=>{a["font-size"]=n[h-1]}),o.name="span",o.attr("style",t.serialize(a)),VN(o,["color","face","size"])})})},WN=(e,t,n)=>{e.addNodeFilter("strike",s=>{const o=t.type!=="html4";K(s,a=>{if(o)a.name="s";else{const l=n.parse(a.attr("style"));l["text-decoration"]="line-through",a.name="span",a.attr("style",n.serialize(l))}})})},jN=(e,t,n)=>{var s;const o=gu();t.convert_fonts_to_spans&&UN(e,o,te.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),WN(e,n,o)},qN=(e,t,n)=>{t.inline_styles&&jN(e,t,n)},u5=(e,t)=>{e.addNodeFilter("br",(n,s,o)=>{const a=te.extend({},t.getBlockElements()),l=t.getNonEmptyElements(),u=t.getWhitespaceElements();a.body=1;const f=h=>h.name in a&&$v(t,h);for(let h=0,v=n.length;h<v;h++){let p=n[h],C=p.parent;if(C&&a[C.name]&&p===C.lastChild){let k=p.prev;for(;k;){const R=k.name;if(R!=="span"||k.attr("data-mce-type")!=="bookmark"){R==="br"&&(p=null);break}k=k.prev}if(p&&(p.remove(),g1(t,l,u,C))){const R=t.getElementRule(C.name);R&&(R.removeEmpty?C.remove():R.paddEmpty&&A4(o,f,C))}}else{let k=p;for(;C&&C.firstChild===k&&C.lastChild===k&&(k=C,!a[C.name]);)C=C.parent;if(k===C){const R=new ds("#text",3);R.value=Gt,p.replace(R)}}}})},GN=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),KN=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},K4=e=>{const[t,...n]=e.split(","),s=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const a=o[2]===";base64",l=a?KN(s):decodeURIComponent(s);return y.some({type:o[1],data:l,base64Encoded:a})}else return y.none()},d5=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return y.none()}const o=new Uint8Array(s.length);for(let a=0;a<o.length;a++)o[a]=s.charCodeAt(a);return y.some(new Blob([o],{type:e}))},YN=e=>new Promise((t,n)=>{K4(e).bind(({type:s,data:o,base64Encoded:a})=>d5(s,o,a)).fold(()=>n("Invalid data URI"),t)}),XN=e=>ln(e,"blob:")?GN(e):ln(e,"data:")?YN(e):Promise.reject("Unknown URI format"),f5=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var o;n((o=s.error)===null||o===void 0?void 0:o.message)},s.readAsDataURL(e)});let QN=0;const JN=e=>(e||"blobid")+QN++,m5=(e,t,n)=>K4(e).bind(({data:s,type:o,base64Encoded:a})=>{if(t&&!a)return y.none();{const l=a?s:btoa(s);return n(l,o)}}),h5=(e,t,n)=>{const s=e.create(JN(),t,n);return e.add(s),s},g5=(e,t,n=!1)=>m5(t,n,(s,o)=>y.from(e.getByData(s,o)).orThunk(()=>d5(o,s).map(a=>h5(e,a,s)))),eA=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(ln(t,"blob:")){const s=e.getByUri(t);return j(s)?Promise.resolve(s):XN(t).then(o=>f5(o).then(a=>m5(a,!1,l=>y.some(h5(e,o,l))).getOrThunk(n)))}else return ln(t,"data:")?g5(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},tA=e=>j(e.attr("data-mce-bogus")),nA=e=>e.attr("src")===Ve.transparentSrc||j(e.attr("data-mce-placeholder")),sA=(e,t)=>{const{blob_cache:n}=t;if(n){const s=o=>{const a=o.attr("src");nA(o)||tA(o)||nt(a)||g5(n,a,!0).each(l=>{o.attr("src",l.blobUri())})};e.addAttributeFilter("src",o=>K(o,s))}},oA=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&u5(e,n),e.addAttributeFilter("href",o=>{let a=o.length;const l=f=>f.split(" ").filter(v=>v.length>0).concat(["noopener"]).sort().join(" "),u=f=>{const h=f?te.trim(f):"";return/\b(noopener)\b/g.test(h)?h:l(h)};if(!t.allow_unsafe_link_target)for(;a--;){const f=o[a];f.name==="a"&&f.attr("target")==="_blank"&&f.attr("rel",u(f.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",o=>{let a=o.length,l,u,f,h;for(;a--;)if(h=o[a],h.name==="a"&&h.firstChild&&!h.attr("href"))for(f=h.parent,l=h.lastChild;l&&f;)u=l.prev,f.insert(l,h),l=u}),t.fix_list_elements&&e.addNodeFilter("ul,ol",o=>{let a=o.length,l,u;for(;a--;)if(l=o[a],u=l.parent,u&&(u.name==="ul"||u.name==="ol"))if(l.prev&&l.prev.name==="li")l.prev.append(l);else{const f=new ds("li",1);f.attr("style","list-style-type: none"),l.wrap(f)}});const s=n.getValidClasses();t.validate&&s&&e.addAttributeFilter("class",o=>{var a;let l=o.length;for(;l--;){const u=o[l],f=(a=u.attr("class"))!==null&&a!==void 0?a:"",h=te.explode(f," ");let v="";for(let p=0;p<h.length;p++){const C=h[p];let k=!1,R=s["*"];R&&R[C]&&(k=!0),R=s[u.name],!k&&R&&R[C]&&(k=!0),k&&(v&&(v+=" "),v+=C)}v.length||(v=null),u.attr("class",v)}}),sA(e,t)};function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function Y4(e,t){return Y4=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Y4(e,t)}function rA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C0(e,t,n){return rA()?C0=Reflect.construct:C0=function(o,a,l){var u=[null];u.push.apply(u,a);var f=Function.bind.apply(o,u),h=new f;return l&&Y4(h,l.prototype),h},C0.apply(null,arguments)}function Uo(e){return aA(e)||cA(e)||lA(e)||iA()}function aA(e){if(Array.isArray(e))return X4(e)}function cA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lA(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function iA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uA=Object.hasOwnProperty,p5=Object.setPrototypeOf,dA=Object.isFrozen,fA=Object.getPrototypeOf,mA=Object.getOwnPropertyDescriptor,Ss=Object.freeze,yr=Object.seal,hA=Object.create,v5=typeof Reflect<"u"&&Reflect,y0=v5.apply,Q4=v5.construct;y0||(y0=function(t,n,s){return t.apply(n,s)}),Ss||(Ss=function(t){return t}),yr||(yr=function(t){return t}),Q4||(Q4=function(t,n){return C0(t,Uo(n))});var gA=Wo(Array.prototype.forEach),pA=Wo(Array.prototype.pop),b1=Wo(Array.prototype.push),w0=Wo(String.prototype.toLowerCase),vA=Wo(String.prototype.match),Ic=Wo(String.prototype.replace),bA=Wo(String.prototype.indexOf),CA=Wo(String.prototype.trim),Es=Wo(RegExp.prototype.test),J4=yA(TypeError);function Wo(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return y0(e,t,s)}}function yA(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Q4(e,n)}}function Je(e,t){p5&&p5(e,null);for(var n=t.length;n--;){var s=t[n];if(typeof s=="string"){var o=w0(s);o!==s&&(dA(t)||(t[n]=o),s=o)}e[s]=!0}return e}function ci(e){var t=hA(null),n;for(n in e)y0(uA,e,[n])&&(t[n]=e[n]);return t}function S0(e,t){for(;e!==null;){var n=mA(e,t);if(n){if(n.get)return Wo(n.get);if(typeof n.value=="function")return Wo(n.value)}e=fA(e)}function s(o){return console.warn("fallback value for",o),null}return s}var b5=Ss(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ew=Ss(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tw=Ss(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wA=Ss(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nw=Ss(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),SA=Ss(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C5=Ss(["#text"]),y5=Ss(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),sw=Ss(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),w5=Ss(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),E0=Ss(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),EA=yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kA=yr(/<%[\w\W]*|[\w\W]*%>/gm),xA=yr(/^data-[\-\w.\u00B7-\uFFFF]/),RA=yr(/^aria-[\-\w]+$/),TA=yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_A=yr(/^(?:\w+script|data):/i),NA=yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),AA=yr(/^html$/i),DA=function(){return typeof window>"u"?null:window},OA=function(t,n){if(ai(t)!=="object"||typeof t.createPolicy!="function")return null;var s=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(s=n.currentScript.getAttribute(o));var a="dompurify"+(s?"#"+s:"");try{return t.createPolicy(a,{createHTML:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function S5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DA(),t=function(H){return S5(H)};if(t.version="2.3.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,s=e.document,o=e.DocumentFragment,a=e.HTMLTemplateElement,l=e.Node,u=e.Element,f=e.NodeFilter,h=e.NamedNodeMap,v=h===void 0?e.NamedNodeMap||e.MozNamedAttrMap:h,p=e.HTMLFormElement,C=e.DOMParser,k=e.trustedTypes,R=u.prototype,S=S0(R,"cloneNode"),x=S0(R,"nextSibling"),A=S0(R,"childNodes"),D=S0(R,"parentNode");if(typeof a=="function"){var O=s.createElement("template");O.content&&O.content.ownerDocument&&(s=O.content.ownerDocument)}var B=OA(k,n),U=B?B.createHTML(""):"",ge=s,q=ge.implementation,$=ge.createNodeIterator,F=ge.createDocumentFragment,ne=ge.getElementsByTagName,se=n.importNode,fe={};try{fe=ci(s).documentMode?s.documentMode:{}}catch{}var Re={};t.isSupported=typeof D=="function"&&q&&typeof q.createHTMLDocument<"u"&&fe!==9;var we=EA,Ie=kA,Ue=xA,yt=RA,Sn=_A,Kt=NA,J=TA,pe=null,ze=Je({},[].concat(Uo(b5),Uo(ew),Uo(tw),Uo(nw),Uo(C5))),$e=null,ve=Je({},[].concat(Uo(y5),Uo(sw),Uo(w5),Uo(E0))),be=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,Ee=null,Le=!0,Ye=!0,ot=!1,Te=!1,Ze=!1,Nt=!1,tt=!1,vt=!1,Et=!1,dt=!1,Lt=!0,eo=!0,En=!1,Ko={},$s=null,hi=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gi=null,Yo=Je({},["audio","video","img","source","image","track"]),yo=null,Vt=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),to="http://www.w3.org/1998/Math/MathML",Xo="http://www.w3.org/2000/svg",no="http://www.w3.org/1999/xhtml",so=no,kr=!1,Mn,$a=["application/xhtml+xml","text/html"],xr="text/html",wo,Zc=null,w2=s.createElement("form"),D3=function(H){return H instanceof RegExp||H instanceof Function},S2=function(H){Zc&&Zc===H||((!H||ai(H)!=="object")&&(H={}),H=ci(H),pe="ALLOWED_TAGS"in H?Je({},H.ALLOWED_TAGS):ze,$e="ALLOWED_ATTR"in H?Je({},H.ALLOWED_ATTR):ve,yo="ADD_URI_SAFE_ATTR"in H?Je(ci(Vt),H.ADD_URI_SAFE_ATTR):Vt,gi="ADD_DATA_URI_TAGS"in H?Je(ci(Yo),H.ADD_DATA_URI_TAGS):Yo,$s="FORBID_CONTENTS"in H?Je({},H.FORBID_CONTENTS):hi,Q="FORBID_TAGS"in H?Je({},H.FORBID_TAGS):{},Ee="FORBID_ATTR"in H?Je({},H.FORBID_ATTR):{},Ko="USE_PROFILES"in H?H.USE_PROFILES:!1,Le=H.ALLOW_ARIA_ATTR!==!1,Ye=H.ALLOW_DATA_ATTR!==!1,ot=H.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=H.SAFE_FOR_TEMPLATES||!1,Ze=H.WHOLE_DOCUMENT||!1,vt=H.RETURN_DOM||!1,Et=H.RETURN_DOM_FRAGMENT||!1,dt=H.RETURN_TRUSTED_TYPE||!1,tt=H.FORCE_BODY||!1,Lt=H.SANITIZE_DOM!==!1,eo=H.KEEP_CONTENT!==!1,En=H.IN_PLACE||!1,J=H.ALLOWED_URI_REGEXP||J,so=H.NAMESPACE||no,H.CUSTOM_ELEMENT_HANDLING&&D3(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(be.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&D3(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(be.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(be.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mn=$a.indexOf(H.PARSER_MEDIA_TYPE)===-1?Mn=xr:Mn=H.PARSER_MEDIA_TYPE,wo=Mn==="application/xhtml+xml"?function(he){return he}:w0,Te&&(Ye=!1),Et&&(vt=!0),Ko&&(pe=Je({},Uo(C5)),$e=[],Ko.html===!0&&(Je(pe,b5),Je($e,y5)),Ko.svg===!0&&(Je(pe,ew),Je($e,sw),Je($e,E0)),Ko.svgFilters===!0&&(Je(pe,tw),Je($e,sw),Je($e,E0)),Ko.mathMl===!0&&(Je(pe,nw),Je($e,w5),Je($e,E0))),H.ADD_TAGS&&(pe===ze&&(pe=ci(pe)),Je(pe,H.ADD_TAGS)),H.ADD_ATTR&&($e===ve&&($e=ci($e)),Je($e,H.ADD_ATTR)),H.ADD_URI_SAFE_ATTR&&Je(yo,H.ADD_URI_SAFE_ATTR),H.FORBID_CONTENTS&&($s===hi&&($s=ci($s)),Je($s,H.FORBID_CONTENTS)),eo&&(pe["#text"]=!0),Ze&&Je(pe,["html","head","body"]),pe.table&&(Je(pe,["tbody"]),delete Q.tbody),Ss&&Ss(H),Zc=H)},O3=Je({},["mi","mo","mn","ms","mtext"]),P3=Je({},["foreignobject","desc","title","annotation-xml"]),PT=Je({},["title","style","font","a","script"]),Qo=Je({},ew);Je(Qo,tw),Je(Qo,wA);var Rd=Je({},nw);Je(Rd,SA);var M=function(H){var he=D(H);(!he||!he.tagName)&&(he={namespaceURI:no,tagName:"template"});var _e=w0(H.tagName),kt=w0(he.tagName);return H.namespaceURI===Xo?he.namespaceURI===no?_e==="svg":he.namespaceURI===to?_e==="svg"&&(kt==="annotation-xml"||O3[kt]):!!Qo[_e]:H.namespaceURI===to?he.namespaceURI===no?_e==="math":he.namespaceURI===Xo?_e==="math"&&P3[kt]:!!Rd[_e]:H.namespaceURI===no?he.namespaceURI===Xo&&!P3[kt]||he.namespaceURI===to&&!O3[kt]?!1:!Rd[_e]&&(PT[_e]||!Qo[_e]):!1},L=function(H){b1(t.removed,{element:H});try{H.parentNode.removeChild(H)}catch{try{H.outerHTML=U}catch{H.remove()}}},ee=function(H,he){try{b1(t.removed,{attribute:he.getAttributeNode(H),from:he})}catch{b1(t.removed,{attribute:null,from:he})}if(he.removeAttribute(H),H==="is"&&!$e[H])if(vt||Et)try{L(he)}catch{}else try{he.setAttribute(H,"")}catch{}},X=function(H){var he,_e;if(tt)H="<remove></remove>"+H;else{var kt=vA(H,/^[\r\n\t ]+/);_e=kt&&kt[0]}Mn==="application/xhtml+xml"&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");var Hs=B?B.createHTML(H):H;if(so===no)try{he=new C().parseFromString(Hs,Mn)}catch{}if(!he||!he.documentElement){he=q.createDocument(so,"template",null);try{he.documentElement.innerHTML=kr?"":Hs}catch{}}var ms=he.body||he.documentElement;return H&&_e&&ms.insertBefore(s.createTextNode(_e),ms.childNodes[0]||null),so===no?ne.call(he,Ze?"html":"body")[0]:Ze?he.documentElement:ms},Ce=function(H){return $.call(H.ownerDocument||H,H,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},He=function(H){return H instanceof p&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof v)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function")},rt=function(H){return ai(l)==="object"?H instanceof l:H&&ai(H)==="object"&&typeof H.nodeType=="number"&&typeof H.nodeName=="string"},cn=function(H,he,_e){Re[H]&&gA(Re[H],function(kt){kt.call(t,he,_e,Zc)})},gn=function(H){var he;if(cn("beforeSanitizeElements",H,null),He(H)||Es(/[\u0080-\uFFFF]/,H.nodeName))return L(H),!0;var _e=wo(H.nodeName);if(cn("uponSanitizeElement",H,{tagName:_e,allowedTags:pe}),H.hasChildNodes()&&!rt(H.firstElementChild)&&(!rt(H.content)||!rt(H.content.firstElementChild))&&Es(/<[/\w]/g,H.innerHTML)&&Es(/<[/\w]/g,H.textContent)||_e==="select"&&Es(/<template/i,H.innerHTML))return L(H),!0;if(!pe[_e]||Q[_e]){if(!Q[_e]&&H1(_e)&&(be.tagNameCheck instanceof RegExp&&Es(be.tagNameCheck,_e)||be.tagNameCheck instanceof Function&&be.tagNameCheck(_e)))return!1;if(eo&&!$s[_e]){var kt=D(H)||H.parentNode,Hs=A(H)||H.childNodes;if(Hs&&kt)for(var ms=Hs.length,ts=ms-1;ts>=0;--ts)kt.insertBefore(S(Hs[ts],!0),x(H))}return L(H),!0}return H instanceof u&&!M(H)||(_e==="noscript"||_e==="noembed")&&Es(/<\/no(script|embed)/i,H.innerHTML)?(L(H),!0):(Te&&H.nodeType===3&&(he=H.textContent,he=Ic(he,we," "),he=Ic(he,Ie," "),H.textContent!==he&&(b1(t.removed,{element:H.cloneNode()}),H.textContent=he)),cn("afterSanitizeElements",H,null),!1)},$1=function(H,he,_e){if(Lt&&(he==="id"||he==="name")&&(_e in s||_e in w2))return!1;if(!(Ye&&!Ee[he]&&Es(Ue,he))){if(!(Le&&Es(yt,he))){if(!$e[he]||Ee[he]){if(!(H1(H)&&(be.tagNameCheck instanceof RegExp&&Es(be.tagNameCheck,H)||be.tagNameCheck instanceof Function&&be.tagNameCheck(H))&&(be.attributeNameCheck instanceof RegExp&&Es(be.attributeNameCheck,he)||be.attributeNameCheck instanceof Function&&be.attributeNameCheck(he))||he==="is"&&be.allowCustomizedBuiltInElements&&(be.tagNameCheck instanceof RegExp&&Es(be.tagNameCheck,_e)||be.tagNameCheck instanceof Function&&be.tagNameCheck(_e))))return!1}else if(!yo[he]){if(!Es(J,Ic(_e,Kt,""))){if(!((he==="src"||he==="xlink:href"||he==="href")&&H!=="script"&&bA(_e,"data:")===0&&gi[H])){if(!(ot&&!Es(Sn,Ic(_e,Kt,"")))){if(_e)return!1}}}}}}return!0},H1=function(H){return H.indexOf("-")>0},BT=function(H){var he,_e,kt,Hs;cn("beforeSanitizeAttributes",H,null);var ms=H.attributes;if(ms){var ts={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$e};for(Hs=ms.length;Hs--;){he=ms[Hs];var E2=he,ns=E2.name,MT=E2.namespaceURI;_e=ns==="value"?he.value:CA(he.value),kt=wo(ns);var RU=_e;if(ts.attrName=kt,ts.attrValue=_e,ts.keepAttr=!0,ts.forceKeepAttr=void 0,cn("uponSanitizeAttribute",H,ts),_e=ts.attrValue,!ts.forceKeepAttr){if(!ts.keepAttr){ee(ns,H);continue}if(Es(/\/>/i,_e)){ee(ns,H);continue}Te&&(_e=Ic(_e,we," "),_e=Ic(_e,Ie," "));var TU=wo(H.nodeName);if(!$1(TU,kt,_e)){ee(ns,H);continue}if(_e!==RU)try{MT?H.setAttributeNS(MT,ns,_e):H.setAttribute(ns,_e)}catch{ee(ns,H)}}}cn("afterSanitizeAttributes",H,null)}},xU=function Pe(H){var he,_e=Ce(H);for(cn("beforeSanitizeShadowDOM",H,null);he=_e.nextNode();)cn("uponSanitizeShadowNode",he,null),!gn(he)&&(he.content instanceof o&&Pe(he.content),BT(he));cn("afterSanitizeShadowDOM",H,null)};return t.sanitize=function(Pe,H){var he,_e,kt,Hs,ms;if(kr=!Pe,kr&&(Pe="<!-->"),typeof Pe!="string"&&!rt(Pe)){if(typeof Pe.toString!="function")throw J4("toString is not a function");if(Pe=Pe.toString(),typeof Pe!="string")throw J4("dirty is not a string, aborting")}if(!t.isSupported){if(ai(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Pe=="string")return e.toStaticHTML(Pe);if(rt(Pe))return e.toStaticHTML(Pe.outerHTML)}return Pe}if(Nt||S2(H),t.removed=[],typeof Pe=="string"&&(En=!1),En){if(Pe.nodeName){var ts=wo(Pe.nodeName);if(!pe[ts]||Q[ts])throw J4("root node is forbidden and cannot be sanitized in-place")}}else if(Pe instanceof l)he=X("<!---->"),_e=he.ownerDocument.importNode(Pe,!0),_e.nodeType===1&&_e.nodeName==="BODY"||_e.nodeName==="HTML"?he=_e:he.appendChild(_e);else{if(!vt&&!Te&&!Ze&&Pe.indexOf("<")===-1)return B&&dt?B.createHTML(Pe):Pe;if(he=X(Pe),!he)return vt?null:dt?U:""}he&&tt&&L(he.firstChild);for(var E2=Ce(En?Pe:he);kt=E2.nextNode();)kt.nodeType===3&&kt===Hs||gn(kt)||(kt.content instanceof o&&xU(kt.content),BT(kt),Hs=kt);if(Hs=null,En)return Pe;if(vt){if(Et)for(ms=F.call(he.ownerDocument);he.firstChild;)ms.appendChild(he.firstChild);else ms=he;return $e.shadowroot&&(ms=se.call(n,ms,!0)),ms}var ns=Ze?he.outerHTML:he.innerHTML;return Ze&&pe["!doctype"]&&he.ownerDocument&&he.ownerDocument.doctype&&he.ownerDocument.doctype.name&&Es(AA,he.ownerDocument.doctype.name)&&(ns="<!DOCTYPE "+he.ownerDocument.doctype.name+`>
`+ns),Te&&(ns=Ic(ns,we," "),ns=Ic(ns,Ie," ")),B&&dt?B.createHTML(ns):ns},t.setConfig=function(Pe){S2(Pe),Nt=!0},t.clearConfig=function(){Zc=null,Nt=!1},t.isValidAttribute=function(Pe,H,he){Zc||S2({});var _e=wo(Pe),kt=wo(H);return $1(_e,kt,he)},t.addHook=function(Pe,H){typeof H=="function"&&(Re[Pe]=Re[Pe]||[],b1(Re[Pe],H))},t.removeHook=function(Pe){if(Re[Pe])return pA(Re[Pe])},t.removeHooks=function(Pe){Re[Pe]&&(Re[Pe]=[])},t.removeAllHooks=function(){Re={}},t}var PA=S5();const E5=te.each,BA=te.trim,MA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],LA={ftp:21,http:80,https:443,mailto:25},$A=["img","video"],HA=(e,t)=>j(e)?!e:j(t)?!Ge($A,t):!0,IA=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},k5=(e,t,n)=>{const s=IA(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?HA(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class jo{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(s[0]);return o&&(n=o[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const o=ir.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!k5(s,o,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=BA(t),this.settings=n;const s=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){o.source=t;return}const a=t.indexOf("//")===0;if(t.indexOf("/")===0&&!a&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const u=s?s.path:new jo(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+o.toAbsPath(u,t);else{const f=/([^#?]*)([#?]?.*)/.exec(t);f&&(t=(s&&s.protocol||"http")+"://mce_host"+o.toAbsPath(u,f[1])+f[2])}}t=t.replace(/@@/g,"(mce_at)");const l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);l&&E5(MA,(u,f)=>{let h=l[f];h&&(h=h.replace(/\(mce_at\)/g,"@@")),o[u]=h}),s&&(o.protocol||(o.protocol=s.protocol),o.userInfo||(o.userInfo=s.userInfo),!o.port&&o.host==="mce_host"&&(o.port=s.port),(!o.host||o.host==="mce_host")&&(o.host=s.host),o.source=""),a&&(o.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new jo(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),o=n.getURI();if(s===o||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===o)return s;let a=this.toRelPath(this.path,n.path);return n.query&&(a+="?"+n.query),n.anchor&&(a+="#"+n.anchor),a}toAbsolute(t,n){const s=new jo(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?LA[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,o="",a,l;const u=t.substring(0,t.lastIndexOf("/")).split("/"),f=n.split("/");if(u.length>=f.length){for(a=0,l=u.length;a<l;a++)if(a>=f.length||u[a]!==f[a]){s=a+1;break}}if(u.length<f.length){for(a=0,l=f.length;a<l;a++)if(a>=u.length||u[a]!==f[a]){s=a+1;break}}if(s===1)return n;for(a=0,l=u.length-(s-1);a<l;a++)o+="../";for(a=s-1,l=f.length;a<l;a++)a!==s-1?o+="/"+f[a]:o+=f[a];return o}toAbsPath(t,n){let s=0;const o=/\/$/.test(n)?"/":"",a=t.split("/"),l=n.split("/"),u=[];E5(a,p=>{p&&u.push(p)});const f=[];for(let p=l.length-1;p>=0;p--)if(!(l[p].length===0||l[p]===".")){if(l[p]===".."){s++;continue}if(s>0){s--;continue}f.push(l[p])}const h=u.length-s;let v;return h<=0?v=za(f).join("/"):v=u.slice(0,h).join("/")+"/"+za(f).join("/"),v.indexOf("/")!==0&&(v="/"+v),o&&v.lastIndexOf("/")!==v.length-1&&(v+=o),v}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const FA=te.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ow="data-mce-type";let x5=0;const R5=(e,t,n,s)=>{var o,a,l,u;const f=t.validate,h=n.getSpecialElements();e.nodeType===Wn&&!t.allow_conditional_comments&&/^\[if/i.test((o=e.nodeValue)!==null&&o!==void 0?o:"")&&(e.nodeValue=" "+e.nodeValue);const v=(a=s==null?void 0:s.tagName)!==null&&a!==void 0?a:e.nodeName.toLowerCase();if(e.nodeType!==Oi||v==="body")return;const p=T.fromDom(e),C=tl(p,ow),k=jn(p,"data-mce-bogus");if(!C&&V(k)){k==="all"?pt(p):or(p);return}const R=n.getElementRule(v);if(f&&!R){Oe(h,v)?pt(p):or(p);return}else j(s)&&(s.allowedTags[v]=!0);if(f&&R&&!C){if(K((l=R.attributesForced)!==null&&l!==void 0?l:[],S=>{nn(p,S.name,S.value==="{$uid}"?`mce_${x5++}`:S.value)}),K((u=R.attributesDefault)!==null&&u!==void 0?u:[],S=>{tl(p,S.name)||nn(p,S.name,S.value==="{$uid}"?`mce_${x5++}`:S.value)}),R.attributesRequired&&!Ot(R.attributesRequired,S=>tl(p,S))){or(p);return}if(R.removeEmptyAttrs&&nl(p)){or(p);return}R.outputName&&R.outputName!==v&&Vf(p,R.outputName)}},T5=(e,t,n,s,o)=>!(s in FA&&k5(e,o,n))&&(!e.validate||t.isValid(n,s)||ln(s,"data-")||ln(s,"aria-")),_5=(e,t)=>e.hasAttribute(ow)&&(t==="id"||t==="class"||t==="style"),N5=(e,t)=>e in t.getBoolAttrs(),zA=(e,t,n)=>{const{attributes:s}=e;for(let o=s.length-1;o>=0;o--){const a=s[o],l=a.name,u=a.value;!T5(t,n,e.tagName.toLowerCase(),l,u)&&!_5(e,l)?e.removeAttribute(l):N5(l,n)&&e.setAttribute(l,l)}},ZA=(e,t)=>{const n=PA();return n.addHook("uponSanitizeElement",(s,o)=>{R5(s,e,t,o)}),n.addHook("uponSanitizeAttribute",(s,o)=>{const a=s.tagName.toLowerCase(),{attrName:l,attrValue:u}=o;o.keepAttr=T5(e,t,a,l,u),o.keepAttr?(o.allowedAttributes[l]=!0,N5(l,t)&&(o.attrValue=l),e.allow_svg_data_urls&&ln(u,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):_5(s,l)&&(o.forceKeepAttr=!0)}),n},VA=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},UA=(e,t)=>{if(e.sanitize){const n=ZA(e,t);return(s,o)=>{n.sanitize(s,VA(e,o)),n.removed=[]}}else return(n,s)=>{const o=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let a;for(;a=o.nextNode();)R5(a,e,t),ie(a)&&zA(a,e,t)}},A5=te.makeMap,D5=te.extend,O5=(e,t,n)=>{const s=e.name,o=s in n&&s!=="title"&&s!=="textarea",a=t.childNodes;for(let l=0,u=a.length;l<u;l++){const f=a[l],h=new ds(f.nodeName.toLowerCase(),f.nodeType);if(ie(f)){const v=f.attributes;for(let p=0,C=v.length;p<C;p++){const k=v[p];h.attr(k.name,k.value)}}else Y(f)?(h.value=f.data,o&&(h.raw=!0)):(Do(f)||uv(f)||dv(f))&&(h.value=f.data);O5(h,f,n),e.append(h)}},WA=(e,t,n)=>{const s=[];for(let o=e,a=o;o;a=o,o=o.walk()){const l=o;K(t,u=>u(l)),nt(l.parent)&&l!==e?o=a:s.push(l)}for(let o=s.length-1;o>=0;o--){const a=s[o];K(n,l=>l(a))}},jA=(e,t,n,s)=>{const o=n.validate,a=t.getNonEmptyElements(),l=t.getWhitespaceElements(),u=D5(A5("script,style,head,html,body,title,meta,param"),t.getBlockElements()),f=bl(t),h=/[ \t\r\n]+/g,v=/^[ \t\r\n]+/,p=/[ \t\r\n]+$/,C=D=>{let O=D.parent;for(;j(O);){if(O.name in l)return!0;O=O.parent}return!1},k=D=>{let O=D;for(;j(O);){if(O.name in f)return g1(t,a,l,O);O=O.parent}return!1},R=D=>D.name in u||jh(t,D),S=(D,O)=>{const B=O?D.prev:D.next;return j(B)||nt(D.parent)?!1:R(D.parent)&&(D.parent!==e||s.isRootContent===!0)};return[D=>{var O;if(D.type===3&&!C(D)){let B=(O=D.value)!==null&&O!==void 0?O:"";B=B.replace(h," "),(l_(D.prev,R)||S(D,!0))&&(B=B.replace(v,"")),B.length===0?D.remove():D.value=B}},D=>{var O;if(D.type===1){const B=t.getElementRule(D.name);if(o&&B){const U=g1(t,a,l,D);B.paddInEmptyBlock&&U&&k(D)?A4(s,R,D):B.removeEmpty&&U?R(D)?D.remove():D.unwrap():B.paddEmpty&&(U||a_(D))&&A4(s,R,D)}}else if(D.type===3&&!C(D)){let B=(O=D.value)!==null&&O!==void 0?O:"";(D.next&&R(D.next)||S(D,!1))&&(B=B.replace(p,"")),B.length===0?D.remove():D.value=B}}]},qA=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},md=(e={},t=dr())=>{const n=i5(),s=i5(),o={validate:!0,root_name:"body",sanitize:!0,...e},a=new DOMParser,l=UA(o,t),u=(O,B,U="html")=>{const ge=U==="xhtml"?"application/xhtml+xml":"text/html",q=Oe(t.getSpecialElements(),B.toLowerCase()),$=q?`<${B}>${O}</${B}>`:O,F=U==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${$}</body></html>`:`<body>${$}</body>`,ne=a.parseFromString(F,ge).body;return l(ne,ge),q?ne.firstChild:ne},f=n.addFilter,h=n.getFilters,v=n.removeFilter,p=s.addFilter,C=s.getFilters,k=s.removeFilter,R=(O,B)=>{CE(t,O)&&B.push(O)},S=(O,B)=>{const U=V(B.attr(ow)),ge=B.type===1&&!Oe(O,B.name)&&!jh(t,B);return B.type===3||ge&&!U},x=(O,B)=>{const U=D5(A5("script,style,head,html,body,title,meta,param"),t.getBlockElements()),ge=/^[ \t\r\n]+/,q=/[ \t\r\n]+$/;let $=O.firstChild,F=null;const ne=se=>{var fe,Re;se&&($=se.firstChild,$&&$.type===3&&($.value=(fe=$.value)===null||fe===void 0?void 0:fe.replace(ge,"")),$=se.lastChild,$&&$.type===3&&($.value=(Re=$.value)===null||Re===void 0?void 0:Re.replace(q,"")))};if(t.isValidChild(O.name,B.toLowerCase())){for(;$;){const se=$.next;S(U,$)?(F||(F=new ds(B,1),F.attr(o.forced_root_block_attrs),O.insert(F,$)),F.append($)):(ne(F),F=null),$=se}ne(F)}},D={schema:t,addAttributeFilter:p,getAttributeFilters:C,removeAttributeFilter:k,addNodeFilter:f,getNodeFilters:h,removeNodeFilter:v,parse:(O,B={})=>{var U;const ge=o.validate,q=(U=B.context)!==null&&U!==void 0?U:o.root_name,$=u(O,q,B.format);ru(t,$);const F=new ds(q,11);O5(F,$,t.getSpecialElements()),$.innerHTML="";const[ne,se]=jA(F,t,o,B),fe=[],Re=ge?yt=>R(yt,fe):Be,we={nodes:{},attributes:{}},Ie=yt=>gE(h(),C(),yt,we);if(WA(F,[ne,Ie],[se,Re]),fe.reverse(),ge&&fe.length>0)if(B.context){const{pass:yt,fail:Sn}=gs(fe,Kt=>Kt.parent===F);O4(Sn,t,F,Ie),B.invalid=yt.length>0}else O4(fe,t,F,Ie);const Ue=qA(o,B);return Ue&&(F.name==="body"||B.isRootContent)&&x(F,Ue),B.invalid||pE(we,B),F}};return oA(D,o),qN(D,o,t),D},GA=e=>g0(e)?Bc({validate:!1}).serialize(e):e,P5=(e,t,n)=>{const s=GA(e),o=t(s);if(o.isDefaultPrevented())return o;if(g0(e))if(o.content!==s){const a=md({validate:!1,forced_root_block:!1,sanitize:n}).parse(o.content,{context:e.name});return{...o,content:a}}else return{...o,content:e};else return o},B5=(e,t)=>{if(t.no_events)return In.value(t);{const n=Ac(e,t);return n.isDefaultPrevented()?In.error(Dc(e,{content:"",...n}).content):In.value(n)}},M5=(e,t,n)=>n.no_events?t:P5(t,o=>Dc(e,{...n,content:o}),vm(e)).content,rw=(e,t)=>{if(t.no_events)return In.value(t);{const n=P5(t.content,s=>Ny(e,{...t,content:s}),vm(e));return n.isDefaultPrevented()?(qp(e,n),In.error(void 0)):In.value(n)}},aw=(e,t,n)=>{n.no_events||qp(e,{...n,content:t})},cw=(e,t,n)=>({element:e,width:t,rows:n}),L5=(e,t)=>({element:e,cells:t}),KA=(e,t)=>({x:e,y:t}),$5=(e,t)=>zs(e,t).bind(Hr).getOr(1),YA=(e,t,n,s,o)=>{const a=$5(o,"rowspan"),l=$5(o,"colspan"),u=e.rows;for(let f=n;f<n+a;f++){u[f]||(u[f]=L5(kl(s),[]));for(let h=t;h<t+l;h++){const v=u[f].cells;v[h]=f===n&&h===t?o:hc(o)}}},XA=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},QA=(e,t,n)=>{for(;XA(e,t,n);)t++;return t},H5=e=>wt(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),I5=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const o=n[s].cells;for(let a=0;a<o.length;a++)if(Ke(o[a],t))return y.some(KA(a,s))}return y.none()},F5=(e,t,n,s,o)=>{const a=[],l=e.rows;for(let u=n;u<=o;u++){const f=l[u].cells,h=t<s?f.slice(t,s+1):f.slice(s,t+1);a.push(L5(l[u].element,h))}return a},JA=(e,t,n)=>{const s=t.x,o=t.y,a=n.x,l=n.y,u=o<l?F5(e,s,o,a,l):F5(e,s,l,a,o);return cw(e.element,H5(u),u)},eD=(e,t)=>{const n=hc(e.element),s=T.fromTag("tbody");return Yr(s,t),Pt(n,s),n},tD=e=>We(e.rows,t=>{const n=We(t.cells,o=>{const a=kl(o);return qt(a,"colspan"),qt(a,"rowspan"),a}),s=hc(t.element);return Yr(s,n),s}),nD=e=>{const t=cw(hc(e),0,[]);return K(un(e,"tr"),(n,s)=>{K(un(n,"td,th"),(o,a)=>{YA(t,QA(t,a,s),s,n,o)})}),cw(t.element,H5(t.rows),t.rows)},sD=e=>eD(e,tD(e)),oD=(e,t,n)=>I5(e,t).bind(s=>I5(e,n).map(o=>JA(e,s,o))),rD=e=>Wt(e,t=>lt(t)==="ul"||lt(t)==="ol"),aD=(e,t)=>Wt(e,n=>lt(n)==="li"&&Kl(n,t)).fold(oe([]),n=>rD(e).map(s=>{const o=T.fromTag(lt(s)),a=mt(on(s),(l,u)=>ln(u,"list-style"));return Zi(o,a),[T.fromTag("li"),o]}).getOr([])),cD=(e,t)=>{const n=wt(t,(s,o)=>(Pt(o,s),o),e);return t.length>0?rd([n]):n},lD=e=>nc(e)?ps(e).filter(tc).fold(oe([]),t=>[e,t]):tc(e)?[e]:[],iD=(e,t)=>{const n=T.fromDom(t.commonAncestorContainer),s=Ba(n,e),o=ke(s,oc),a=aD(s,t),l=o.concat(a.length?a:lD(n));return We(l,hc)},z5=()=>rd([]),uD=(e,t)=>cD(T.fromDom(t.cloneContents()),iD(e,t)),dD=(e,t)=>rl(t,"table",G(Ke,e)),fD=(e,t)=>dD(e,t[0]).bind(n=>{const s=t[0],o=t[t.length-1],a=nD(n);return oD(a,s,o).map(l=>rd([sD(l)]))}).getOrThunk(z5),mD=(e,t)=>t.length>0&&t[0].collapsed?z5():uD(e,t[0]),hD=(e,t)=>{const n=ql(t,e);return n.length>0?fD(e,n):mD(e,t)},k0=(e,t)=>t>=0&&t<e.length&&ka(e.charAt(t)),Z5=e=>Oo(e.innerText),gD=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),pD=e=>y.from(e.selection.getRng()).map(t=>{var n;const s=y.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),a=gD(s),l=T.fromDom(t.cloneContents());SS(l),ES(l);const u=e.dom.add(o,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},l.dom),f=Z5(u),h=Oo((n=u.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(u),k0(h,0)||k0(h,h.length-1)){const v=s.getOr(o),p=Z5(v),C=p.indexOf(f);if(C===-1)return f;{const k=k0(p,C-1),R=k0(p,C+f.length);return(k?" ":"")+f+(R?" ":"")}}else return f}).getOr(""),vD=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),o=e.selection.getSel(),a=c4(e,Fm(o)),l=t.contextual?hD(T.fromDom(e.getBody()),a).dom:n.cloneContents();return l&&s.appendChild(l),e.selection.serializer.serialize(s,t)},bD=(e,t)=>{if(t.format==="text")return pD(e);{const n=vD(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},CD=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),yD=(e,t,n={})=>{const s=CD(n,t);return B5(e,s).fold(Ct,o=>{const a=bD(e,o);return M5(e,a,o)})},lw=0,V5=1,U5=2,wD=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),o=new Array(n),a=(v,p,C)=>({start:v,end:p,diag:C}),l=(v,p,C,k,R)=>{const S=f(v,p,C,k);if(S===null||S.start===p&&S.diag===p-k||S.end===v&&S.diag===v-C){let x=v,A=C;for(;x<p||A<k;)x<p&&A<k&&e[x]===t[A]?(R.push([lw,e[x]]),++x,++A):p-v>k-C?(R.push([U5,e[x]]),++x):(R.push([V5,t[A]]),++A)}else{l(v,S.start,C,S.start-S.diag,R);for(let x=S.start;x<S.end;++x)R.push([lw,e[x]]);l(S.end,p,S.end-S.diag,k,R)}},u=(v,p,C,k)=>{let R=v;for(;R-p<k&&R<C&&e[R]===t[R-p];)++R;return a(v,R,p)},f=(v,p,C,k)=>{const R=p-v,S=k-C;if(R===0||S===0)return null;const x=R-S,A=S+R,D=(A%2===0?A:A+1)/2;s[1+D]=v,o[1+D]=p+1;let O,B,U,ge,q;for(O=0;O<=D;++O){for(B=-O;B<=O;B+=2){for(U=B+D,B===-O||B!==O&&s[U-1]<s[U+1]?s[U]=s[U+1]:s[U]=s[U-1]+1,ge=s[U],q=ge-v+C-B;ge<p&&q<k&&e[ge]===t[q];)s[U]=++ge,++q;if(x%2!==0&&x-O<=B&&B<=x+O&&o[U-x]<=s[U])return u(o[U-x],B+v-C,p,k)}for(B=x-O;B<=x+O;B+=2){for(U=B+D-x,B===x-O||B!==x+O&&o[U+1]<=o[U-1]?o[U]=o[U+1]-1:o[U]=o[U-1],ge=o[U]-1,q=ge-v+C-B;ge>=v&&q>=C&&e[ge]===t[q];)o[U]=ge--,q--;if(x%2===0&&-O<=B&&B<=O&&o[U]<=s[U+x])return u(o[U],B+v-C,p,k)}}return null},h=[];return l(0,e.length,0,t.length,h),h},W5=e=>ie(e)?e.outerHTML:Y(e)?ir.encodeRaw(e.data,!1):Do(e)?"<!--"+e.data+"-->":"",SD=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},ED=(e,t,n)=>{const s=SD(t);if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.insertBefore(s,o)}else e.appendChild(s)},kD=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},xD=(e,t)=>{let n=0;K(e,s=>{s[0]===lw?n++:s[0]===V5?(ED(t,s[1],n),n++):s[0]===U5&&kD(t,n)})},RD=e=>ke(We(Tn(e.childNodes),W5),t=>t.length>0),TD=(e,t)=>{const n=We(Tn(t.childNodes),W5);return xD(wD(n,e),t),t},_D=Lr(()=>document.implementation.createHTMLDocument("undo")),ND=e=>e.indexOf("</iframe>")!==-1,AD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),DD=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),x0=e=>{const t=RD(e.getBody()),n=oo(t,o=>{const a=wS(e.serializer,o);return a.length>0?[a]:[]}),s=n.join("");return ND(s)?AD(n):DD(s)},iw=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?TD(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:j(s)&&fp(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},uw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,j5=e=>{const t=T.fromTag("body",_D());return Me(t,uw(e)),K(un(t,"*[data-mce-bogus]"),or),sv(t)},OD=(e,t)=>uw(e)===uw(t),PD=(e,t)=>j5(e)===j5(t),dw=(e,t)=>!e||!t?!1:OD(e,t)?!0:PD(e,t),fw=e=>e.get()===0,R0=(e,t,n)=>{fw(n)&&(e.typing=t)},q5=(e,t)=>{e.typing&&(R0(e,!1,t),e.add())},BD=e=>{e.typing&&(e.typing=!1,e.add())},MD=(e,t,n)=>{fw(t)&&n.set(om(e.selection))},LD=(e,t,n,s,o,a,l)=>{const u=x0(e),f=te.extend(a||{},u);if(!fw(s)||e.removed)return null;const h=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:f,lastLevel:h,originalEvent:l}).isDefaultPrevented()||h&&dw(h,f))return null;t.data[n.get()]&&o.get().each(C=>{t.data[n.get()].beforeBookmark=C});const v=Bl(e);if(v&&t.data.length>v){for(let C=0;C<t.data.length-1;C++)t.data[C]=t.data[C+1];t.data.length--,n.set(t.data.length)}f.bookmark=om(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(f),n.set(t.data.length-1);const p={level:f,lastLevel:h,originalEvent:l};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",p),e.dispatch("change",p)):e.dispatch("AddUndo",p),f},$D=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},HD=(e,t,n,s,o)=>{if(t.transact(s)){const a=t.data[n.get()].bookmark,l=t.data[n.get()-1];iw(e,l,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=a)}},ID=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],iw(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},FD=(e,t,n,s)=>{let o;return t.typing&&(t.add(),t.typing=!1,R0(t,!1,n)),s.get()>0&&(s.set(s.get()-1),o=t.data[s.get()],iw(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o},zD=e=>{e.clear(),e.add()},ZD=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!dw(x0(e),t.data[0]),VD=(e,t)=>t.get()<e.data.length-1&&!e.typing,UD=(e,t,n)=>(q5(e,t),e.beforeChange(),e.ignore(n),e.add()),WD=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},jD=(e,t)=>{const n=e.dom,s=j(t)?t:e.getBody();K(n.select("table,a",s),o=>{switch(o.nodeName){case"TABLE":const a=hm(e),l=n.getAttrib(o,"border");(!l||l==="0")&&e.hasVisual?n.addClass(o,a):n.removeClass(o,a);break;case"A":if(!n.getAttrib(o,"href")){const u=n.getAttrib(o,"name")||o.id,f=Yg(e);u&&e.hasVisual?n.addClass(o,f):n.removeClass(o,f)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},G5=e=>({init:{bindEvents:Be},undoManager:{beforeChange:(t,n)=>MD(e,t,n),add:(t,n,s,o,a,l)=>LD(e,t,n,s,o,a,l),undo:(t,n,s)=>FD(e,t,n,s),redo:(t,n)=>ID(e,t,n),clear:(t,n)=>$D(e,t,n),reset:t=>zD(t),hasUndo:(t,n)=>ZD(e,t,n),hasRedo:(t,n)=>VD(t,n),transact:(t,n,s)=>UD(t,n,s),ignore:(t,n)=>WD(t,n),extra:(t,n,s,o)=>HD(e,t,n,s,o)},formatter:{match:(t,n,s,o)=>F4(e,t,n,s,o),matchAll:(t,n)=>eN(e,t,n),matchNode:(t,n,s,o)=>Cr(e,t,n,s,o),canApply:t=>nN(e,t),closest:t=>tN(e,t),apply:(t,n,s)=>n5(e,t,n,s),remove:(t,n,s,o)=>JE(e,t,n,s,o),toggle:(t,n,s)=>ZN(e,t,n,s),formatChanged:(t,n,s,o,a)=>zN(e,t,n,s,o,a)},editor:{getContent:t=>A7(e,t),setContent:(t,n)=>Y_(e,t,n),insertContent:(t,n)=>j_(e,t,n),addVisual:t=>jD(e,t)},selection:{getContent:(t,n)=>yD(e,t,n)},autocompleter:{addDecoration:t=>b7(e,t),removeDecoration:()=>y7(e,T.fromDom(e.getBody()))},raw:{getModel:()=>y.none()}}),qD=e=>{const t=h=>Fe(h)?h:{},{init:n,undoManager:s,formatter:o,editor:a,selection:l,autocompleter:u,raw:f}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(h,v,p)=>s.transact(p),ignore:(h,v)=>s.ignore(v),extra:(h,v,p,C)=>s.extra(p,C)},formatter:{match:(h,v,p,C)=>o.match(h,t(v),C),matchAll:o.matchAll,matchNode:o.matchNode,canApply:h=>o.canApply(h),closest:h=>o.closest(h),apply:(h,v,p)=>o.apply(h,t(v)),remove:(h,v,p,C)=>o.remove(h,t(v)),toggle:(h,v,p)=>o.toggle(h,t(v)),formatChanged:(h,v,p,C,k)=>o.formatChanged(v,p,C,k)},editor:{getContent:h=>a.getContent(h),setContent:(h,v)=>({content:a.setContent(h,v),html:""}),insertContent:(h,v)=>(a.insertContent(h),""),addVisual:a.addVisual},selection:{getContent:(h,v)=>l.getContent(v)},autocompleter:{addDecoration:u.addDecoration,removeDecoration:u.removeDecoration},raw:{getModel:()=>y.some(f.getRawModel())}}},GD=()=>{const e=oe(null),t=oe("");return{init:{bindEvents:Be},undoManager:{beforeChange:Be,add:e,undo:e,redo:e,clear:Be,reset:Be,hasUndo:qe,hasRedo:qe,transact:e,ignore:Be,extra:Be},formatter:{match:qe,matchAll:oe([]),matchNode:oe(void 0),canApply:qe,closest:t,apply:Be,remove:Be,toggle:Be,formatChanged:oe({unbind:Be})},editor:{getContent:t,setContent:oe({content:"",html:""}),insertContent:oe(""),addVisual:Be},selection:{getContent:t},autocompleter:{addDecoration:Be,removeDecoration:Be},raw:{getModel:oe(y.none())}}},wr=e=>Oe(e.plugins,"rtc"),KD=e=>ht(e.plugins,"rtc").bind(t=>y.from(t.setup)),YD=e=>{const t=e;return KD(e).fold(()=>(t.rtcInstance=G5(e),y.none()),n=>(t.rtcInstance=GD(),y.some(()=>n().then(s=>(t.rtcInstance=qD(s),s.rtc.isRemote)))))},mw=e=>e.rtcInstance?e.rtcInstance:G5(e),Zt=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},XD=(e,t,n)=>{Zt(e).undoManager.beforeChange(t,n)},QD=(e,t,n,s,o,a,l)=>Zt(e).undoManager.add(t,n,s,o,a,l),JD=(e,t,n,s)=>Zt(e).undoManager.undo(t,n,s),eO=(e,t,n)=>Zt(e).undoManager.redo(t,n),tO=(e,t,n)=>{Zt(e).undoManager.clear(t,n)},nO=(e,t)=>{Zt(e).undoManager.reset(t)},sO=(e,t,n)=>Zt(e).undoManager.hasUndo(t,n),oO=(e,t,n)=>Zt(e).undoManager.hasRedo(t,n),rO=(e,t,n,s)=>Zt(e).undoManager.transact(t,n,s),aO=(e,t,n)=>{Zt(e).undoManager.ignore(t,n)},cO=(e,t,n,s,o)=>{Zt(e).undoManager.extra(t,n,s,o)},lO=(e,t,n,s,o)=>Zt(e).formatter.match(t,n,s,o),iO=(e,t,n)=>Zt(e).formatter.matchAll(t,n),uO=(e,t,n,s,o)=>Zt(e).formatter.matchNode(t,n,s,o),dO=(e,t)=>Zt(e).formatter.canApply(t),fO=(e,t)=>Zt(e).formatter.closest(t),mO=(e,t,n,s)=>{Zt(e).formatter.apply(t,n,s)},hO=(e,t,n,s,o)=>{Zt(e).formatter.remove(t,n,s,o)},gO=(e,t,n,s)=>{Zt(e).formatter.toggle(t,n,s)},pO=(e,t,n,s,o,a)=>Zt(e).formatter.formatChanged(t,n,s,o,a),vO=(e,t)=>mw(e).editor.getContent(t),bO=(e,t,n)=>mw(e).editor.setContent(t,n),CO=(e,t,n)=>mw(e).editor.insertContent(t,n),yO=(e,t,n)=>Zt(e).selection.getContent(t,n),wO=(e,t)=>Zt(e).editor.addVisual(t),K5=e=>Zt(e).init.bindEvents(),SO=(e,t)=>Zt(e).autocompleter.addDecoration(t),EO=e=>Zt(e).autocompleter.removeDecoration(),kO=(e,t={})=>{const n=t.format?t.format:"html";return yO(e,n,t)},Y5=e=>e.dom.length===0?(pt(e),y.none()):y.some(e),xO=(e,t)=>e.filter(n=>Ju.isBookmarkNode(n.dom)).bind(t?Ka:nr),RO=(e,t,n,s)=>{const o=e.dom,a=t.dom,l=s?o.length:a.length;s?(b4(o,a,!1,!s),n.setStart(a,l)):(b4(a,o,!1,!s),n.setEnd(a,l))},TO=(e,t)=>{ps(e).each(n=>{const s=e.dom;t&&f1(n,I(s,0))?d0(s,0):!t&&m1(n,I(s,s.length))&&v4(s,s.length)})},X5=(e,t,n,s)=>{e.bind(o=>((s?v4:d0)(o.dom,s?o.dom.length:0),t.filter(_n).map(l=>RO(o,l,n,s)))).orThunk(()=>xO(t,s).or(t).filter(_n).map(a=>TO(a,s)))},_O=(e,t)=>{const n=y.from(t.firstChild).map(T.fromDom),s=y.from(t.lastChild).map(T.fromDom);e.deleteContents(),e.insertNode(t);const o=n.bind(nr).filter(_n).bind(Y5),a=s.bind(Ka).filter(_n).bind(Y5);X5(o,n,e,!0),X5(a,s,e,!1),e.collapse(!1)},NO=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),AO=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=s?{context:s.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return Bc({validate:!1},e.schema).serialize(a)}else return t.content},DO=(e,t,n={})=>{const s=NO(n,t);rw(e,s).each(o=>{const a=AO(e,o),l=e.selection.getRng();_O(l,l.createContextualFragment(a)),e.selection.setRng(l),Oa(e,l),aw(e,a,o)})},Q5=(e,t,n)=>{if(Oe(e,t)){const s=ke(e[t],o=>o!==n);s.length===0?delete e[t]:e[t]=s}};var OO=(e,t)=>{let n,s;const o=(u,f)=>Wt(f,h=>e.is(h,u)),a=u=>e.getParents(u,void 0,e.getRoot()),l=()=>{n={},s={},t.on("NodeChange",u=>{const f=u.element,h=a(f),v={};at(n,(p,C)=>{o(C,h).each(k=>{s[C]||(K(p,R=>{R(!0,{node:k,selector:C,parents:h})}),s[C]=p),v[C]=p})}),at(s,(p,C)=>{v[C]||(delete s[C],K(p,k=>{k(!1,{node:f,selector:C,parents:h})}))})})};return{selectorChangedWithUnbind:(u,f)=>(n||l(),n[u]||(n[u]=[]),n[u].push(f),o(u,a(t.selection.getStart())).each(()=>{s[u]=n[u]}),{unbind:()=>{Q5(n,u,f),Q5(s,u,f)}})}};const J5=e=>!!(e&&e.ownerDocument)&&Zs(T.fromDom(e.ownerDocument),T.fromDom(e)),PO=e=>e?J5(e.startContainer)&&J5(e.endContainer):!1,ek=(e,t,n,s)=>{let o,a;const{selectorChangedWithUnbind:l}=OO(e,s),u=(J,pe)=>{const ze=e.createRng();j(J)&&j(pe)?(ze.setStart(J,pe),ze.setEnd(J,pe),B(ze),A(!1)):(kc(e,ze,s.getBody(),!0),B(ze))},f=J=>kO(s,J),h=(J,pe)=>DO(s,J,pe),v=J=>mS(s.getBody(),O(),J),p=J=>hS(s.getBody(),O(),J),C=(J,pe)=>Sn.getBookmark(J,pe),k=J=>Sn.moveToBookmark(J),R=(J,pe)=>(u7(e,J,pe).each(B),J),S=()=>{const J=O(),pe=D();return!J||J.item?!1:J.compareEndPoints?J.compareEndPoints("StartToEnd",J)===0:!pe||J.collapsed},x=()=>{const J=O(),pe=s.getBody().querySelectorAll('[data-mce-selected="1"]');return pe.length>0?So(pe,ze=>e.isEditable(ze.parentElement)):J.startContainer===J.endContainer?e.isEditable(J.startContainer):e.isEditable(J.startContainer)&&e.isEditable(J.endContainer)},A=J=>{const pe=O();pe.collapse(!!J),B(pe)},D=()=>t.getSelection?t.getSelection():t.document.selection,O=()=>{let J;const pe=($e,ve,be)=>{try{return ve.compareBoundaryPoints($e,be)}catch{return-1}},ze=t.document;if(j(s.bookmark)&&!ti(s)){const $e=i1(s);if($e.isSome())return $e.map(ve=>c4(s,[ve])[0]).getOr(ze.createRange())}try{const $e=D();$e&&!ji($e.anchorNode)&&($e.rangeCount>0?J=$e.getRangeAt(0):J=ze.createRange(),J=c4(s,[J])[0])}catch{}if(J||(J=ze.createRange()),Ja(J.startContainer)&&J.collapsed){const $e=e.getRoot();J.setStart($e,0),J.setEnd($e,0)}return o&&a&&(pe(J.START_TO_START,J,o)===0&&pe(J.END_TO_END,J,o)===0?J=a:(o=null,a=null)),J},B=(J,pe)=>{if(!PO(J))return;const ze=D();if(J=s.dispatch("SetSelectionRange",{range:J,forward:pe}).range,ze){a=J;try{ze.removeAllRanges(),ze.addRange(J)}catch{}pe===!1&&ze.extend&&(ze.collapse(J.endContainer,J.endOffset),ze.extend(J.startContainer,J.startOffset)),o=ze.rangeCount>0?ze.getRangeAt(0):null}if(!J.collapsed&&J.startContainer===J.endContainer&&(ze!=null&&ze.setBaseAndExtent)&&J.endOffset-J.startOffset<2&&J.startContainer.hasChildNodes()){const ve=J.startContainer.childNodes[J.startOffset];ve&&ve.nodeName==="IMG"&&(ze.setBaseAndExtent(J.startContainer,J.startOffset,J.endContainer,J.endOffset),(ze.anchorNode!==J.startContainer||ze.focusNode!==J.endContainer)&&ze.setBaseAndExtent(ve,0,ve,1))}s.dispatch("AfterSetSelectionRange",{range:J,forward:pe})},U=J=>(h(e.getOuterHTML(J)),J),ge=()=>l7(s.getBody(),O()),q=(J,pe)=>i7(e,O(),J,pe),$=()=>{const J=D(),pe=J==null?void 0:J.anchorNode,ze=J==null?void 0:J.focusNode;if(!J||!pe||!ze||ji(pe)||ji(ze))return!0;const $e=e.createRng(),ve=e.createRng();try{$e.setStart(pe,J.anchorOffset),$e.collapse(!0),ve.setStart(ze,J.focusOffset),ve.collapse(!0)}catch{return!0}return $e.compareBoundaryPoints($e.START_TO_START,ve)<=0},yt={dom:e,win:t,serializer:n,editor:s,expand:(J={type:"word"})=>B(Vo(e).expand(O(),J)),collapse:A,setCursorLocation:u,getContent:f,setContent:h,getBookmark:C,moveToBookmark:k,select:R,isCollapsed:S,isEditable:x,isForward:$,setNode:U,getNode:ge,getSel:D,setRng:B,getRng:O,getStart:v,getEnd:p,getSelectedBlocks:q,normalize:()=>{const J=O(),pe=D();if(!Rp(pe)&&Fo(s)){const ze=cd(e,J);return ze.each($e=>{B($e,$())}),ze.getOr(J)}return J},selectorChanged:(J,pe)=>(l(J,pe),yt),selectorChangedWithUnbind:l,getScrollContainer:()=>{let J,pe=e.getRoot();for(;pe&&pe.nodeName!=="BODY";){if(pe.scrollHeight>pe.clientHeight){J=pe;break}pe=pe.parentNode}return J},scrollIntoView:(J,pe)=>{j(J)?Pc(s,J,pe):Oa(s,O(),pe)},placeCaretAt:(J,pe)=>B(s0(J,pe,s.getDoc())),getBoundingClientRect:()=>{const J=O();return J.collapsed?I.fromRangeStart(J).getClientRects()[0]:J.getBoundingClientRect()},destroy:()=>{t=o=a=null,Kt.destroy()}},Sn=Ju(yt),Kt=td(yt,s);return yt.bookmarkManager=Sn,yt.controlSelection=Kt,yt},BO=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,o)=>{let a=s.length;for(;a--;){const l=s[a];l.attr("tabindex",l.attr("data-mce-tabindex")),l.attr(o,null)}}),e.addAttributeFilter("src,href,style",(s,o)=>{const a="data-mce-"+o,l=t.url_converter,u=t.url_converter_scope;let f=s.length;for(;f--;){const h=s[f];let v=h.attr(a);v!==void 0?(h.attr(o,v.length>0?v:null),h.attr(a,null)):(v=h.attr(o),o==="style"?v=n.serializeStyle(n.parseStyle(v),h.name):l&&(v=l.call(u,v,o,h.name)),h.attr(o,v.length>0?v:null))}}),e.addAttributeFilter("class",s=>{let o=s.length;for(;o--;){const a=s[o];let l=a.attr("class");l&&(l=l.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),a.attr("class",l.length>0?l:null))}}),e.addAttributeFilter("data-mce-type",(s,o,a)=>{let l=s.length;for(;l--;){const u=s[l];u.attr("data-mce-type")==="bookmark"&&!a.cleanup&&(y.from(u.firstChild).exists(h=>{var v;return!Ji((v=h.value)!==null&&v!==void 0?v:"")})?u.unwrap():u.remove())}}),e.addNodeFilter("noscript",s=>{var o;let a=s.length;for(;a--;){const l=s[a].firstChild;l&&(l.value=ir.decode((o=l.value)!==null&&o!==void 0?o:""))}}),e.addNodeFilter("script,style",(s,o)=>{var a;const l=f=>f.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let u=s.length;for(;u--;){const f=s[u],h=f.firstChild,v=(a=h==null?void 0:h.value)!==null&&a!==void 0?a:"";if(o==="script"){const p=f.attr("type");p&&f.attr("type",p==="mce-no/type"?null:p.replace(/^mce\-/,"")),t.element_format==="xhtml"&&h&&v.length>0&&(h.value=`// <![CDATA[
`+l(v)+`
// ]]>`)}else t.element_format==="xhtml"&&h&&v.length>0&&(h.value=`<!--
`+l(v)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let o=s.length;for(;o--;){const a=s[o],l=a.value;t.preserve_cdata&&(l==null?void 0:l.indexOf("[CDATA["))===0?(a.name="#cdata",a.type=4,a.value=n.decode(l.replace(/^\[CDATA\[|\]\]$/g,""))):(l==null?void 0:l.indexOf("mce:protected "))===0&&(a.name="#text",a.type=3,a.raw=!0,a.value=unescape(l).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,o)=>{let a=s.length;for(;a--;){const l=s[a];l.type===7?l.remove():l.type===1&&o==="input"&&!l.attr("type")&&l.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{K(s,o=>{o.attr("data-mce-type")==="format-caret"&&(o.isEmpty(e.schema.getNonEmptyElements())?o.remove():o.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,o)=>{let a=s.length;for(;a--;)s[a].attr(o,null)}),t.remove_trailing_brs&&u5(e,e.schema)},MO=e=>{const t=s=>(s==null?void 0:s.name)==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},LO=(e,t,n)=>{let s;const o=e.dom;let a=t.cloneNode(!0);const l=document.implementation;if(l.createHTMLDocument){const u=l.createHTMLDocument("");te.each(a.nodeName==="BODY"?a.childNodes:[a],f=>{u.body.appendChild(u.importNode(f,!0))}),a.nodeName!=="BODY"?a=u.body.firstChild:a=u.body,s=o.doc,o.doc=u}return Cy(e,{...n,node:a}),s&&(o.doc=s),a},$O=(e,t)=>j(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,HO=(e,t,n)=>$O(e,n)?LO(e,t,n):t,IO=(e,t,n)=>{te.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,o)=>{let a=s.length;for(;a--;)s[a].attr(o,null)}),t.push(n))},FO=(e,t,n)=>!t.no_events&&e?yy(e,{...t,content:n}).content:n,zO=(e,t,n)=>{const s=Oo(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Xi(T.fromDom(t))?s:te.trim(s)},ZO=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,s);return MO(o),o},VO=(e,t,n)=>Bc(e,t).serialize(n),UO=(e,t,n,s,o)=>{const a=VO(t,n,s);return FO(e,o,a)},WO=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,...e},o=t&&t.dom?t.dom:Qe.DOM,a=t&&t.schema?t.schema:dr(s),l=md(s,a);BO(l,s,o);const u=(f,h={})=>{const v={format:"html",...h},p=HO(t,f,v),C=zO(o,p,v),k=ZO(l,C,v);return v.format==="tree"?k:UO(t,s,a,k,v)};return{schema:a,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:u,addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:G(IO,l,n),getTempAttrs:oe(n),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter}},tk=(e,t)=>{const n=WO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},jO="html",qO=(e,t)=>({...e,format:t,get:!0,getInner:!0}),GO=(e,t={})=>{const n=t.format?t.format:jO,s=qO(t,n);return B5(e,s).fold(Ct,o=>{const a=vO(e,o);return M5(e,a,o)})},KO="html",YO=(e,t)=>({format:KO,...e,set:!0,content:t}),hw=(e,t,n={})=>{const s=YO(n,t);return rw(e,s).map(o=>{const a=bO(e,o.content,o);return aw(e,a.html,o),a.content}).getOr(t)},XO="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),QO="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),JO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),nk=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],sk=(e,t)=>{const n=ke(t,s=>Oe(e,s));return Dr(n)},eP=e=>{const t=sk(e,XO),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Dr(t)},tP=e=>sk(e,QO),ok=(e,t)=>{const n=te.makeMap(e.plugins," "),o=ke(t,a=>Oe(n,a));return Dr(o)},nP=e=>ok(e,JO),sP=e=>ok(e,nk.map(t=>t.name)),oP=(e,t)=>{const n=eP(e),s=nP(t),o=s.length>0,a=n.length>0,l=t.theme==="mobile";if(o||a||l){const u=`
- `,f=l?`

Themes:${u}mobile`:"",h=o?`

Plugins:${u}${s.join(u)}`:"",v=a?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+f+h+v)}},rP=e=>Wt(nk,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),aP=(e,t)=>{const n=tP(e),s=sP(t),o=s.length>0,a=n.length>0;if(o||a){const l=`
- `,u=o?`

Plugins:${l}${s.map(rP).join(l)}`:"",f=a?`

Options:${l}${n.join(l)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+u+f)}},cP=(e,t)=>{oP(e,t),aP(e,t)},T0=Qe.DOM,lP=e=>{T0.setStyle(e.id,"display",e.orgDisplay)},_0=e=>y.from(e).each(t=>t.destroy()),iP=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},uP=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),T0.unbind(t,"submit reset",e.formEventDelegate))},dP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),o=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&j(o==null?void 0:o.nextSibling)&&T0.remove(o.nextSibling),wy(e),e.editorManager.remove(e),!e.inline&&s&&lP(e),Sy(e),T0.remove(e.getContainer()),_0(t),_0(n),e.destroy()}},fP=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),_0(n),_0(s)),uP(e),iP(e),e.destroyed=!0}},N0=(()=>{const e={};return{add:(o,a)=>{e[o]=a},get:o=>e[o]?e[o]:{icons:{}},has:o=>Oe(e,o)}})(),hd=bn.ModelManager,rk=(e,t)=>t.dom[e],ak=(e,t)=>parseInt(Yt(t,e),10),mP=G(rk,"clientWidth"),hP=G(rk,"clientHeight"),gP=G(ak,"margin-top"),pP=G(ak,"margin-left"),vP=e=>e.dom.getBoundingClientRect(),bP=(e,t,n)=>{const s=mP(e),o=hP(e);return t>=0&&n>=0&&t<=s&&n<=o},CP=(e,t,n,s)=>{const o=vP(t),a=e?o.left+t.dom.clientLeft+pP(t):0,l=e?o.top+t.dom.clientTop+gP(t):0,u=n-a,f=s-l;return{x:u,y:f}},yP=(e,t,n)=>{const s=T.fromDom(e.getBody()),o=e.inline?s:K2(s),a=CP(e.inline,o,t,n);return bP(o,a.x,a.y)},wP=e=>y.from(e).map(T.fromDom),SP=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return wP(t).map(qr).getOr(!1)};var EP=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const ck=e=>{const t=[],n=()=>{const C=e.theme;return C&&C.getNotificationManagerImpl?C.getNotificationManagerImpl():EP()},s=()=>y.from(t[0]),o=(C,k)=>C.type===k.type&&C.text===k.text&&!C.progressBar&&!C.timeout&&!k.progressBar&&!k.timeout,a=()=>{K(t,C=>{C.reposition()})},l=C=>{t.push(C)},u=C=>{Wc(t,k=>k===C).each(k=>{t.splice(k,1)})},f=(C,k=!0)=>e.removed||!SP(e)?{}:(k&&e.dispatch("BeforeOpenNotification",{notification:C}),Wt(t,R=>o(n().getArgs(R),C)).getOrThunk(()=>{e.editorManager.setActive(e);const R=n().open(C,()=>{u(R),a(),s().fold(()=>e.focus(),S=>a1(T.fromDom(S.getEl())))});return l(R),a(),e.dispatch("OpenNotification",{notification:{...R}}),R})),h=()=>{s().each(C=>{n().close(C),u(C),a()})},v=oe(t);return(C=>{C.on("SkinLoaded",()=>{const k=va(C);k&&f({text:k,type:"warning",timeout:0},!1),a()}),C.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(a)}),C.on("remove",()=>{K(t.slice(),k=>{n().close(k)})})})(e),{open:f,close:h,getNotifications:v}},gd=bn.PluginManager,li=bn.ThemeManager;var kP=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const lk=e=>{let t=[];const n=()=>{const S=e.theme;return S&&S.getWindowManagerImpl?S.getWindowManagerImpl():kP()},s=(S,x)=>(...A)=>x?x.apply(S,A):void 0,o=S=>{e.dispatch("OpenWindow",{dialog:S})},a=S=>{e.dispatch("CloseWindow",{dialog:S})},l=S=>{t.push(S),o(S)},u=S=>{a(S),t=ke(t,x=>x!==S),t.length===0&&e.focus()},f=()=>y.from(t[t.length-1]),h=S=>{e.editorManager.setActive(e),l1(e),e.ui.show();const x=S();return l(x),x},v=(S,x)=>h(()=>n().open(S,x,u)),p=S=>h(()=>n().openUrl(S,u)),C=(S,x,A)=>{const D=n();D.alert(S,s(A||D,x))},k=(S,x,A)=>{const D=n();D.confirm(S,s(A||D,x))},R=()=>{f().each(S=>{n().close(S),u(S)})};return e.on("remove",()=>{K(t,S=>{n().close(S)})}),{open:v,openUrl:p,alert:C,confirm:k,close:R}},ik=(e,t)=>{e.notificationManager.open({type:"error",text:t})},A0=(e,t)=>{e._skinLoaded?ik(e,t):e.on("SkinLoaded",()=>{ik(e,t)})},xP=(e,t)=>{A0(e,js.translate(["Failed to upload image: {0}",t]))},C1=(e,t,n)=>{Up(e,t,{message:n}),console.error(n)},y1=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,RP=(e,t,n)=>{C1(e,"PluginLoadError",y1("plugin",t,n))},TP=(e,t,n)=>{C1(e,"IconsLoadError",y1("icons",t,n))},_P=(e,t,n)=>{C1(e,"LanguageLoadError",y1("language",t,n))},NP=(e,t,n)=>{C1(e,"ThemeLoadError",y1("theme",t,n))},AP=(e,t,n)=>{C1(e,"ModelLoadError",y1("model",t,n))},DP=(e,t,n)=>{const s=js.translate(["Failed to initialize plugin: {0}",t]);Up(e,"PluginLoadError",{message:s}),D0(s,n),A0(e,s)},D0=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},OP=e=>/^[a-z0-9\-]+$/i.test(e),PP=e=>uk(e,Xb(e)),BP=e=>uk(e,Zg(e)),uk=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return We(t,a=>OP(a)&&!e.inline?`${n}/${a}/${o}`:e.documentBaseURI.toAbsolute(a))},MP=e=>{e.contentCSS=e.contentCSS.concat(PP(e),BP(e))},LP=e=>e?Tn(e.getElementsByTagName("img")):[],$P=(e,t)=>{const n={};return{findAll:(o,a=Ht)=>{const l=ke(LP(o),f=>{const h=f.src;return f.hasAttribute("data-mce-bogus")||f.hasAttribute("data-mce-placeholder")||!h||h===Ve.transparentSrc?!1:ln(h,"blob:")?!e.isUploaded(h)&&a(f):ln(h,"data:")?a(f):!1}),u=We(l,f=>{const h=f.src;if(Oe(n,h))return n[h].then(v=>V(v)?v:{image:f,blobInfo:v.blobInfo});{const v=eA(t,h).then(p=>(delete n[h],{image:f,blobInfo:p})).catch(p=>(delete n[h],p));return n[h]=v,v}});return Promise.all(u)}}},dk=()=>{let n={};const s=(C,k)=>({status:C,resultUri:k}),o=C=>C in n;return{hasBlobUri:o,getResultUri:C=>{const k=n[C];return k?k.resultUri:null},isPending:C=>o(C)?n[C].status===1:!1,isUploaded:C=>o(C)?n[C].status===2:!1,markPending:C=>{n[C]=s(1,null)},markUploaded:(C,k)=>{n[C]=s(2,k)},removeFailed:C=>{delete n[C]},destroy:()=>{n={}}}};let HP=0;const IP=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},FP=e=>e+HP+++IP(),zP=()=>{let e=[];const t=p=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[p.toLowerCase()]||"dat",n=(p,C,k,R,S)=>{if(V(p))return s({id:p,name:R,filename:S,blob:C,base64:k});if(Fe(p))return s(p);throw new Error("Unknown input type")},s=p=>{if(!p.blob||!p.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const C=p.id||FP("blobid"),k=p.name||C,R=p.blob;return{id:oe(C),name:oe(k),filename:oe(p.filename||k+"."+t(R.type)),blob:oe(R),base64:oe(p.base64),blobUri:oe(p.blobUri||URL.createObjectURL(R)),uri:oe(p.uri)}},o=p=>{l(p.id())||e.push(p)},a=p=>Wt(e,p).getOrUndefined(),l=p=>a(C=>C.id()===p);return{create:n,add:o,get:l,getByUri:p=>a(C=>C.blobUri()===p),getByData:(p,C)=>a(k=>k.base64()===p&&k.blob().type===C),findFirst:a,removeByUri:p=>{e=ke(e,C=>C.blobUri()===p?(URL.revokeObjectURL(C.blobUri()),!1):!0)},destroy:()=>{K(e,p=>{URL.revokeObjectURL(p.blobUri())}),e=[]}}},ZP=(e,t)=>{const n={},s=(S,x)=>S?S.replace(/\/$/,"")+"/"+x.replace(/^\//,""):x,o=(S,x)=>new Promise((A,D)=>{const O=new XMLHttpRequest;O.open("POST",t.url),O.withCredentials=t.credentials,O.upload.onprogress=U=>{x(U.loaded/U.total*100)},O.onerror=()=>{D("Image upload failed due to a XHR Transport error. Code: "+O.status)},O.onload=()=>{if(O.status<200||O.status>=300){D("HTTP Error: "+O.status);return}const U=JSON.parse(O.responseText);if(!U||!V(U.location)){D("Invalid JSON: "+O.responseText);return}A(s(t.basePath,U.location))};const B=new FormData;B.append("file",S.blob(),S.filename()),O.send(B)}),a=N(t.handler)?t.handler:o,l=()=>new Promise(S=>{S([])}),u=(S,x)=>({url:x,blobInfo:S,status:!0}),f=(S,x)=>({url:"",blobInfo:S,status:!1,error:x}),h=(S,x)=>{te.each(n[S],A=>{A(x)}),delete n[S]},v=(S,x,A)=>(e.markPending(S.blobUri()),new Promise(D=>{let O,B;try{const U=()=>{O&&(O.close(),B=Be)},ge=$=>{U(),e.markUploaded(S.blobUri(),$),h(S.blobUri(),u(S,$)),D(u(S,$))},q=$=>{U(),e.removeFailed(S.blobUri()),h(S.blobUri(),f(S,$)),D(f(S,$))};B=$=>{$<0||$>100||y.from(O).orThunk(()=>y.from(A).map($t)).each(F=>{O=F,F.progressBar.value($)})},x(S,B).then(ge,$=>{q(V($)?{message:$}:$)})}catch(U){D(f(S,U))}})),p=S=>S===o,C=S=>{const x=S.blobUri();return new Promise(A=>{n[x]=n[x]||[],n[x].push(A)})},k=(S,x)=>(S=te.grep(S,A=>!e.isUploaded(A.blobUri())),Promise.all(te.map(S,A=>e.isPending(A.blobUri())?C(A):v(A,a,x))));return{upload:(S,x)=>!t.url&&p(a)?l():k(S,x)}},fk=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),mk=(e,t)=>ZP(t,{url:Ub(e),basePath:Wb(e),credentials:jb(e),handler:qb(e)}),VP=e=>{const t=dk(),n=mk(e,t);return{upload:(s,o=!0)=>n.upload(s,o?fk(e):void 0)}},UP=(e,t)=>e.dom.isEmpty(t.dom)&&j(e.schema.getTextBlockElements()[lt(t)]),WP=e=>t=>{UP(e,t)&&Pt(t,T.fromHtml('<br data-mce-bogus="1" />'))},jP=e=>{const t=zP();let n,s;const o=dk(),a=[],l=O=>B=>e.selection?O(B):[],u=O=>O+(O.indexOf("?")===-1?"?":"&")+new Date().getTime(),f=(O,B,U)=>{let ge=0;do ge=O.indexOf(B,ge),ge!==-1&&(O=O.substring(0,ge)+U+O.substr(ge+B.length),ge+=U.length-B.length+1);while(ge!==-1);return O},h=(O,B,U)=>{const ge=`src="${U}"${U===Ve.transparentSrc?' data-mce-placeholder="1"':""}`;return O=f(O,`src="${B}"`,ge),O=f(O,'data-mce-src="'+B+'"','data-mce-src="'+U+'"'),O},v=(O,B)=>{K(e.undoManager.data,U=>{U.type==="fragmented"?U.fragments=We(U.fragments,ge=>h(ge,O,B)):U.content=h(U.content,O,B)})},p=(O,B)=>{const U=e.convertURL(B,"src");v(O.src,B),Hn(T.fromDom(O),{src:Hg(e)?u(B):B,"data-mce-src":U})},C=()=>(n||(n=mk(e,o)),x().then(l(O=>{const B=We(O,U=>U.blobInfo);return n.upload(B,fk(e)).then(l(U=>{const ge=[];let q=!1;const $=We(U,(F,ne)=>{const{blobInfo:se,image:fe}=O[ne];let Re=!1;return F.status&&Zb(e)?(F.url&&!vn(fe.src,F.url)&&(q=!0),t.removeByUri(fe.src),wr(e)||p(fe,F.url)):F.error&&(F.error.remove&&(v(fe.src,Ve.transparentSrc),ge.push(fe),Re=!0),xP(e,F.error.message)),{element:fe,status:F.status,uploadUri:F.url,blobInfo:se,removed:Re}});return ge.length>0&&!wr(e)?e.undoManager.transact(()=>{K(wh(ge),F=>{const ne=ps(F);pt(F),ne.each(WP(e)),t.removeByUri(F.dom.src)})}):q&&e.undoManager.dispatchChange(),$}))}))),k=()=>$g(e)?C():Promise.resolve([]),R=O=>So(a,B=>B(O)),S=O=>{a.push(O)},x=()=>(s||(s=$P(o,t)),s.findAll(e.getBody(),R).then(l(O=>{const B=ke(O,U=>V(U)?(A0(e,U),!1):U.uriType!=="blob");return wr(e)||K(B,U=>{v(U.image.src,U.blobInfo.blobUri()),U.image.src=U.blobInfo.blobUri(),U.image.removeAttribute("data-mce-src")}),B}))),A=()=>{t.destroy(),o.destroy(),s=n=null},D=O=>O.replace(/src="(blob:[^"]+)"/g,(B,U)=>{const ge=o.getResultUri(U);if(ge)return'src="'+ge+'"';let q=t.getByUri(U);return q||(q=wt(e.editorManager.get(),($,F)=>$||F.editorUpload&&F.editorUpload.blobCache.getByUri(U),void 0)),q?'src="data:'+q.blob().type+";base64,"+q.base64()+'"':B});return e.on("SetContent",()=>{$g(e)?k():x()}),e.on("RawSaveContent",O=>{O.content=D(O.content)}),e.on("GetContent",O=>{O.source_view||O.format==="raw"||O.format==="tree"||(O.content=D(O.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",O=>{K(O,B=>{const U=B.attr("src");if(!U||t.getByUri(U))return;const ge=o.getResultUri(U);ge&&B.attr("src",ge)})})}),{blobCache:t,addFilter:S,uploadImages:C,uploadImagesAuto:k,scanForImages:x,destroy:A}},qP=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const o={inline:"span",styles:{textDecoration:"line-through"},exact:!0},a={inline:"strike",remove:"all",preserve_attributes:["class","style"]},l={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[l,o,a]:[o,l,a]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(o,a,l)=>ie(o)&&o.hasAttribute("href"),onformat:(o,a,l)=>{te.each(l,(u,f)=>{t.setAttrib(o,f,u)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":o=>{var a;return(a=o==null?void 0:o.customValue)!==null&&a!==void 0?a:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return te.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),o=>{s[o]={block:o,remove:"all"}}),s},hk={remove_similar:!0,inherit:!1},pd={selector:"td,th",...hk},GP={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...pd},tablecellverticalalign:{styles:{"vertical-align":"%value"},...pd},tablecellbordercolor:{styles:{borderColor:"%value"},...pd},tablecellclass:{classes:["%value"],...pd},tableclass:{selector:"table",classes:["%value"],...hk},tablecellborderstyle:{styles:{borderStyle:"%value"},...pd},tablecellborderwidth:{styles:{borderWidth:"%value"},...pd}},KP=oe(GP),YP=e=>{const t={},n=l=>j(l)?t[l]:t,s=l=>Oe(t,l),o=(l,u)=>{l&&(V(l)?(Xe(u)||(u=[u]),K(u,f=>{en(f.deep)&&(f.deep=!is(f)),en(f.split)&&(f.split=!is(f)||zt(f)),en(f.remove)&&is(f)&&!zt(f)&&(f.remove="none"),is(f)&&zt(f)&&(f.mixed=!0,f.block_expand=!0),V(f.classes)&&(f.classes=f.classes.split(/\s+/))}),t[l]=u):at(l,(f,h)=>{o(h,f)}))},a=l=>(l&&t[l]&&delete t[l],t);return o(qP(e)),o(KP()),o(Xt(e)),{get:n,has:s,register:o,unregister:a}},O0=te.each,Qs=Qe.DOM,gw=e=>j(e)&&Fe(e),gk=(e,t)=>{const n=t&&t.schema||dr({}),s=(f,h)=>{h.classes.length>0&&Qs.addClass(f,h.classes.join(" ")),Qs.setAttribs(f,h.attrs)},o=f=>{const h=V(f)?{name:f,classes:[],attrs:{}}:f,v=Qs.create(h.name);return s(v,h),v},a=(f,h)=>{const v=n.getElementRule(f.nodeName.toLowerCase()),p=v==null?void 0:v.parentsRequired;return p&&p.length?h&&Ge(p,h)?h:p[0]:!1},l=(f,h,v)=>{let p;const C=h[0],k=gw(C)?C.name:void 0,R=a(f,k);if(R)k===R?(p=C,h=h.slice(1)):p=R;else if(C)p=C,h=h.slice(1);else if(!v)return f;const S=p?o(p):Qs.create("div");S.appendChild(f),v&&te.each(v,A=>{const D=o(A);S.insertBefore(D,f)});const x=gw(p)?p.siblings:void 0;return l(S,h,x)},u=Qs.create("div");if(e.length>0){const f=e[0],h=o(f),v=gw(f)?f.siblings:void 0;u.appendChild(l(h,e.slice(1),v))}return u},XP=e=>{e=te.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,o,a,l,u)=>{switch(o){case"#":n.attrs.id=a;break;case".":n.classes.push(a);break;case":":te.inArray("checked disabled enabled read-only required".split(" "),a)!==-1&&(n.attrs[a]=a);break}if(l==="["){const f=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(n.attrs[f[1]]=f[2])}return""})),n.name=t||"div",n},QP=e=>V(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),te.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=te.map(t.split(/(?:~\+|~|\+)/),XP),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],JP=(e,t)=>{let n="",s=oC(e);if(s==="")return"";const o=C=>V(C)?C.replace(/%(\w+)/g,""):"",a=(C,k)=>Qs.getStyle(k??e.getBody(),C,!0);if(V(t)){const C=e.formatter.get(t);if(!C)return"";t=C[0]}if("preview"in t){const C=t.preview;if(C===!1)return"";s=C||s}let l=t.block||t.inline||"span",u;const f=QP(t.selector);f.length>0?(f[0].name||(f[0].name=l),l=t.selector,u=gk(f,e)):u=gk([l],e);const h=Qs.select(l,u)[0]||u.firstChild;O0(t.styles,(C,k)=>{const R=o(C);R&&Qs.setStyle(h,k,R)}),O0(t.attributes,(C,k)=>{const R=o(C);R&&Qs.setAttrib(h,k,R)}),O0(t.classes,C=>{const k=o(C);Qs.hasClass(h,k)||Qs.addClass(h,k)}),e.dispatch("PreviewFormats"),Qs.setStyles(u,{position:"absolute",left:-65535}),e.getBody().appendChild(u);const v=a("fontSize"),p=/px$/.test(v)?parseInt(v,10):0;return O0(s.split(" "),C=>{let k=a(C,h);if(!(C==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(k)&&(k=a(C),jl(k).toLowerCase()==="#ffffff"))&&!(C==="color"&&jl(k).toLowerCase()==="#000000")){if(C==="font-size"&&/em|%$/.test(k)){if(p===0)return;k=parseFloat(k)/(/%$/.test(k)?100:1)*p+"px"}C==="border"&&k&&(n+="padding:0 2px;"),n+=C+":"+k+";"}}),e.dispatch("AfterPreviewFormats"),Qs.remove(u),n},eB=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},pk=e=>{const t=YP(e),n=Ft({});return eB(e),mN(e),wr(e)||HN(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,o,a)=>{mO(e,s,o,a)},remove:(s,o,a,l)=>{hO(e,s,o,a,l)},toggle:(s,o,a)=>{gO(e,s,o,a)},match:(s,o,a,l)=>lO(e,s,o,a,l),closest:s=>fO(e,s),matchAll:(s,o)=>iO(e,s,o),matchNode:(s,o,a,l)=>uO(e,s,o,a,l),canApply:s=>dO(e,s),formatChanged:(s,o,a,l)=>pO(e,n,s,o,a,l),getCssText:G(JP,e)}},vk=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},tB=(e,t,n)=>{const s=Ft(!1),o=f=>{R0(t,!1,n),t.add({},f)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",f=>{const h=f.command;vk(h)||(q5(t,n),t.beforeChange())}),e.on("ExecCommand",f=>{const h=f.command;vk(h)||o(f)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",f=>{const h=f.keyCode;if(f.isDefaultPrevented())return;const v=Ve.os.isMacOS()&&f.key==="Meta";(h>=33&&h<=36||h>=37&&h<=40||h===45||f.ctrlKey||v)&&(o(),e.nodeChanged()),(h===46||h===8)&&e.nodeChanged(),s.get()&&t.typing&&!dw(x0(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",f=>{const h=f.keyCode;if(f.isDefaultPrevented())return;if(h>=33&&h<=36||h>=37&&h<=40||h===45){t.typing&&o(f);return}const v=f.ctrlKey&&!f.altKey||f.metaKey;if((h<16||h>20)&&h!==224&&h!==91&&!t.typing&&!v){t.beforeChange(),R0(t,!0,n),t.add({},f),s.set(!0);return}(Ve.os.isMacOS()?f.metaKey:f.ctrlKey&&!f.altKey)&&t.beforeChange()}),e.on("mousedown",f=>{t.typing&&o(f)});const a=f=>f.inputType==="insertReplacementText",l=f=>f.inputType==="insertText"&&f.data===null,u=f=>f.inputType==="insertFromPaste"||f.inputType==="insertFromDrop";e.on("input",f=>{f.inputType&&(a(f)||l(f)||u(f))&&o(f)}),e.on("AddUndo Undo Redo ClearUndos",f=>{f.isDefaultPrevented()||e.nodeChanged()})},nB=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},bk=e=>{const t=Ts(),n=Ft(0),s=Ft(0),o={data:[],typing:!1,beforeChange:()=>{XD(e,n,t)},add:(a,l)=>QD(e,o,s,n,t,a,l),dispatchChange:()=>{e.setDirty(!0);const a=x0(e);a.bookmark=om(e.selection),e.dispatch("change",{level:a,lastLevel:Si(o.data,s.get()).getOrUndefined()})},undo:()=>JD(e,o,n,s),redo:()=>eO(e,s,o.data),clear:()=>{tO(e,o,s)},reset:()=>{nO(e,o)},hasUndo:()=>sO(e,o,s),hasRedo:()=>oO(e,o,s),transact:a=>rO(e,o,n,a),ignore:a=>{aO(e,n,a)},extra:(a,l)=>{cO(e,o,s,a,l)}};return wr(e)||tB(e,o,n),nB(e),o},sB=[9,27,de.HOME,de.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,de.DOWN,de.UP,de.LEFT,de.RIGHT].concat(Ve.browser.isFirefox()?[224]:[]),Ck="data-mce-placeholder",yk=e=>e.type==="keydown"||e.type==="keyup",wk=e=>{const t=e.keyCode;return t===de.BACKSPACE||t===de.DELETE},oB=e=>{if(yk(e)){const t=e.keyCode;return!wk(e)&&(de.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Ge(sB,t))}else return!1},rB=e=>yk(e)&&!(wk(e)||e.type==="keyup"&&e.keyCode===229),aB=(e,t,n)=>{if(Mt(T.fromDom(t),!1)){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},cB=e=>{var t;const n=e.dom,s=An(e),o=(t=Ug(e))!==null&&t!==void 0?t:"",a=(l,u)=>{if(oB(l))return;const f=e.getBody(),h=rB(l)?!1:aB(n,f,s);(n.getAttrib(f,Ck)!==""!==h||u)&&(n.setAttrib(f,Ck,h?o:null),n.setAttrib(f,"aria-placeholder",h?o:null),Vp(e,h),e.on(h?"keydown":"keyup",a),e.off(h?"keyup":"keydown",a))};jt(o)&&e.on("init",l=>{a(l,!0),e.on("change SetContent ExecCommand",a),e.on("paste",u=>Ys.setEditorTimeout(e,()=>a(u)))})},lB=(e,t)=>({block:e,position:t}),iB=(e,t)=>({from:e,to:t}),pw=(e,t)=>{const n=T.fromDom(e),s=T.fromDom(t.container());return f0(n,s).map(o=>lB(o,t))},uB=e=>!Ke(e.from.block,e.to.block),Sk=(e,t)=>Gr(t,o=>sc(o)||Vs(o.dom),o=>Ke(o,e)).filter(st).getOr(e),dB=(e,t)=>{const n=T.fromDom(e);return Ke(Sk(n,t.from.block),Sk(n,t.to.block))},fB=e=>it(e.from.block.dom)===!1&&it(e.to.block.dom)===!1,mB=e=>{const t=n=>Ph(n)||Rf(n.dom);return t(e.from.block)&&t(e.to.block)},hB=(e,t,n)=>gt(n.position.getNode())&&!Mt(n.block)?Ec(!1,n.block.dom).bind(s=>s.isEqual(n.position)?_s(t,e,s).bind(o=>pw(e,o)):y.some(n)).getOr(n):n,gB=(e,t,n)=>{const s=pw(e,I.fromRangeStart(n)),o=s.bind(a=>_s(t,e,a.position).bind(l=>pw(e,l).map(u=>hB(e,t,u))));return $n(s,o,iB).filter(a=>uB(a)&&dB(e,a)&&fB(a)&&mB(a))},pB=(e,t,n)=>n.collapsed?gB(e,t,n):y.none(),vB=e=>{const t=sn(e);return Wc(t,bs).fold(oe(t),n=>t.slice(0,n))},Ek=e=>{const t=vB(e);return K(t,pt),t},kk=(e,t)=>{const n=Ba(t,e);return Wt(n.reverse(),s=>Mt(s)).each(pt)},bB=e=>ke(mh(e),t=>!Mt(t)).length===0,CB=(e,t,n,s)=>{if(Mt(n))return ar(n),mn(n.dom);bB(s)&&Mt(t)&&as(s,T.fromTag("br"));const o=Cn(n.dom,I.before(s.dom));return K(Ek(t),a=>{as(s,a)}),kk(e,t),o},yB=(e,t,n)=>{if(Mt(n)){if(Mt(t)){const a=Fa((l=>{const u=(f,h)=>$i(f).fold(()=>h,v=>il(v)?u(v,h.concat(hc(v))):h);return u(l,[])})(n),(l,u)=>(Ch(l,u),u),Qi());Xr(t),Pt(t,a)}return pt(n),mn(t.dom)}const s=Ns(n.dom);return K(Ek(t),o=>{Pt(n,o)}),kk(e,t),s},wB=(e,t)=>{const n=Ba(t,e);return y.from(n[n.length-1])},SB=(e,t)=>Zs(t,e)?wB(t,e):y.none(),xk=(e,t)=>{Ec(e,t.dom).bind(n=>y.from(n.getNode())).map(T.fromDom).filter(ta).each(pt)},Rk=(e,t,n)=>(xk(!0,t),xk(!1,n),SB(t,n).fold(G(yB,e,t,n),G(CB,e,t,n))),Tk=(e,t,n,s)=>t?Rk(e,s,n):Rk(e,n,s),vw=(e,t)=>{const n=T.fromDom(e.getBody());return pB(n.dom,t,e.selection.getRng()).map(o=>()=>{Tk(n,t,o.from.block,o.to.block).each(a=>{e.selection.setRng(a.toRange())})})},EB=(e,t)=>{const n=t.getRng();return $n(f0(e,T.fromDom(n.startContainer)),f0(e,T.fromDom(n.endContainer)),(s,o)=>Ke(s,o)?y.none():y.some(()=>{n.deleteContents(),Tk(e,!0,s,o).each(a=>{t.setRng(a.toRange())})})).getOr(y.none())},_k=(e,t)=>{const n=T.fromDom(t),s=G(Ke,e);return rs(n,sc,s).isSome()},kB=(e,t)=>_k(e,t.startContainer)||_k(e,t.endContainer),xB=(e,t)=>{const n=Cn(e.dom,I.fromRangeStart(t)).isNone(),s=On(e.dom,I.fromRangeEnd(t)).isNone();return!kB(e,t)&&n&&s},RB=e=>y.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),TB=e=>{const t=T.fromDom(e.getBody()),n=e.selection.getRng();return xB(t,n)?RB(e):EB(t,e.selection)},bw=(e,t)=>e.selection.isCollapsed()?y.none():TB(e),Ma=(e,t,n,s,o)=>y.from(t._selectionOverrides.showCaret(e,n,s,o)),_B=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},w1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?y.none():y.some(_B(t)),NB=(e,t,n)=>{const s=Om(1,e.getBody(),t),o=I.fromRangeStart(s),a=o.getNode();if(vo(a))return Ma(1,e,a,!o.isAtEnd(),!1);const l=o.getNode(!0);if(vo(l))return Ma(1,e,l,!1,!1);const u=oi(e.dom.getRoot(),o.getNode());return vo(u)?Ma(1,e,u,!1,n):y.none()},Cw=(e,t,n)=>t.collapsed?NB(e,t,n).getOr(t):t,AB=e=>Lc(e)||u1(e),DB=e=>$c(e)||d1(e),OB=(e,t)=>{Y(t)&&t.data.length===0&&e.remove(t)},Nk=(e,t,n,s,o,a)=>{Ma(s,e,a.getNode(!o),o,!0).each(l=>{if(t.collapsed){const u=t.cloneRange();o?u.setEnd(l.startContainer,l.startOffset):u.setStart(l.endContainer,l.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(l)}),OB(e.dom,n)},PB=(e,t)=>{const n=e.selection.getRng();if(!Y(n.commonAncestorContainer))return y.none();const s=t?an.Forwards:an.Backwards,o=Ks(e.getBody()),a=G(Pm,t?o.next:o.prev),l=t?AB:DB,u=wc(s,e.getBody(),n),f=a(u),h=f&&Xs(t,f);if(!h||!Zl(u,h))return y.none();if(l(h))return y.some(()=>Nk(e,n,u.getNode(),s,t,h));const v=a(h);return v&&l(v)&&Zl(h,v)?y.some(()=>Nk(e,n,u.getNode(),s,t,v)):y.none()},yw=(e,t)=>PB(e,t),ww=(e,t)=>{const n=e.getBody();return t?mn(n).filter(Lc):Ns(n).filter($c)},Sw=e=>{const t=e.selection.getRng();return!t.collapsed&&(ww(e,!0).exists(n=>n.isEqual(I.fromRangeStart(t)))||ww(e,!1).exists(n=>n.isEqual(I.fromRangeEnd(t))))},BB=e=>j(e)&&(sc(T.fromDom(e))||nc(T.fromDom(e))),Ms=po.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),MB=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return ie(n)&&n.getAttribute("data-mce-caret")===s},LB=(e,t,n,s)=>{const o=a=>il(T.fromDom(a))&&!ls(n,s,e);return Lu(!t,n).fold(()=>Lu(t,s).fold(qe,o),o)},Ak=(e,t,n,s)=>{const o=s.getNode(!t);return f0(T.fromDom(e),T.fromDom(n.getNode())).map(a=>Mt(a)?Ms.remove(a.dom):Ms.moveToElement(o)).orThunk(()=>y.some(Ms.moveToElement(o)))},Dk=(e,t,n)=>_s(t,e,n).bind(s=>BB(s.getNode())||LB(e,t,n,s)?y.none():t&&it(s.getNode())||!t&&it(s.getNode(!0))?Ak(e,t,n,s):t&&$c(n)||!t&&Lc(n)?y.some(Ms.moveToPosition(s)):y.none()),$B=(e,t)=>nt(t)?y.none():e&&it(t.nextSibling)?y.some(Ms.moveToElement(t.nextSibling)):!e&&it(t.previousSibling)?y.some(Ms.moveToElement(t.previousSibling)):y.none(),HB=(e,t,n)=>n.fold(s=>y.some(Ms.remove(s)),s=>y.some(Ms.moveToElement(s)),s=>ls(t,s,e)?y.none():y.some(Ms.moveToPosition(s))),IB=(e,t,n)=>MB(t,n)?$B(t,n.getNode(!t)).orThunk(()=>Dk(e,t,n)):Dk(e,t,n).bind(s=>HB(e,n,s)),FB=(e,t,n)=>{const s=Om(t?1:-1,e,n),o=I.fromRangeStart(s),a=T.fromDom(e);return!t&&$c(o)?y.some(Ms.remove(o.getNode(!0))):t&&Lc(o)?y.some(Ms.remove(o.getNode())):!t&&Lc(o)&&h4(a,o)?V7(a,o).map(l=>Ms.remove(l.getNode())):t&&$c(o)&&m4(a,o)?U7(a,o).map(l=>Ms.remove(l.getNode())):IB(e,t,o)},zB=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),ni(e,t,T.fromDom(n)),!0),ZB=(e,t)=>n=>{const s=t?I.before(n):I.after(n);return e.selection.setRng(s.toRange()),!0},VB=e=>t=>(e.selection.setRng(t.toRange()),!0),Ok=(e,t)=>y.from(oi(e.getBody(),t)),UB=(e,t)=>{const n=e.selection.getNode();return Ok(e,n).filter(it).fold(()=>FB(e.getBody(),t,e.selection.getRng()).map(s=>()=>s.fold(zB(e,t),ZB(e,t),VB(e))),()=>y.some(Be))},WB=e=>{K(un(e,".mce-offscreen-selection"),pt)},jB=(e,t)=>{const n=e.selection.getNode();return it(n)&&!Gi(n)?Ok(e,n.parentNode).filter(it).fold(()=>y.some(()=>{WB(T.fromDom(e.getBody())),ni(e,t,T.fromDom(e.selection.getNode())),y4(e)}),()=>y.some(Be)):Sw(e)?y.some(()=>{oE(e,e.selection.getRng(),T.fromDom(e.getBody()))}):y.none()},Pk=e=>{const t=e.dom,n=e.selection,s=oi(e.getBody(),n.getNode());if(Vs(s)&&t.isBlock(s)&&t.isEmpty(s)){const o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(o),n.setRng(I.before(o).toRange())}return!0},Ew=(e,t)=>e.selection.isCollapsed()?UB(e,t):jB(e,t),qB=(e,t)=>{const n=I.fromRangeStart(e.selection.getRng());return _s(t,e.getBody(),n).filter(s=>t?L7(s):$7(s)).bind(s=>cp(t?0:-1,s)).map(s=>()=>e.selection.select(s))},kw=(e,t)=>e.selection.isCollapsed()?qB(e,t):y.none(),vd=Y,Bk=e=>vd(e)&&e.data[0]===dn,Mk=e=>vd(e)&&e.data[e.data.length-1]===dn,Lk=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(dn)},GB=e=>{var t;if(vd(e.previousSibling))return Mk(e.previousSibling)||e.previousSibling.appendData(dn),e.previousSibling;if(vd(e))return Bk(e)||e.insertData(0,dn),e;{const n=Lk(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},KB=e=>{var t,n;if(vd(e.nextSibling))return Bk(e.nextSibling)||e.nextSibling.insertData(0,dn),e.nextSibling;if(vd(e))return Mk(e)||e.appendData(dn),e;{const s=Lk(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},P0=(e,t)=>e?GB(t):KB(t),YB=G(P0,!0),XB=G(P0,!1),$k=(e,t)=>Y(e.container())?P0(t,e.container()):P0(t,e.getNode()),Hk=(e,t)=>{const n=t.get();return n&&e.container()===n&&Po(n)},xw=(e,t)=>t.fold(n=>{Ca(e.get());const s=YB(n);return e.set(s),y.some(I(s,s.length-1))},n=>mn(n).map(s=>{if(Hk(s,e)){const o=e.get();return I(o,1)}else{Ca(e.get());const o=$k(s,!0);return e.set(o),I(o,1)}}),n=>Ns(n).map(s=>{if(Hk(s,e)){const o=e.get();return I(o,o.length-1)}else{Ca(e.get());const o=$k(s,!1);return e.set(o),I(o,o.length-1)}}),n=>{Ca(e.get());const s=XB(n);return e.set(s),y.some(I(s,1))}),Ik=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return y.none()},es=po.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Fk=(e,t)=>{const n=Sa(t,e);return n||e},QB=(e,t,n)=>{const s=JS(n),o=Fk(t,s.container());return Hc(e,o,s).fold(()=>On(o,s).bind(G(Hc,e,o)).map(a=>es.before(a)),y.none)},JB=(e,t)=>Ea(e,t)===null,zk=(e,t,n)=>Hc(e,t,n).filter(G(JB,t)),eM=(e,t,n)=>{const s=eE(n);return zk(e,t,s).bind(o=>Cn(o,s).isNone()?y.some(es.start(o)):y.none())},tM=(e,t,n)=>{const s=JS(n);return zk(e,t,s).bind(o=>On(o,s).isNone()?y.some(es.end(o)):y.none())},nM=(e,t,n)=>{const s=eE(n),o=Fk(t,s.container());return Hc(e,o,s).fold(()=>Cn(o,s).bind(G(Hc,e,o)).map(a=>es.after(a)),y.none)},Zk=e=>!QS(Rw(e)),Sr=(e,t,n)=>Ik([QB,eM,tM,nM],[e,t,n]).filter(Zk),Rw=e=>e.fold(Ct,Ct,Ct,Ct),Vk=e=>e.fold(oe("before"),oe("start"),oe("end"),oe("after")),B0=e=>e.fold(es.before,es.before,es.after,es.after),Tw=e=>e.fold(es.start,es.start,es.end,es.end),sM=(e,t)=>Vk(e)===Vk(t)&&Rw(e)===Rw(t),oM=(e,t,n,s,o,a)=>$n(Hc(t,n,s),Hc(t,n,o),(l,u)=>l!==u&&S8(n,l,u)?es.after(e?l:u):a).getOr(a),rM=(e,t)=>e.fold(Ht,n=>!sM(n,t)),aM=(e,t,n,s,o)=>{const a=Xs(e,o);return _s(e,n,a).map(G(Xs,e)).fold(()=>s.map(B0),f=>Sr(t,n,f).map(G(oM,e,t,n,a,f)).filter(G(rM,s))).filter(Zk)},cM=(e,t)=>e?t.fold(Ar(y.some,es.start),y.none,Ar(y.some,es.after),y.none):t.fold(y.none,Ar(y.some,es.before),y.none,Ar(y.some,es.end)),lM=(e,t,n,s)=>{const o=Xs(e,s),a=Sr(t,n,o);return Sr(t,n,o).bind(G(cM,e)).orThunk(()=>aM(e,t,n,a,s))},iM=e=>N(e.selection.getSel().modify),Uk=(e,t,n)=>{const s=e?1:-1;return t.setRng(I(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},uM=(e,t)=>{const n=t.selection.getRng(),s=e?I.fromRangeEnd(n):I.fromRangeStart(n);return iM(t)?e&&pf(s)?Uk(!0,t.selection,s):!e&&vf(s)?Uk(!1,t.selection,s):!1:!1};var Er;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Er||(Er={}));const M0=(e,t)=>e===an.Backwards?za(t):t,dM=(e,t,n)=>e===an.Forwards?t.next(n):t.prev(n),fM=(e,t,n,s)=>gt(s.getNode(t===an.Forwards))?Er.Br:ls(n,s)===!1?Er.Block:Er.Wrap,Wk=(e,t,n,s)=>{const o=Ks(n);let a=s;const l=[];for(;a;){const u=dM(t,o,a);if(!u)break;if(gt(u.getNode(!1)))return t===an.Forwards?{positions:M0(t,l).concat([u]),breakType:Er.Br,breakAt:y.some(u)}:{positions:M0(t,l),breakType:Er.Br,breakAt:y.some(u)};if(!u.isVisible()){a=u;continue}if(e(a,u)){const f=fM(n,t,a,u);return{positions:M0(t,l),breakType:f,breakAt:y.some(u)}}l.push(u),a=u}return{positions:M0(t,l),breakType:Er.Eol,breakAt:y.none()}},jk=(e,t,n,s)=>t(n,s).breakAt.map(o=>{const a=t(n,o).positions;return e===an.Backwards?a.concat(o):[o].concat(a)}).getOr([]),_w=(e,t)=>wt(e,(n,s)=>n.fold(()=>y.some(s),o=>$n(zn(o.getClientRects()),zn(s.getClientRects()),(a,l)=>{const u=Math.abs(t-a.left);return Math.abs(t-l.left)<=u?s:o}).or(n)),y.none()),L0=(e,t)=>zn(t.getClientRects()).bind(n=>_w(e,n.left)),S1=G(Wk,I.isAbove,-1),E1=G(Wk,I.isBelow,1),qk=G(jk,-1,S1),Gk=G(jk,1,E1),mM=(e,t)=>S1(e,t).breakAt.isNone(),hM=(e,t)=>E1(e,t).breakAt.isNone(),gM=e=>mn(e).map(t=>[t].concat(E1(e,t).positions)).getOr([]),pM=e=>Ns(e).map(t=>S1(e,t).positions.concat(t)).getOr([]),vM=(e,t)=>L0(qk(e,t),t),bM=(e,t)=>L0(Gk(e,t),t),CM=it,Kk=(e,t)=>Math.abs(e.left-t),Yk=(e,t)=>Math.abs(e.right-t),yM=e=>Zn(e,"node"),Xk=(e,t)=>Is(e,(n,s)=>{const o=Math.min(Kk(n,t),Yk(n,t)),a=Math.min(Kk(s,t),Yk(s,t));return a===o&&yM(s)&&CM(s.node)||a<o?s:n}),wM=e=>{const t=n=>We(n,s=>{const o=fa(s);return o.node=e,o});if(ie(e))return t(e.getClientRects());if(Y(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Qk=e=>oo(e,wM);var k1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(k1||(k1={}));const SM=(e,t,n,s)=>{let o=s;for(;o=Cc(o,e,zh,t);)if(n(o))return},Jk=(e,t,n,s,o,a)=>{let l=0;const u=[],f=p=>{let C=Qk([p]);e===-1&&(C=C.reverse());for(let k=0;k<C.length;k++){const R=C[k];if(!n(R,h)){if(u.length>0&&t(R,er(u))&&l++,R.line=l,o(R))return!0;u.push(R)}}return!1},h=er(a.getClientRects());if(!h)return u;const v=a.getNode();return v&&(f(v),SM(e,s,f,v)),u},EM=(e,t)=>t.line>e,kM=(e,t)=>t.line===e,xM=G(Jk,k1.Up,Rl,Tl),RM=G(Jk,k1.Down,Tl,Rl),ex=e=>er(e.getClientRects()),TM=(e,t,n,s)=>{const o=Ks(t);let a,l,u,f;const h=[];let v=0;e===1?(a=o.next,l=Tl,u=Rl,f=I.after(s)):(a=o.prev,l=Rl,u=Tl,f=I.before(s));const p=ex(f);do{if(!f.isVisible())continue;const C=ex(f);if(u(C,p))continue;h.length>0&&l(C,er(h))&&v++;const k=fa(C);if(k.position=f,k.line=v,n(k))return h;h.push(k)}while(f=a(f));return h},tx=e=>t=>EM(e,t),Nw=e=>t=>kM(e,t),La=(e,t)=>{e.selection.setRng(t),Oa(e,e.selection.getRng())},Aw=(e,t,n)=>y.some(Cw(e,t,n)),nx=(e,t,n,s,o,a)=>{const l=t===an.Forwards,u=Ks(e.getBody()),f=G(Pm,l?u.next:u.prev),h=l?s:o;if(!n.collapsed){const R=_l(n);if(a(R))return Ma(t,e,R,t===an.Backwards,!1);if(Sw(e)){const S=n.cloneRange();return S.collapse(t===an.Backwards),y.from(S)}}const v=wc(t,e.getBody(),n);if(h(v))return w1(e,v.getNode(!l));let p=f(v);const C=eu(n);if(p)p=Xs(l,p);else return C?y.some(n):y.none();if(h(p))return Ma(t,e,p.getNode(!l),l,!1);const k=f(p);return k&&h(k)&&Zl(p,k)?Ma(t,e,k.getNode(!l),l,!1):C?Aw(e,p.toRange(),!1):y.none()},sx=(e,t,n,s,o,a)=>{const l=wc(t,e.getBody(),n),u=er(l.getClientRects()),f=t===k1.Down,h=e.getBody();if(!u)return y.none();if(Sw(e)){const x=f?I.fromRangeEnd(n):I.fromRangeStart(n);return(f?bM:vM)(h,x).orThunk(()=>y.from(x)).map(D=>D.toRange())}const p=(f?RM:xM)(h,tx(1),l),C=ke(p,Nw(1)),k=u.left,R=Xk(C,k);if(R&&a(R.node)){const x=Math.abs(k-R.left),A=Math.abs(k-R.right);return Ma(t,e,R.node,x<A,!1)}let S;if(s(l)?S=l.getNode():o(l)?S=l.getNode(!0):S=_l(n),S){const x=TM(t,h,tx(1),S);let A=Xk(ke(x,Nw(1)),k);if(A||(A=er(ke(x,Nw(0))),A))return Aw(e,A.position.toRange(),!1)}return C.length===0?Dw(e,f).filter(f?o:s).map(x=>Cw(e,x.toRange(),!1)):y.none()},Dw=(e,t)=>{const n=e.selection.getRng(),s=t?I.fromRangeEnd(n):I.fromRangeStart(n),o=Am(s.container(),e.getBody());if(t){const a=E1(o,s);return Or(a.positions)}else{const a=S1(o,s);return zn(a.positions)}},ox=(e,t,n)=>Dw(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),$0=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},rx=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},ax=(e,t,n)=>xw(t,n).map(s=>($0(e,s),n)),_M=(e,t,n)=>{const s=I.fromRangeStart(e);if(e.collapsed)return s;{const o=I.fromRangeEnd(e);return n?Cn(t,o).getOr(o):On(t,s).getOr(s)}},NM=(e,t,n)=>{const s=e.getBody(),o=_M(e.selection.getRng(),s,n),a=G(si,e);return lM(n,a,s,o).bind(u=>ax(e,t,u))},AM=(e,t,n)=>{const s=We(un(T.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),l=>l.dom),o=ke(s,e),a=ke(n,e);K(wi(o,a),G(rx,!1)),K(wi(a,o),G(rx,!0))},DM=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=I.fromRangeStart(e.selection.getRng());I.isTextPosition(s)&&!E8(s)&&($0(e,MC(n,s)),t.set(null))}},OM=(e,t,n,s)=>{if(t.selection.isCollapsed()){const o=ke(s,e);K(o,a=>{const l=I.fromRangeStart(t.selection.getRng());Sr(e,t.getBody(),l).bind(u=>ax(t,n,u))})}},cx=(e,t,n)=>hr(e)?NM(e,t,n).isSome():!1,lx=(e,t,n)=>hr(t)?uM(e,t):!1,PM=e=>{const t=Ft(null),n=G(si,e);return e.on("NodeChange",s=>{hr(e)&&(AM(n,e.dom,s.parents),DM(e,t),OM(n,e,t,s.parents))}),t},BM=G(lx,!0),MM=G(lx,!1),H0=(e,t,n)=>{if(hr(e)){const s=Dw(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?I.fromRangeEnd(o):I.fromRangeStart(o)});return Sr(G(si,e),e.getBody(),s).exists(o=>{const a=B0(o);return xw(n,a).exists(l=>($0(e,l),!0))})}else return!1},LM=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},$M=e=>$n(mn(e),Ns(e),(t,n)=>{const s=Xs(!0,t),o=Xs(!1,n);return On(e,s).forall(a=>a.isEqual(o))}).getOr(!0),ix=(e,t)=>n=>xw(t,n).map(s=>()=>$0(e,s)),ux=(e,t,n,s)=>{const o=e.getBody(),a=G(si,e);e.undoManager.ignore(()=>{e.selection.setRng(LM(n,s)),C4(e),Sr(a,o,I.fromRangeStart(e.selection.getRng())).map(Tw).bind(ix(e,t)).each(Fn)}),e.nodeChanged()},HM=(e,t)=>{const n=Sa(t,e);return n||e},IM=(e,t,n,s)=>{const o=HM(e.getBody(),s.container()),a=G(si,e),l=Sr(a,o,s);return l.bind(f=>n?f.fold(oe(y.some(Tw(f))),y.none,oe(y.some(B0(f))),y.none):f.fold(y.none,oe(y.some(B0(f))),y.none,oe(y.some(Tw(f))))).map(ix(e,t)).getOrThunk(()=>{const f=bo(n,o,s),h=f.bind(v=>Sr(a,o,v));return $n(l,h,()=>Hc(a,o,s).bind(v=>$M(v)?y.some(()=>{ni(e,n,T.fromDom(v))}):y.none())).getOrThunk(()=>h.bind(()=>f.map(v=>()=>{n?ux(e,t,s,v):ux(e,t,v,s)})))})},Ow=(e,t,n)=>{if(e.selection.isCollapsed()&&hr(e)){const s=I.fromRangeStart(e.selection.getRng());return IM(e,t,n,s)}return y.none()},FM=e=>Ii(e)>1,dx=(e,t)=>{const n=T.fromDom(e.getBody()),s=T.fromDom(e.selection.getStart()),o=Ba(s,n);return Wc(o,t).fold(oe(o),a=>o.slice(0,a))},zM=e=>Ii(e)===1,ZM=e=>dx(e,t=>bs(t)||FM(t)),VM=e=>dx(e,bs),fx=(e,t)=>{const n=G(AE,e);return oo(t,s=>n(s)?[s.dom]:[])},mx=e=>{const t=VM(e);return fx(e,t)},UM=(e,t,n,s)=>{const o=fx(t,s);if(o.length===0)ni(t,e,n);else{const a=NE(n.dom,o);t.selection.setRng(a.toRange())}},WM=(e,t)=>{const n=ke(ZM(e),zM);return Or(n).bind(s=>{const o=I.fromRangeStart(e.selection.getRng());return nE(t,o,s.dom)&&!DE(s)?y.some(()=>UM(t,e,s,n)):y.none()})},jM=(e,t)=>{const n=t.parentElement;return gt(t)&&!Rn(n)&&e.dom.isEmpty(n)},qM=e=>DE(T.fromDom(e)),hx=(e,t)=>{const n=e.selection.getStart(),s=jM(e,n)||qM(n)?NE(n,t):hN(e.selection.getRng(),t);e.selection.setRng(s.toRange())},GM=(e,t)=>{const n=wi(t,mx(e));n.length>0&&hx(e,n)},gx=e=>Y(e.startContainer),KM=e=>e.startOffset===0&&gx(e),YM=(e,t)=>{const n=t.startContainer.parentElement;return!Rn(n)&&AE(e,T.fromDom(n))},XM=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Rn(t)&&!Rn(n)&&t.isEqualNode(n)},QM=e=>{const t=e.endContainer;return e.endOffset===(Y(t)?t.length:t.childNodes.length)},JM=e=>XM(e)&&QM(e),eL=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),tL=e=>JM(e)||eL(e),nL=e=>{const t=e.selection.getRng();return KM(t)&&YM(e,t)&&tL(t)},sL=e=>{if(nL(e)){const t=mx(e);return y.some(()=>{C4(e),GM(e,t)})}else return y.none()},Pw=(e,t)=>e.selection.isCollapsed()?WM(e,t):sL(e),oL=e=>X_(e,t=>As(t.dom),bs),rL=e=>oL(T.fromDom(e.selection.getStart())),aL=e=>{const t=e.selection.getRng();return t.collapsed&&(gx(t)||e.dom.isEmpty(t.startContainer))&&!rL(e)},x1=e=>(aL(e)&&hx(e,[]),!0),Bw=(e,t,n)=>j(n)?y.some(()=>{e._selectionOverrides.hideFakeCaret(),ni(e,t,T.fromDom(n))}):y.none(),cL=(e,t)=>{const n=t?u1:d1,s=t?an.Forwards:an.Backwards,o=wc(s,e.getBody(),e.selection.getRng());return n(o)?Bw(e,t,o.getNode(!t)):y.from(Xs(t,o)).filter(a=>n(a)&&Zl(o,a)).bind(a=>Bw(e,t,a.getNode(!t)))},lL=(e,t)=>{const n=e.selection.getNode();return Us(n)?Bw(e,t,n):y.none()},Mw=(e,t)=>e.selection.isCollapsed()?cL(e,t):lL(e,t),iL=e=>Gr(e,t=>Vs(t.dom)||it(t.dom)).exists(t=>Vs(t.dom)),Lw=e=>Hr(e??"").getOr(0),px=(e,t)=>{const n=e||gf(t)?"margin":"padding",s=Yt(t,"direction")==="rtl"?"-right":"-left";return n+s},uL=(e,t,n,s,o,a)=>{const l=px(n,T.fromDom(a)),u=Lw(e.getStyle(a,l));if(t==="outdent"){const f=Math.max(0,u-s);e.setStyle(a,l,f?f+o:"")}else{const f=u+s+o;e.setStyle(a,l,f)}},dL=(e,t)=>So(t,n=>{const s=px(zg(e),n),o=Xn(n,s).map(Lw).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&o>0}),vx=e=>{const t=Cx(e);return!e.mode.isReadOnly()&&(t.length>1||dL(e,t))},bx=e=>tc(e)||nc(e),fL=e=>ps(e).exists(bx),Cx=e=>ke(wh(e.selection.getSelectedBlocks()),t=>!bx(t)&&!fL(t)&&iL(t)),yx=(e,t)=>{var n,s;const{dom:o}=e,a=Yb(e),l=(s=(n=/[a-z%]+$/i.exec(a))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",u=Lw(a),f=zg(e);K(Cx(e),h=>{uL(o,t,f,u,l,h.dom)})},mL=e=>yx(e,"indent"),wx=e=>yx(e,"outdent"),Sx=e=>{if(e.selection.isCollapsed()&&vx(e)){const t=e.dom,n=e.selection.getRng(),s=I.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(o!==null&&f4(T.fromDom(o),s))return y.some(()=>wx(e))}return y.none()},Ex=(e,t,n)=>Za([Sx,Ew,yw,(s,o)=>Ow(s,t,o),vw,_4,kw,Mw,bw,Pw],s=>s(e,n)).filter(s=>e.selection.isEditable()),hL=(e,t)=>{Ex(e,t,!1).fold(()=>{C4(e),y4(e)},Fn)},gL=(e,t)=>{Ex(e,t,!0).fold(()=>x8(e),Fn)},pL=(e,t)=>{e.addCommand("delete",()=>{hL(e,t)}),e.addCommand("forwardDelete",()=>{gL(e,t)})},kx=5,vL=400,xx=e=>e.touches===void 0||e.touches.length!==1?y.none():y.some(e.touches[0]),bL=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>kx||s>kx},CL=e=>{const t=Ts(),n=Ft(!1),s=mc(o=>{e.dispatch("longpress",{...o,type:"longpress"}),n.set(!0)},vL);e.on("touchstart",o=>{xx(o).each(a=>{s.cancel();const l={x:a.clientX,y:a.clientY,target:o.target};s.throttle(o),n.set(!1),t.set(l)})},!0),e.on("touchmove",o=>{s.cancel(),xx(o).each(a=>{t.on(l=>{bL(a,l)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",o=>{s.cancel(),o.type!=="touchcancel"&&t.get().filter(a=>a.target.isEqualNode(o.target)).each(()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})})},!0)},$w=(e,t)=>Oe(e,t.nodeName),yL=(e,t)=>Y(t)?!0:ie(t)?!$w(e.getBlockElements(),t)&&!ws(t)&&!ra(e,t):!1,wL=(e,t,n)=>Ot(PS(T.fromDom(n),T.fromDom(t)),s=>$w(e,s.dom)),SL=(e,t)=>{if(Y(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||$w(e,t.nextSibling)))return!0}return!1},Rx=e=>e.dom.create(An(e),vc(e)),EL=e=>{const t=e.dom,n=e.selection,s=e.schema,o=s.getBlockElements(),a=n.getStart(),l=e.getBody();let u,f,h=!1;const v=An(e);if(!a||!ie(a))return;const p=l.nodeName.toLowerCase();if(!s.isValidChild(p,v.toLowerCase())||wL(o,l,a))return;const C=n.getRng(),{startContainer:k,startOffset:R,endContainer:S,endOffset:x}=C,A=ti(e);let D=l.firstChild;for(;D;)if(ie(D)&&Wh(s,D),yL(s,D)){if(SL(o,D)){f=D,D=D.nextSibling,t.remove(f);continue}u||(u=Rx(e),l.insertBefore(u,D),h=!0),f=D,D=D.nextSibling,u.appendChild(f)}else u=null,D=D.nextSibling;h&&A&&(C.setStart(k,R),C.setEnd(S,x),n.setRng(C),e.nodeChanged())},Tx=(e,t,n)=>{const s=T.fromDom(Rx(e)),o=Qi();Pt(s,o),n(t,s);const a=document.createRange();return a.setStartBefore(o.dom),a.setEndBefore(o.dom),a},kL=e=>{e.on("NodeChange",G(EL,e))},_x=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,xL=(e,t,n)=>function(s){const o=arguments,a=o[o.length-2],l=a>0?t.charAt(a-1):"";if(l==='"')return s;if(l===">"){const u=t.lastIndexOf("<",a);if(u!==-1&&t.substring(u,a).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode(typeof o[1]=="string"?o[1]:o[0])+"</span>"},RL=(e,t,n)=>{let s=t.length,o=n.content;if(n.format!=="raw"){for(;s--;)o=o.replace(t[s],xL(e,o,pm(e)));n.content=o}},TL=e=>{const t="contenteditable",n=" "+te.trim(xC(e))+" ",s=" "+te.trim(pm(e))+" ",o=_x(n),a=_x(s),l=RC(e);l.length>0&&e.on("BeforeSetContent",u=>{RL(e,l,u)}),e.parser.addAttributeFilter("class",u=>{let f=u.length;for(;f--;){const h=u[f];o(h)?h.attr(t,"true"):a(h)&&h.attr(t,"false")}}),e.serializer.addAttributeFilter(t,u=>{let f=u.length;for(;f--;){const h=u[f];!o(h)&&!a(h)||(l.length>0&&h.attr("data-mce-content")?(h.name="#text",h.type=3,h.raw=!0,h.value=h.attr("data-mce-content")):h.attr(t,null))}})},_L=e=>Ya(T.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Nx=(e,t)=>{t.hasAttribute("data-mce-caret")&&(bf(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},NL=(e,t)=>{const n=_L(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Nx(e,n);return}Bo(n)&&(Nx(e,n),e.undoManager.add())}},AL=e=>{e.on("keyup compositionstart",G(NL,e))},Ax=it,DL=(e,t,n)=>nx(t,e,n,Lc,$c,Ax),OL=(e,t,n)=>sx(t,e,n,a=>Lc(a)||DS(a),a=>$c(a)||OS(a),Ax),PL=e=>{const t=e.dom.create(An(e));return t.innerHTML='<br data-mce-bogus="1">',t},Dx=(e,t,n)=>{const s=Ks(e.getBody()),o=G(Pm,t===1?s.next:s.prev);if(n.collapsed){const a=e.dom.getParent(n.startContainer,"PRE");if(!a)return;if(!o(I.fromRangeStart(n))){const u=T.fromDom(PL(e));t===1?cs(T.fromDom(a),u):as(T.fromDom(a),u),e.selection.select(u.dom,!0),e.selection.collapse()}}},BL=(e,t)=>{const n=t?an.Forwards:an.Backwards,s=e.selection.getRng();return DL(n,e,s).orThunk(()=>(Dx(e,n,s),y.none()))},ML=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return OL(n,e,s).orThunk(()=>(Dx(e,n,s),y.none()))},LL=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return QS(n)?!t:t},Ox=(e,t)=>BL(e,LL(e.selection,t)).exists(n=>(La(e,n),!0)),Px=(e,t)=>ML(e,t).exists(n=>(La(e,n),!0)),Bx=(e,t)=>ox(e,t,t?$c:Lc),I0=(e,t)=>ww(e,!t).map(n=>{const s=n.toRange(),o=e.selection.getRng();return t?s.setStart(o.startContainer,o.startOffset):s.setEnd(o.endContainer,o.endOffset),s}).exists(n=>(La(e,n),!0)),$L=e=>Ge(["figcaption"],lt(e)),HL=(e,t)=>{const n=G(Ke,t);return Gr(T.fromDom(e.container()),bs,n).filter($L)},IL=(e,t,n)=>t?hM(e.dom,n):mM(e.dom,n),FL=(e,t)=>{const n=T.fromDom(e.getBody()),s=I.fromRangeStart(e.selection.getRng());return HL(s,n).exists(()=>{if(IL(n,t,s)){const a=Tx(e,n,t?Pt:Ui);return e.selection.setRng(a),!0}else return!1})},Mx=(e,t)=>e.selection.isCollapsed()?FL(e,t):!1,Lx={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},zL=e=>We(e,t=>({...Lx,...t})),ZL=e=>We(e,t=>({...Lx,...t})),$x=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,VL=(e,t)=>oo(zL(e),n=>$x(n,t)?[n]:[]),UL=(e,t)=>oo(ZL(e),n=>$x(n,t)?[n]:[]),De=(e,...t)=>()=>e.apply(null,t),R1=(e,t)=>Wt(VL(e,t),n=>n.action()),Hx=(e,t)=>Za(UL(e,t),n=>n.action()),Ix=(e,t)=>{const n=t?an.Forwards:an.Backwards,s=e.selection.getRng();return nx(e,n,s,u1,d1,Us).exists(o=>(La(e,o),!0))},Fx=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return sx(e,n,s,u1,d1,Us).exists(o=>(La(e,o),!0))},zx=(e,t)=>ox(e,t,t?d1:u1),Zx=po.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),T1={...Zx,none:e=>Zx.none(e)},WL=(e,t)=>Vx(e,t,Ht),Vx=(e,t,n)=>oo(sn(e),s=>Gn(s,t)?n(s)?[s]:[]:Vx(s,t,n)),jL=(e,t,n=qe)=>{if(n(t))return y.none();if(Ge(e,lt(t)))return y.some(t);const s=o=>Gn(o,"table")||n(o);return rl(t,e.join(","),s)},qL=(e,t)=>jL(["td","th"],e,t),GL=e=>WL(e,"th,td"),Ux=(e,t)=>Kn(e,"table",t),Hw=(e,t,n,s,o=Ht)=>{const a=s===1;if(!a&&n<=0)return T1.first(e[0]);if(a&&n>=e.length-1)return T1.last(e[e.length-1]);{const l=n+s,u=e[l];return o(u)?T1.middle(t,u):Hw(e,t,l,s,o)}},Wx=(e,t)=>Ux(e,t).bind(n=>{const s=GL(n);return Wc(s,a=>Ke(e,a)).map(a=>({index:a,all:s}))}),KL=(e,t,n)=>Wx(e,n).fold(()=>T1.none(e),o=>Hw(o.all,e,o.index,1,t)),YL=(e,t,n)=>Wx(e,n).fold(()=>T1.none(),o=>Hw(o.all,e,o.index,-1,t)),XL=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),QL=(e,t)=>oo(t,n=>{const s=XL(fa(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),JL=(e,t,n)=>wt(e,(s,o)=>s.fold(()=>y.some(o),a=>{const l=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n)),u=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return y.some(u<l?o:a)}),y.none()),jx=(e,t,n,s,o)=>{const a=un(T.fromDom(n),"td,th,caption").map(u=>u.dom),l=ke(QL(e,a),u=>t(u,o));return JL(l,s,o).map(u=>u.cell)},e$=e=>e.bottom,t$=e=>e.top,n$=(e,t)=>e.y<t,s$=(e,t)=>e.y>t,o$=G(jx,e$,n$),r$=G(jx,t$,s$),a$=(e,t)=>zn(t.getClientRects()).bind(n=>o$(e,n.left,n.top)).bind(n=>L0(pM(n),t)),c$=(e,t)=>Or(t.getClientRects()).bind(n=>r$(e,n.left,n.top)).bind(n=>L0(gM(n),t)),l$=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),i$=e=>e.breakType===Er.Wrap&&e.positions.length===0,u$=e=>e.breakType===Er.Br&&e.positions.length===1,qx=(e,t,n)=>{const s=e(t,n);return i$(s)||!gt(n.getNode())&&u$(s)?!l$(e,t,s):s.breakAt.isNone()},d$=G(qx,S1),f$=G(qx,E1),m$=(e,t,n)=>{const s=I.fromRangeStart(t);return Ec(!e,n).exists(o=>o.isEqual(s))},h$=(e,t,n,s)=>{const o=e.selection.getRng(),a=t?1:-1;return FC()&&m$(t,o,n)?(Ma(a,e,n,!t,!1).each(l=>{La(e,l)}),!0):!1},g$=(e,t,n)=>a$(t,n).orThunk(()=>zn(n.getClientRects()).bind(s=>_w(qk(e,I.before(t)),s.left))).getOr(I.before(t)),p$=(e,t,n)=>c$(t,n).orThunk(()=>zn(n.getClientRects()).bind(s=>_w(Gk(e,I.after(t)),s.left))).getOr(I.after(t)),Gx=(e,t)=>{const n=t.getNode(e);return Ao(n)?y.some(n):y.none()},v$=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?cs:as,o=Tx(t,T.fromDom(n),s);La(t,o)})},Kx=(e,t,n)=>{const s=Gx(!!t,n),o=t===!1;s.fold(()=>La(e,n.toRange()),a=>Ec(o,e.getBody()).filter(l=>l.isEqual(n)).fold(()=>La(e,n.toRange()),l=>v$(t,e,a)))},b$=(e,t,n,s)=>{const o=e.selection.getRng(),a=I.fromRangeStart(o),l=e.getBody();if(!t&&d$(s,a)){const u=g$(l,n,a);return Kx(e,t,u),!0}else if(t&&f$(s,a)){const u=p$(l,n,a);return Kx(e,t,u),!0}else return!1},Yx=(e,t,n)=>y.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>y.from(e.dom.getParent(s,"table")).map(o=>n(e,t,o,s))).getOr(!1),Xx=(e,t)=>Yx(e,t,h$),Qx=(e,t)=>Yx(e,t,b$),C$=e=>{const t=Da.exact(e,0,e,0);return Wy(t)},Jx=(e,t,n)=>n.fold(y.none,y.none,(s,o)=>g7(o).map(a=>C$(a)),s=>(e.execCommand("mceTableInsertRowAfter"),eR(e,t,s))),eR=(e,t,n)=>Jx(e,t,KL(n,sr)),y$=(e,t,n)=>Jx(e,t,YL(n,sr)),tR=(e,t)=>{const n=["table","li","dl"],s=T.fromDom(e.getBody()),o=u=>{const f=lt(u);return Ke(u,s)||Ge(n,f)},a=e.selection.getRng(),l=T.fromDom(t?a.endContainer:a.startContainer);return qL(l,o).map(u=>(Ux(u,o).each(v=>{e.model.table.clearSelectedCells(v.dom)}),e.selection.collapse(!t),(t?eR:y$)(e,o,u).each(v=>{e.selection.setRng(v)}),!0)).getOr(!1)},w$=(e,t,n)=>{const s=Ve.os.isMacOS()||Ve.os.isiOS();R1([{keyCode:de.RIGHT,action:De(Ox,e,!0)},{keyCode:de.LEFT,action:De(Ox,e,!1)},{keyCode:de.UP,action:De(Px,e,!1)},{keyCode:de.DOWN,action:De(Px,e,!0)},...s?[{keyCode:de.UP,action:De(I0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:de.DOWN,action:De(I0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:de.RIGHT,action:De(Xx,e,!0)},{keyCode:de.LEFT,action:De(Xx,e,!1)},{keyCode:de.UP,action:De(Qx,e,!1)},{keyCode:de.DOWN,action:De(Qx,e,!0)},{keyCode:de.RIGHT,action:De(Ix,e,!0)},{keyCode:de.LEFT,action:De(Ix,e,!1)},{keyCode:de.UP,action:De(Fx,e,!1)},{keyCode:de.DOWN,action:De(Fx,e,!0)},{keyCode:de.RIGHT,action:De(cx,e,t,!0)},{keyCode:de.LEFT,action:De(cx,e,t,!1)},{keyCode:de.RIGHT,ctrlKey:!s,altKey:s,action:De(BM,e,t)},{keyCode:de.LEFT,ctrlKey:!s,altKey:s,action:De(MM,e,t)},{keyCode:de.UP,action:De(Mx,e,!1)},{keyCode:de.DOWN,action:De(Mx,e,!0)}],n).each(o=>{n.preventDefault()})},S$=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||w$(e,t,n)})},qo=(e,t)=>({container:e,offset:t}),F0=Qe.DOM,z0=e=>t=>e===t?-1:0,E$=e=>t=>e.isBlock(t)||Ge(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",Iw=(e,t,n)=>{if(Y(e)&&t>=0)return y.some(qo(e,t));{const s=Ho(F0);return y.from(s.backwards(e,t,z0(e),n)).map(o=>qo(o.container,o.container.data.length))}},k$=(e,t,n)=>{if(Y(e)&&t>=e.length)return y.some(qo(e,t));{const s=Ho(F0);return y.from(s.forwards(e,t,z0(e),n)).map(o=>qo(o.container,0))}},Fw=(e,t,n)=>{if(!Y(e))return y.none();const s=e.data;if(t>=0&&t<=s.length)return y.some(qo(e,t));{const o=Ho(F0);return y.from(o.backwards(e,t,z0(e),n)).bind(a=>{const l=a.container.data;return Fw(a.container,t+l.length,n)})}},nR=(e,t,n)=>{if(!Y(e))return y.none();const s=e.data;if(t<=s.length)return y.some(qo(e,t));{const o=Ho(F0);return y.from(o.forwards(e,t,z0(e),n)).bind(a=>nR(a.container,t-s.length,n))}},zw=(e,t,n,s,o)=>{const a=Ho(e,E$(e));return y.from(a.backwards(t,n,s,o))},x$=e=>e.collapsed&&Y(e.startContainer),sR=e=>Oo(e.toString().replace(/\u00A0/g," ")),oR=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,Zw=(e,t)=>e.substring(t.length),R$=(e,t,n)=>{let s;const o=n.charAt(0);for(s=t-1;s>=0;s--){const a=e.charAt(s);if(oR(a))return y.none();if(o===a&&vn(e,n,s,t))break}return y.some(s)},T$=(e,t,n,s=0)=>{if(!x$(t))return y.none();const o={text:"",offset:0},a=(u,f,h)=>(o.text=h+o.text,o.offset+=f,R$(o.text,o.offset,n).getOr(f)),l=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return zw(e,t.startContainer,t.startOffset,a,l).bind(u=>{const f=t.cloneRange();if(f.setStart(u.container,u.offset),f.setEnd(t.endContainer,t.endOffset),f.collapsed)return y.none();const h=sR(f);return h.lastIndexOf(n)!==0||Zw(h,n).length<s?y.none():y.some({text:Zw(h,n),range:f,trigger:n})})},rR=(e,t,n,s=0)=>C7(T.fromDom(t.startContainer)).fold(()=>T$(e,t,n,s),o=>{const a=e.createRng();a.selectNode(o.dom);const l=sR(a);return y.some({range:a,text:Zw(l,n),trigger:n})}),_$=e=>e.nodeType===oh,N$=e=>e.nodeType===Oi,aR=e=>{if(_$(e))return qo(e,e.data.length);{const t=e.childNodes;return t.length>0?aR(t[t.length-1]):qo(e,t.length)}},cR=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?cR(n[t],0):n.length>0&&N$(e)&&n.length===t?aR(n[n.length-1]):qo(e,t)},A$=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return zw(e,t.container,t.offset,(o,a)=>a===0?-1:a,s).filter(o=>{const a=o.container.data.charAt(o.offset-1);return!oR(a)}).isSome()},D$=e=>t=>{const n=cR(t.startContainer,t.startOffset);return!A$(e,n)},O$=(e,t,n)=>Za(n.triggers,s=>rR(e,t,s)),P$=(e,t)=>{const n=t(),s=e.selection.getRng();return O$(e.dom,s,n).bind(o=>lR(e,t,o))},lR=(e,t,n,s={})=>{var o;const a=t(),u=(o=e.selection.getRng().startContainer.nodeValue)!==null&&o!==void 0?o:"",f=ke(a.lookupByTrigger(n.trigger),v=>n.text.length>=v.minChars&&v.matches.getOrThunk(()=>D$(e.dom))(n.range,u,n.text));if(f.length===0)return y.none();const h=Promise.all(We(f,v=>v.fetch(n.text,v.maxResults,s).then(C=>({matchText:n.text,items:C,columns:v.columns,onAction:v.onAction,highlightOn:v.highlightOn}))));return y.some({lookupData:h,context:n})};var Go;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Go||(Go={}));const Vw=(e,t,n)=>e.stype===Go.Error?t(e.serror):n(e.svalue),B$=e=>{const t=[],n=[];return K(e,s=>{Vw(s,o=>n.push(o),o=>t.push(o))}),{values:t,errors:n}},M$=(e,t)=>e.stype===Go.Error?{stype:Go.Error,serror:t(e.serror)}:e,L$=(e,t)=>e.stype===Go.Value?{stype:Go.Value,svalue:t(e.svalue)}:e,$$=(e,t)=>e.stype===Go.Value?t(e.svalue):e,H$=(e,t)=>e.stype===Go.Error?t(e.serror):e,iR=e=>({stype:Go.Value,svalue:e}),uR=e=>({stype:Go.Error,serror:e}),wn={fromResult:e=>e.fold(uR,iR),toResult:e=>Vw(e,In.error,In.value),svalue:iR,partition:B$,serror:uR,bind:$$,bindError:H$,map:L$,mapError:M$,fold:Vw},Uw=e=>Fe(e)&&ss(e).length>100?" removed due to size":JSON.stringify(e,null,2),I$=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:oe("... (only showing first ten failures)")}]):e;return We(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},Z0=(e,t)=>wn.serror([{path:e,getErrorInfo:t}]),F$=(e,t,n)=>Z0(e,()=>'Could not find valid *required* value for "'+t+'" in '+Uw(n)),z$=(e,t)=>Z0(e,()=>'Choice schema did not contain choice key: "'+t+'"'),Z$=(e,t,n)=>Z0(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+Uw(t)),V$=(e,t)=>Z0(e,oe(t)),U$=(e,t,n,s)=>ht(n,s).fold(()=>Z$(e,n,s),a=>a.extract(e.concat(["branch: "+s]),t)),W$=(e,t)=>({extract:(o,a)=>ht(a,e).fold(()=>z$(o,e),u=>U$(o,a,t,u)),toString:()=>"chooseOn("+e+"). Possible values: "+ss(t)}),j$=(e,t)=>t,q$=(e,t)=>Ci(e)&&Ci(t)?V0(e,t):t,dR=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const a in o)Oe(o,a)&&(n[a]=e(n[a],o[a]))}return n},V0=dR(q$),G$=dR(j$),fR=()=>({tag:"required",process:{}}),K$=e=>({tag:"defaultedThunk",process:e}),mR=e=>K$(oe(e)),Y$=()=>({tag:"option",process:{}}),X$=(e,t)=>e.length>0?wn.svalue(V0(t,G$.apply(void 0,e))):wn.svalue(t),hR=e=>Ar(wn.serror,F1)(e),Q$={consolidateObj:(e,t)=>{const n=wn.partition(e);return n.errors.length>0?hR(n.errors):X$(n.values,t)},consolidateArr:e=>{const t=wn.partition(e);return t.errors.length>0?hR(t.errors):wn.svalue(t.values)}},J$=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),e9=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),gR=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Ww=e=>{const t=(s,o)=>wn.bindError(e(o),a=>V$(s,a)),n=oe("val");return{extract:t,toString:n}},t9=Ww(wn.svalue),n9=(e,t,n,s)=>ht(t,n).fold(()=>F$(e,n,t),s),pR=(e,t,n,s)=>{const o=ht(e,t).getOrThunk(()=>n(e));return s(o)},s9=(e,t,n)=>n(ht(e,t)),o9=(e,t,n,s)=>{const o=ht(e,t).map(a=>a===!0?n(e):a);return s(o)},r9=(e,t,n,s,o)=>{const a=u=>o.extract(t.concat([s]),u),l=u=>u.fold(()=>wn.svalue(y.none()),f=>{const h=o.extract(t.concat([s]),f);return wn.map(h,y.some)});switch(e.tag){case"required":return n9(t,n,s,a);case"defaultedThunk":return pR(n,s,e.process,a);case"option":return s9(n,s,l);case"defaultedOptionThunk":return o9(n,s,e.process,l);case"mergeWithThunk":return pR(n,s,oe({}),u=>{const f=V0(e.process(n),u);return a(f)})}},a9=(e,t,n)=>{const s={},o=[];for(const a of n)gR(a,(l,u,f,h)=>{const v=r9(f,e,t,l,h);wn.fold(v,p=>{o.push(...p)},p=>{s[u]=p})},(l,u)=>{s[l]=u(t)});return o.length>0?wn.serror(o):wn.svalue(s)},jw=e=>({extract:(s,o)=>a9(s,o,e),toString:()=>`obj{
`+We(e,o=>gR(o,(a,l,u,f)=>a+" -> "+f.toString(),(a,l)=>"state("+a+")")).join(`
`)+"}"}),vR=e=>({extract:(s,o)=>{const a=We(o,(l,u)=>e.extract(s.concat(["["+u+"]"]),l));return Q$.consolidateArr(a)},toString:()=>"array("+e.toString()+")"}),c9=e=>Ww(t=>e(t).fold(wn.serror,wn.svalue)),l9=(e,t,n)=>{const s=t.extract([e],n);return wn.mapError(s,o=>({input:n,errors:o}))},i9=(e,t,n)=>wn.toResult(l9(e,t,n)),u9=e=>`Errors: 
`+I$(e.errors).join(`
`)+`

Input object: `+Uw(e.input),bR=(e,t)=>W$(e,Ei(t,jw)),d9=oe(t9),U0=(e,t)=>Ww(n=>{const s=typeof n;return e(n)?wn.svalue(n):wn.serror(`Expected type: ${t} but got: ${s}`)}),f9=U0(xs,"number"),W0=U0(V,"string"),m9=U0(Nr,"boolean"),qw=U0(N,"function"),_1=J$,CR=e9,h9=e=>c9(t=>Ge(e,t)?In.value(t):In.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),yR=(e,t)=>_1(e,e,fR(),t),wR=e=>yR(e,W0),SR=e=>yR(e,qw),g9=(e,t)=>_1(e,e,fR(),vR(t)),Gw=(e,t)=>_1(e,e,Y$(),t),j0=e=>Gw(e,W0),p9=e=>Gw(e,qw),v9=(e,t)=>_1(e,e,mR(t),d9()),bd=(e,t,n)=>_1(e,e,mR(t),n),ER=(e,t)=>bd(e,t,f9),b9=(e,t)=>bd(e,t,W0),kR=(e,t,n)=>bd(e,t,h9(n)),Kw=(e,t)=>bd(e,t,m9),Yw=(e,t)=>bd(e,t,qw),C9=(e,t,n)=>bd(e,t,vR(n)),y9=wR("type"),w9=SR("fetch"),Xw=SR("onAction"),S9=Yw("onSetup",()=>Be),E9=j0("text"),k9=j0("icon"),x9=j0("tooltip"),R9=j0("label"),T9=Kw("active",!1),_9=Kw("enabled",!0),xR=Kw("primary",!1),N9=e=>v9("columns",e),N1=e=>b9("type",e),A9=jw([y9,wR("trigger"),ER("minChars",1),N9(1),ER("maxResults",10),p9("matches"),w9,Xw,C9("highlightOn",[],W0)]),D9=e=>i9("Autocompleter",A9,{trigger:e.ch,...e}),Qw=[_9,x9,k9,E9,S9],RR=[T9].concat(Qw),O9=[Yw("predicate",qe),kR("scope","node",["node","editor"]),kR("position","selection",["node","selection","line"])],P9=Qw.concat([N1("contextformbutton"),xR,Xw,CR("original",Ct)]),B9=RR.concat([N1("contextformbutton"),xR,Xw,CR("original",Ct)]),M9=Qw.concat([N1("contextformbutton")]),L9=RR.concat([N1("contextformtogglebutton")]),$9=bR("type",{contextformbutton:P9,contextformtogglebutton:B9});jw([N1("contextform"),Yw("initValue",oe("")),R9,g9("commands",$9),Gw("launch",bR("type",{contextformbutton:M9,contextformtogglebutton:L9}))].concat(O9));const H9=e=>{const t=e.ui.registry.getAll().popups,n=Ei(t,l=>D9(l).fold(u=>{throw new Error(u9(u))},Ct)),s=Ad(Ri(n,l=>l.trigger)),o=Va(n);return{dataset:n,triggers:s,lookupByTrigger:l=>ke(o,u=>u.trigger===l)}},I9=(e,t)=>{const n=mc(t.load,50);e.on("keypress compositionend",s=>{s.which!==27&&n.throttle()}),e.on("keydown",s=>{const o=s.which;o===8?n.throttle():o===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},F9=e=>{const t=Ts(),n=Ft(!1),s=t.isSet,o=()=>{s()&&(EO(e),Ps(e),n.set(!1),t.clear())},a=h=>{s()||(SO(e,h.range),t.set({trigger:h.trigger,matchLength:h.text.length}))},l=Lr(()=>H9(e)),u=h=>t.get().map(v=>rR(e.dom,e.selection.getRng(),v.trigger).bind(p=>lR(e,l,p,h))).getOrThunk(()=>P$(e,l)),f=h=>{u(h).fold(o,v=>{a(v.context),v.lookupData.then(p=>{t.get().map(C=>{const k=v.context;C.trigger===k.trigger&&(k.text.length-C.matchLength>=10?o():(t.set({...C,matchLength:k.text.length}),n.get()?Ay(e,{lookupData:p}):(n.set(!0),Qm(e,{lookupData:p}))))})})})};e.addCommand("mceAutocompleterReload",(h,v)=>{const p=Fe(v)?v.fetchOptions:{};f(p)}),e.addCommand("mceAutocompleterClose",o),I9(e,{cancelIfNecessary:o,load:f})},TR=e=>(t,n,s={})=>{const o=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:Be,inputType:n},l=Jh(new InputEvent(e));return t.dispatch(e,{...l,...a,...s})},q0=TR("input"),G0=TR("beforeinput"),z9=(e,t,n)=>{const s=n.keyCode===de.BACKSPACE?"deleteContentBackward":"deleteContentForward";Hx([{keyCode:de.BACKSPACE,action:De(Sx,e)},{keyCode:de.BACKSPACE,action:De(Ew,e,!1)},{keyCode:de.DELETE,action:De(Ew,e,!0)},{keyCode:de.BACKSPACE,action:De(yw,e,!1)},{keyCode:de.DELETE,action:De(yw,e,!0)},{keyCode:de.BACKSPACE,action:De(Ow,e,t,!1)},{keyCode:de.DELETE,action:De(Ow,e,t,!0)},{keyCode:de.BACKSPACE,action:De(_4,e,!1)},{keyCode:de.DELETE,action:De(_4,e,!0)},{keyCode:de.BACKSPACE,action:De(kw,e,!1)},{keyCode:de.DELETE,action:De(kw,e,!0)},{keyCode:de.BACKSPACE,action:De(Mw,e,!1)},{keyCode:de.DELETE,action:De(Mw,e,!0)},{keyCode:de.BACKSPACE,action:De(bw,e,!1)},{keyCode:de.DELETE,action:De(bw,e,!0)},{keyCode:de.BACKSPACE,action:De(vw,e,!1)},{keyCode:de.DELETE,action:De(vw,e,!0)},{keyCode:de.BACKSPACE,action:De(Pw,e,!1)},{keyCode:de.DELETE,action:De(Pw,e,!0)}],n).filter(o=>e.selection.isEditable()).each(o=>{n.preventDefault(),G0(e,s).isDefaultPrevented()||(o(),q0(e,s))})},Z9=(e,t,n)=>{const s=ao(),o=s.os,a=s.browser,l=o.isMacOS()?[{keyCode:de.BACKSPACE,altKey:!0,action:De(x1,e)},{keyCode:de.DELETE,altKey:!0,action:De(x1,e)}]:[{keyCode:de.BACKSPACE,ctrlKey:!0,action:De(x1,e)},{keyCode:de.DELETE,ctrlKey:!0,action:De(x1,e)}];o.isMacOS()&&n&&l.push({keyCode:a.isFirefox()?224:91,action:De(x1,e)}),R1([{keyCode:de.BACKSPACE,action:De(Pk,e)},{keyCode:de.DELETE,action:De(Pk,e)},...l],t)},V9=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===de.BACKSPACE,s.isDefaultPrevented()||z9(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||Z9(e,s,n),n=!1})},U9=e=>{for(;e;){if(ie(e)||Y(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Cd=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const a=U9(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(n.doc.createTextNode(Gt),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const a=new Bt(t,t);let l=t,u;for(;u=a.current();){if(Y(u)){o.setStart(u,0),o.setEnd(u,0);break}if(s[u.nodeName.toLowerCase()]){o.setStartBefore(u),o.setEndBefore(u);break}l=u,u=a.next()}u||(o.setStart(l,0),o.setEnd(l,0))}else gt(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),Oa(e,o)},K0=(e,t)=>{const n=e.getRoot();let s,o=t;for(;o!==n&&o&&e.getContentEditable(o)!=="false";)e.getContentEditable(o)==="true"&&(s=o),o=o.parentNode;return o!==n?s:n},Jw=e=>y.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),W9=e=>Jw(e).fold(oe(""),t=>t.nodeName.toUpperCase()),j9=e=>Jw(e).filter(t=>nc(T.fromDom(t))).isSome(),q9=(e,t)=>e.dom.getParent(t,Nh),G9=(e,t,n)=>{let s=t;for(;s&&s!==e&&Rn(s.nextSibling);){const o=s.parentElement;if(!o||!n(o))return Nh(o);s=o}return!1},K9=(e,t,n)=>!t&&n.nodeName.toLowerCase()===An(e)&&e.dom.isEmpty(n)&&G9(e.getBody(),n,s=>Oe(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),Y9=(e,t,n)=>{var s,o,a;const l=t(An(e)),u=q9(e,n);u&&(e.dom.insertAfter(l,u),Cd(e,l),((a=(o=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0)>1&&e.dom.remove(n))},X9=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Q9=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},_R=(e,t)=>{const n=e==null?void 0:e.parentNode;return j(n)&&n.nodeName===t},NR=e=>j(e)&&/^(OL|UL|LI)$/.test(e.nodeName),J9=e=>j(e)&&/^(LI|DT|DD)$/.test(e.nodeName),eH=e=>NR(e)&&NR(e.parentNode),Y0=e=>{const t=e.parentNode;return J9(t)?t:e},X0=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!ie(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},tH=(e,t,n,s,o)=>{const a=e.dom,l=e.selection.getRng(),u=n.parentNode;if(n===e.getBody()||!u)return;eH(n)&&(o="LI");let f=t(o);if(X0(n,s,!0)&&X0(n,s,!1))if(_R(n,"LI")){const h=Y0(n);a.insertAfter(f,h),Q9(n)?a.remove(h):a.remove(n)}else a.replace(f,n);else if(X0(n,s,!0))_R(n,"LI")?(a.insertAfter(f,Y0(n)),f.appendChild(a.doc.createTextNode(" ")),f.appendChild(n)):u.insertBefore(f,n),a.remove(s);else if(X0(n,s,!1))a.insertAfter(f,Y0(n)),a.remove(s);else{n=Y0(n);const h=l.cloneRange();h.setStartAfter(s),h.setEndAfter(n);const v=h.extractContents();o==="LI"&&X9(v,"LI")?(f=v.firstChild,a.insertAfter(v,n)):(a.insertAfter(v,n),a.insertAfter(f,n)),a.remove(s)}Cd(e,f)},nH=e=>{K(af(T.fromDom(e),_n),t=>{const n=t.dom;n.nodeValue=Oo(n.data)})},sH=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},oH=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),e3=e=>{e.innerHTML='<br data-mce-bogus="1">'},t3=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,n3=(e,t)=>j(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",rH=(e,t,n)=>{var s;const o=[];if(!n)return;let a=n;for(;a=a.firstChild;){if(e.isBlock(a))return;ie(a)&&!t[a.nodeName.toLowerCase()]&&o.push(a)}let l=o.length;for(;l--;)a=o[l],(!a.hasChildNodes()||a.firstChild===a.lastChild&&((s=a.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||oH(e,a))&&e.remove(a)},s3=(e,t,n)=>Y(t)?e?n===1&&t.data.charAt(n-1)===dn?0:n:n===t.data.length-1&&t.data.charAt(n)===dn?t.data.length:n:n,aH=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,s3(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,s3(!1,e.endContainer,e.endOffset)),t},cH=e=>{let t=e;do Y(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},lH=(e,t,n)=>{const s=e.dom;y.from(n.style).map(s.parseStyle).each(f=>{const v={...on(T.fromDom(t)),...f};s.setStyles(t,v)});const o=y.from(n.class).map(f=>f.split(/\s+/)),a=y.from(t.className).map(f=>ke(f.split(/\s+/),h=>h!==""));$n(o,a,(f,h)=>{const v=ke(h,C=>!Ge(f,C)),p=[...f,...v];s.setAttrib(t,"class",p.join(" "))});const l=["style","class"],u=mt(n,(f,h)=>!Ge(l,h));s.setAttribs(t,u)},A1=(e,t)=>{if(An(e).toLowerCase()===t.tagName.toLowerCase()){const s=vc(e);lH(e,t,s)}},iH=(e,t,n,s,o)=>{var a,l;const u=e.dom,f=(a=K0(u,s))!==null&&a!==void 0?a:u.getRoot();let h=u.getParent(s,u.isBlock);if(!h||!n3(u,h)){if(h=h||f,!h.hasChildNodes()){const k=u.create(t);return A1(e,k),h.appendChild(k),n.setStart(k,0),n.setEnd(k,0),k}let v=s;for(;v&&v.parentNode!==h;)v=v.parentNode;let p;for(;v&&!u.isBlock(v);)p=v,v=v.previousSibling;const C=(l=p==null?void 0:p.parentElement)===null||l===void 0?void 0:l.nodeName;if(p&&C&&e.schema.isValidChild(C,t.toLowerCase())){const k=p.parentNode,R=u.create(t);for(A1(e,R),k.insertBefore(R,p),v=p;v&&!u.isBlock(v);){const S=v.nextSibling;R.appendChild(v),v=S}n.setStart(s,o),n.setEnd(s,o)}}return s},uH=(e,t)=>{t.normalize();const n=t.lastChild;(!n||ie(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},dH=(e,t)=>{const n=zb(e);return nt(t)?!1:V(n)?Ge(te.explode(n),t.nodeName.toLowerCase()):n},AR={insert:(e,t)=>{let n,s,o,a,l=!1;const u=e.dom,f=e.schema,h=f.getNonEmptyElements(),v=e.selection.getRng(),p=An(e),C=v.collapsed&&v.startContainer===e.dom.getRoot(),k=T.fromDom(v.startContainer),R=jr(k,v.startOffset),S=R.exists(se=>Wd(se)&&!sr(se)),x=C&&S,A=se=>{let fe=n;const Re=f.getTextInlineElements();let we;se||o==="TABLE"||o==="HR"?we=u.create(se||p):we=q.cloneNode(!1);let Ie=we;if(Nu(e)===!1)u.setAttrib(we,"style",null),u.setAttrib(we,"class",null);else do if(Re[fe.nodeName]){if(As(fe)||ws(fe))continue;const Ue=fe.cloneNode(!1);u.setAttrib(Ue,"id",""),we.hasChildNodes()?(Ue.appendChild(we.firstChild),we.appendChild(Ue)):(Ie=Ue,we.appendChild(Ue))}while((fe=fe.parentNode)&&fe!==ge);return A1(e,we),e3(Ie),we},D=se=>{const fe=s3(se,n,s);if(Y(n)&&(se?fe>0:fe<n.data.length))return!1;if(n.parentNode===q&&l&&!se||se&&ie(n)&&n===q.firstChild)return!0;if(t3(n,"TABLE")||t3(n,"HR"))return l&&!se||!l&&se;const Re=new Bt(n,q);Y(n)&&(se&&fe===0?Re.prev():!se&&fe===n.data.length&&Re.next());let we;for(;we=Re.current();){if(ie(we)){if(!we.getAttribute("data-mce-bogus")){const Ie=we.nodeName.toLowerCase();if(h[Ie]&&Ie!=="br")return!1}}else if(Y(we)&&!sa(we.data))return!1;se?Re.prev():Re.next()}return!0},O=()=>{let se;return/^(H[1-6]|PRE|FIGURE)$/.test(o)&&$!=="HGROUP"?se=A(p):se=A(),dH(e,a)&&n3(u,a)&&u.isEmpty(q,void 0,{includeZwsp:!0})?se=u.split(a,q):u.insertAfter(se,q),Cd(e,se),se};cd(u,v).each(se=>{v.setStart(se.startContainer,se.startOffset),v.setEnd(se.endContainer,se.endOffset)}),n=v.startContainer,s=v.startOffset;const B=!!(t&&t.shiftKey),U=!!(t&&t.ctrlKey);ie(n)&&n.hasChildNodes()&&!x&&(l=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,l&&Y(n)?s=n.data.length:s=0);const ge=K0(u,n);if(!ge||sH(e,n))return;B||(n=iH(e,p,v,n,s));let q=u.getParent(n,u.isBlock)||u.getRoot();a=j(q==null?void 0:q.parentNode)?u.getParent(q.parentNode,u.isBlock):null,o=q?q.nodeName.toUpperCase():"";const $=a?a.nodeName.toUpperCase():"";if($==="LI"&&!U){const se=a;q=se,a=se.parentNode,o=$}if(ie(a)&&K9(e,B,q))return Y9(e,A,q);if(/^(LI|DT|DD)$/.test(o)&&ie(a)&&u.isEmpty(q)){tH(e,A,a,q,p);return}if(!x&&(q===e.getBody()||!n3(u,q)))return;const F=q.parentNode;let ne;if(x)ne=A(p),R.fold(()=>{Pt(k,T.fromDom(ne))},se=>{as(se,T.fromDom(ne))}),e.selection.setCursorLocation(ne,0);else if(lr(q))ne=bf(q),u.isEmpty(q)&&e3(q),A1(e,ne),Cd(e,ne);else if(D(!1))ne=O();else if(D(!0)&&F){ne=F.insertBefore(A(),q);const se=hh(T.fromDom(v.startContainer))&&v.collapsed;Cd(e,t3(q,"HR")||se?ne:q)}else{const se=aH(v).cloneRange();se.setEndAfter(q);const fe=se.extractContents();nH(fe),cH(fe),ne=fe.firstChild,u.insertAfter(fe,q),rH(u,h,ne),uH(u,q),u.isEmpty(q)&&e3(q),ne.normalize(),u.isEmpty(ne)?(u.remove(ne),O()):(A1(e,ne),Cd(e,ne))}u.setAttrib(ne,"id",""),e.dispatch("NewBlock",{newBlock:ne})},fakeEventName:"insertParagraph"},fH=(e,t,n)=>{const s=new Bt(t,n);let o;const a=e.getNonEmptyElements();for(;o=s.next();)if(a[o.nodeName.toLowerCase()]||Y(o)&&o.length>0)return!0;return!1},DR=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Oa(e,s)},mH=(e,t)=>{const n=e.selection,s=e.dom,o=n.getRng();let a,l=!1;cd(s,o).each(k=>{o.setStart(k.startContainer,k.startOffset),o.setEnd(k.endContainer,k.endOffset)});let u=o.startOffset,f=o.startContainer;if(ie(f)&&f.hasChildNodes()){const k=u>f.childNodes.length-1;f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f,k&&Y(f)?u=f.data.length:u=0}let h=s.getParent(f,s.isBlock);const v=h&&h.parentNode?s.getParent(h.parentNode,s.isBlock):null,p=v?v.nodeName.toUpperCase():"",C=!!(t&&t.ctrlKey);p==="LI"&&!C&&(h=v),Y(f)&&u>=f.data.length&&(fH(e.schema,f,h||s.getRoot())||(a=s.create("br"),o.insertNode(a),o.setStartAfter(a),o.setEndAfter(a),l=!0)),a=s.create("br"),Yf(s,o,a),DR(e,a,l),e.undoManager.add()},hH=(e,t)=>{const n=T.fromTag("br");as(T.fromDom(t),n),e.undoManager.add()},gH=(e,t)=>{vH(e.getBody(),t)||cs(T.fromDom(t),T.fromTag("br"));const n=T.fromTag("br");cs(T.fromDom(t),n),DR(e,n.dom,!1),e.undoManager.add()},pH=e=>gt(e.getNode()),vH=(e,t)=>pH(I.after(t))?!0:On(e,I.after(t)).map(n=>gt(n.getNode())).getOr(!1),OR=e=>e&&e.nodeName==="A"&&"href"in e,bH=e=>e.fold(qe,OR,OR,qe),CH=e=>{const t=G(si,e),n=I.fromRangeStart(e.selection.getRng());return Sr(t,e.getBody(),n).filter(bH)},yH=(e,t)=>{t.fold(Be,G(hH,e),G(gH,e),Be)},PR={insert:(e,t)=>{const n=CH(e);n.isSome()?n.each(G(yH,e)):mH(e,t)},fakeEventName:"insertLineBreak"},BR=(e,t)=>Jw(e).filter(n=>t.length>0&&Gn(T.fromDom(n),t)).isSome(),wH=e=>BR(e,Lg(e)),SH=e=>BR(e,um(e)),Ls=po.generate([{br:[]},{block:[]},{none:[]}]),EH=(e,t)=>SH(e),MR=e=>(t,n)=>j9(t)===e,LR=(e,t)=>(n,s)=>W9(n)===e.toUpperCase()===t,kH=e=>{const t=K0(e.dom,e.selection.getStart());return nt(t)},D1=e=>LR("pre",e),xH=()=>LR("summary",!0),Q0=e=>(t,n)=>Mg(t)===e,RH=(e,t)=>wH(e),J0=(e,t)=>t,TH=e=>{const t=An(e),n=K0(e.dom,e.selection.getStart());return j(n)&&e.schema.isValidChild(n.nodeName,t)},_H=e=>{const t=e.selection.getRng(),n=t.collapsed&&t.startContainer===e.dom.getRoot(),s=T.fromDom(t.startContainer),a=jr(s,t.startOffset).map(l=>Wd(l)&&!sr(l));return n&&a.getOr(!0)},Js=(e,t)=>(n,s)=>wt(e,(a,l)=>a&&l(n,s),!0)?y.some(t):y.none(),NH=(e,t)=>Ik([Js([EH],Ls.none()),Js([D1(!0),kH],Ls.none()),Js([xH()],Ls.br()),Js([D1(!0),Q0(!1),J0],Ls.br()),Js([D1(!0),Q0(!1)],Ls.block()),Js([D1(!0),Q0(!0),J0],Ls.block()),Js([D1(!0),Q0(!0)],Ls.br()),Js([MR(!0),J0],Ls.br()),Js([MR(!0)],Ls.block()),Js([RH],Ls.br()),Js([J0],Ls.br()),Js([TH],Ls.block()),Js([_H],Ls.block())],[e,!!(t&&t.shiftKey)]).getOr(Ls.none()),e2=(e,t,n)=>{t.selection.isCollapsed()||k8(t),!(j(n)&&G0(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),j(n)&&q0(t,e.fakeEventName))},$R=(e,t)=>{const n=()=>e2(PR,e,t),s=()=>e2(AR,e,t),o=NH(e,t);switch(Fb(e)){case"linebreak":o.fold(n,n,Be);break;case"block":o.fold(s,s,Be);break;case"invert":o.fold(s,n,Be);break;default:o.fold(n,s,Be);break}},HR=ao(),AH=HR.os.isiOS()&&HR.browser.isSafari(),IR=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),BD(e.undoManager),e.undoManager.transact(()=>{$R(e,t)}))},DH=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Y(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},OH=e=>{let t=y.none();const n=o=>{t=y.some(o.selection.getBookmark()),o.undoManager.add()},s=(o,a)=>{o.undoManager.undo(),t.fold(Be,l=>o.selection.moveToBookmark(l)),IR(o,a),t=y.none()};e.on("keydown",o=>{o.keyCode===de.ENTER&&(AH&&DH(e.selection.getRng())?n(e):IR(e,o))}),e.on("keyup",o=>{o.keyCode===de.ENTER&&t.each(()=>s(e,o))})},PH=(e,t,n)=>{const s=Ve.os.isMacOS()||Ve.os.isiOS();R1([{keyCode:de.END,action:De(Bx,e,!0)},{keyCode:de.HOME,action:De(Bx,e,!1)},...s?[]:[{keyCode:de.HOME,action:De(I0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:de.END,action:De(I0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:de.END,action:De(zx,e,!0)},{keyCode:de.HOME,action:De(zx,e,!1)},{keyCode:de.END,action:De(H0,e,!0,t)},{keyCode:de.HOME,action:De(H0,e,!1,t)}],n).each(o=>{n.preventDefault()})},BH=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||PH(e,t,n)})},MH=e=>{e.on("input",t=>{t.isComposing||s8(e)})},LH=ao(),$H=(e,t,n)=>{R1([{keyCode:de.PAGE_UP,action:De(H0,e,!1,t)},{keyCode:de.PAGE_DOWN,action:De(H0,e,!0,t)}],n)},FR=e=>e.stopImmediatePropagation(),zR=e=>e.keyCode===de.PAGE_UP||e.keyCode===de.PAGE_DOWN,ZR=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",FR,!0):!n&&e.get()&&t.off("NodeChange",FR),e.set(n)},HH=(e,t)=>{if(LH.os.isMacOS())return;const n=Ft(!1);e.on("keydown",s=>{zR(s)&&ZR(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||$H(e,t,s),zR(s)&&n.get()&&(ZR(n,e,!1),e.nodeChanged())})},VR=(e,t)=>{const n=t.container(),s=t.offset();return Y(n)?(n.insertData(s,e),y.some(I(n,s+e.length))):Io(t).map(o=>{const a=T.fromText(e);return t.isAtEnd()?cs(o,a):as(o,a),I(a.dom,e.length)})},UR=G(VR,Gt),WR=G(VR," "),IH=(e,t)=>VS(e,t)?UR(t):WR(t),FH=e=>t=>t.fold(n=>Cn(e.dom,I.before(n)),n=>mn(n),n=>Ns(n),n=>On(e.dom,I.after(n))),zH=(e,t)=>n=>VS(e,n)?UR(t):WR(t),jR=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},ZH=(e,t)=>e.isEditable(e.getParent(t,"summary")),VH=e=>{const t=I.fromRangeStart(e.selection.getRng()),n=T.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=G(si,e),o=I.fromRangeStart(e.selection.getRng());return Sr(s,e.getBody(),o).bind(FH(n)).map(a=>()=>zH(n,t)(a).each(jR(e)))}else return y.none()},UH=e=>{const t=()=>{const n=T.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=I.fromRangeStart(e.selection.getRng());IH(n,s).each(jR(e))};return Rs(Ve.browser.isFirefox()&&e.selection.isEditable()&&ZH(e.dom,e.selection.getRng().startContainer),t)},WH=(e,t)=>{Hx([{keyCode:de.SPACEBAR,action:De(VH,e)},{keyCode:de.SPACEBAR,action:De(UH,e)}],t).each(n=>{t.preventDefault(),G0(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),q0(e,"insertText",{data:" "}))})},jH=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||WH(e,t)})},qH=e=>Cm(e)?[{keyCode:de.TAB,action:De(tR,e,!0)},{keyCode:de.TAB,shiftKey:!0,action:De(tR,e,!1)}]:[],GH=(e,t)=>{R1([...qH(e)],t).each(n=>{t.preventDefault()})},KH=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||GH(e,t)})},YH=e=>{if(e.addShortcut("Meta+P","","mcePrint"),F9(e),wr(e))return Ft(null);{const t=PM(e);return AL(e),S$(e,t),V9(e,t),OH(e),jH(e),MH(e),KH(e),BH(e,t),HH(e,t),t}};class XH{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",o=>{const a=t.selection.getRng(),l={startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset};(o.type==="nodechange"||!r1(l,n))&&t.dispatch("SelectionChange"),n=l}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const o=t.selection.getStart(!0);o&&Fo(t)&&!s.isSameElementPath(o)&&t.dom.isChildOf(o,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",o=>{!o.isDefaultPrevented()&&Fo(t)&&(t.selection.getNode().nodeName==="IMG"?Ys.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let s;if(this.editor.initialized&&n&&!qg(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();s=n.getStart(!0)||o,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,o))&&(s=o);const a=[];this.editor.dom.getParent(s,l=>l===o?!0:(a.push(l),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:a})}}isSameElementPath(t){let n;const s=this.editor,o=za(s.dom.getParents(t,Ht,s.getBody()));if(o.length===this.lastPath.length){for(n=o.length;n>=0&&o[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=o,!0}return this.lastPath=o,!1}}const qR=El("image"),QH=e=>{const t=e;return y.from(t[qR])},JH=(e,t)=>{const n=e;n[qR]=t},o3=El("event"),eI=e=>{const t=e;return y.from(t[o3])},t2=e=>t=>{const n=t;n[o3]=e},tI=(e,t)=>t2(t)(e),GR=t2(0),nI=t2(2),sI=t2(1),oI=(e=>t=>{const n=t;return y.from(n[o3]).exists(s=>s===e)})(0),rI=()=>Object.freeze({length:0,item:e=>null}),r3=El("mode"),aI=e=>{const t=e;return y.from(t[r3])},n2=e=>t=>{const n=t;n[r3]=e},KR=(e,t)=>n2(t)(e),YR=n2(0),a3=n2(2),cI=n2(1),XR=e=>t=>{const n=t;return y.from(n[r3]).exists(s=>s===e)},yd=XR(0),QR=XR(1),lI=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(yd(e))if(V(n)){if(!en(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{yd(e)&&t.remove(n)},clear:()=>{yd(e)&&t.clear()}}),iI=["none","copy","link","move"],uI=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],c3=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(o){Ge(iI,o)&&(t=o)},get effectAllowed(){return n},set effectAllowed(o){oI(s)&&Ge(uI,o)&&(n=o)},get items(){return lI(s,e.items)},get files(){return QR(s)?rI():e.files},get types(){return e.types},setDragImage:(o,a,l)=>{yd(s)&&(JH(s,{image:o,x:a,y:l}),e.setDragImage(o,a,l))},getData:o=>QR(s)?"":e.getData(o),setData:(o,a)=>{yd(s)&&e.setData(o,a)},clearData:o=>{yd(s)&&e.clearData(o)}};return YR(s),s},dI=e=>{const t=c3(),n=aI(e);return a3(e),GR(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,QH(e).each(s=>t.setDragImage(s.image,s.x,s.y)),K(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),K(e.files,s=>t.items.add(s)),eI(e).each(s=>{tI(t,s)}),n.each(s=>{KR(e,s),KR(t,s)}),t},fI=e=>{const t=e.getData("text/html");return t===""?y.none():y.some(t)},JR=(e,t)=>e.setData("text/html",t),e6="x-tinymce/html",s2=oe(e6),l3="<!-- "+e6+" -->",mI=e=>l3+e,hI=e=>e.replace(l3,""),t6=e=>e.indexOf(l3)!==-1,gI=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),pI=(e,t)=>{let n="<"+e;const s=Ri(t,(o,a)=>a+'="'+ir.encodeAllRaw(o)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},vI=(e,t,n)=>{const s=e.split(/\n\n/),o=pI(t,n),a="</"+t+">",l=We(s,f=>f.split(/\n/).join("<br />")),u=f=>o+f+a;return l.length===1?l[0]:We(l,u).join("")},n6="%MCEPASTEBIN%",bI=(e,t)=>{const{dom:n,selection:s}=e,o=e.getBody();t.set(s.getRng());const a=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n6);Ve.browser.isFirefox()&&n.setStyle(a,"left",n.getStyle(o,"direction",!0)==="rtl"?65535:-65535),n.bind(a,"beforedeactivate focusin focusout",l=>{l.stopPropagation()}),a.focus(),s.select(a,!0)},CI=(e,t)=>{const n=e.dom;if(i3(e)){let s;const o=t.get();for(;s=i3(e);)n.remove(s),n.unbind(s);o&&e.selection.setRng(o)}t.set(null)},i3=e=>e.dom.get("mcepastebin"),yI=e=>j(e)&&e.id==="mcepastebin",wI=e=>{const t=e.dom,n=(l,u)=>{l.appendChild(u),t.remove(u,!0)},[s,...o]=ke(e.getBody().childNodes,yI);K(o,l=>{n(s,l)});const a=t.select("div[id=mcepastebin]",s);for(let l=a.length-1;l>=0;l--){const u=t.create("div");s.insertBefore(u,a[l]),n(u,a[l])}return s?s.innerHTML:""},s6=e=>e===n6,SI=e=>{const t=Ft(null);return{create:()=>bI(e,t),remove:()=>CI(e,t),getEl:()=>i3(e),getHtml:()=>wI(e),getLastRng:t.get}},o6=(e,t)=>(te.each(t,n=>{Jt(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),EI=e=>{const t=dr(),n=md({},t);let s="";const o=t.getVoidElements(),a=te.makeMap("script noscript style textarea video audio iframe object"," "),l=t.getBlockElements(),u=f=>{const h=f.name,v=f;if(h==="br"){s+=`
`;return}if(h!=="wbr"){if(o[h]&&(s+=" "),a[h]){s+=" ";return}if(f.type===3&&(s+=f.value),!(f.name in t.getVoidElements())){let p=f.firstChild;if(p)do u(p);while(p=p.next)}l[h]&&v.next&&(s+=`
`,h==="p"&&(s+=`
`))}};return e=o6(e,[/<!\[[^\]]+\]>/g]),u(n.parse(e)),s},r6=e=>(e=o6(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,o)=>!s&&!o?" ":Gt],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),kI=e=>{let t=0;return()=>e+t++},xI=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return te.hasOwn(n,t)?"image/"+n[t]:"image/"+t},RI=(e,t)=>{const n=md({sanitize:vm(e)},e.schema);n.addNodeFilter("meta",o=>{te.each(o,a=>{a.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Bc({validate:!0},e.schema).serialize(s)},a6=(e,t)=>({content:e,cancelled:t}),TI=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),o=Dy(e,s,n);return a6(o.node.innerHTML,o.isDefaultPrevented())},_I=(e,t,n)=>{const s=Na(e,t,n),o=RI(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?TI(e,o,n):a6(o,s.isDefaultPrevented())},NI=(e,t,n)=>_I(e,t,n),u3=(e,t)=>(e.insertContent(t,{merge:tp(e),paste:!0}),!0),d3=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),AI=(e,t)=>d3(t)&&Ot(bm(e),n=>Eo(t.toLowerCase(),`.${n.toLowerCase()}`)),DI=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),OI=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),PI=(e,t,n)=>!e.selection.isCollapsed()&&d3(t)?OI(e,t,n):!1,BI=(e,t,n)=>AI(e,t)?DI(e,t,n):!1,MI=(e,t)=>{te.each([PI,BI,u3],n=>!n(e,t,u3))},LI=(e,t,n)=>{n||!CC(e)?u3(e,t):MI(e,t)},$I=kI("mceclip"),HI=e=>{const t=c3();return JR(t,e),a3(t),t},c6=(e,t,n,s,o)=>{const a=NI(e,t,n);if(!a.cancelled){const l=a.content,u=()=>LI(e,l,s);o?G0(e,"insertFromPaste",{dataTransfer:HI(l)}).isDefaultPrevented()||(u(),q0(e,"insertFromPaste")):u()}},o2=(e,t,n,s)=>{const o=n||t6(t);c6(e,hI(t),o,!1,s)},f3=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),o=Ef(s,wC(e)),a=vI(o,An(e),vc(e));c6(e,a,!1,!0,n)},l6=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Fc=(e,t)=>t in e&&e[t].length>0,i6=e=>Fc(e,"text/html")||Fc(e,"text/plain"),II=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return j(n)?e.dom.encode(n[1]):void 0},FI=(e,t,n,s)=>{const o=$I(),a=Hg(e)&&j(n.name),l=a?II(e,n.name):o,u=a?n.name:void 0,f=t.create(o,n,s,l,u);return t.add(f),f},zI=(e,t)=>{K4(t.uri).each(({data:n,type:s,base64Encoded:o})=>{const a=o?n:btoa(n),l=t.file,u=e.editorUpload.blobCache,f=u.getByData(a,s),h=f??FI(e,u,l,a);o2(e,`<img src="${h.blobUri()}">`,!1,!0)})},ZI=e=>e.type==="paste",VI=e=>Promise.all(We(e,t=>f5(t).then(n=>({file:t,uri:n})))),UI=e=>{const t=bm(e);return n=>ln(n.type,"image/")&&Ot(t,s=>xI(s)===n.type)},WI=(e,t)=>{const n=t.items?oo(Tn(t.items),o=>o.kind==="file"?[o.getAsFile()]:[]):[],s=t.files?Tn(t.files):[];return ke(n.length>0?n:s,UI(e))},u6=(e,t,n)=>{const s=ZI(t)?t.clipboardData:t.dataTransfer;if(Ml(e)&&s){const o=WI(e,s);if(o.length>0)return t.preventDefault(),VI(o).then(a=>{n&&e.selection.setRng(n),K(a,l=>{zI(e,l)})}),!0}return!1},jI=e=>{var t,n;return Ve.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},qI=e=>de.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,m3=(e,t,n,s,o)=>{let a=r6(n);const l=Fc(t,s2())||t6(n),u=!l&&gI(a),f=d3(a);(s6(a)||!a.length||u&&!f)&&(s=!0),(s||f)&&(Fc(t,"text/plain")&&u?a=t["text/plain"]:a=EI(a)),!s6(a)&&(s?f3(e,a,o):o2(e,a,l,o))},GI=(e,t,n)=>{let s;const o=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",a=>{qI(a)&&!a.isDefaultPrevented()&&(s=a.shiftKey&&a.keyCode===86)}),e.on("paste",a=>{if(a.isDefaultPrevented()||jI(a))return;const l=n.get()==="text"||s;s=!1;const u=l6(a.clipboardData);!i6(u)&&u6(e,a,o())||(Fc(u,"text/html")?(a.preventDefault(),m3(e,u,u["text/html"],l,!0)):Fc(u,"text/plain")&&Fc(u,"text/uri-list")?(a.preventDefault(),m3(e,u,u["text/plain"],l,!0)):(t.create(),Ys.setEditorTimeout(e,()=>{const f=t.getHtml();t.remove(),m3(e,u,f,l,!1)},0)))})},KI=e=>{const t=o=>ln(o,"webkit-fake-url"),n=o=>ln(o,"data:"),s=o=>{var a;return((a=o.data)===null||a===void 0?void 0:a.paste)===!0};e.parser.addNodeFilter("img",(o,a,l)=>{if(!Ml(e)&&s(l))for(const u of o){const f=u.attr("src");V(f)&&!u.attr("data-mce-object")&&f!==Ve.transparentSrc&&(t(f)||!SC(e)&&n(f))&&u.remove()}})},YI=(e,t,n)=>{GI(e,t,n),KI(e)},XI=(e,t)=>{t.get()==="text"?(t.set("html"),Oc(e,!1)):(t.set("text"),Oc(e,!0)),e.focus()},QI=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{XI(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&o2(e,s.html,s.internal,!1),s.text&&f3(e,s.text,!1)})},JI=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(s2(),t),!0}catch{return!1}else return!1},d6=(e,t,n,s)=>{JI(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},f6=e=>(t,n)=>{const{dom:s,selection:o}=e,a=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),l=s.create("div",{contenteditable:"true"},t);s.setStyles(a,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(l),s.add(e.getBody(),a);const u=o.getRng();l.focus();const f=s.createRng();f.selectNodeContents(l),o.setRng(f),Ys.setEditorTimeout(e,()=>{o.setRng(u),s.remove(a),n()},0)},m6=e=>({html:mI(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),eF=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),h6=e=>!e.selection.isCollapsed()||eF(e),tF=e=>t=>{!t.isDefaultPrevented()&&h6(e)&&d6(t,m6(e),f6(e),()=>{if(Ve.browser.isChromium()||Ve.browser.isFirefox()){const n=e.selection.getRng();Ys.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},nF=e=>t=>{!t.isDefaultPrevented()&&h6(e)&&d6(t,m6(e),f6(e),Be)},sF=e=>{e.on("cut",tF(e)),e.on("copy",nF(e))},g6=(e,t)=>{var n,s;return Vo.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},oF=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},p6=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},rF=e=>Ot(e.files,t=>/^image\//.test(t.type)),aF=(e,t,n,s)=>{const o=e.getParent(n,a=>ra(t,a));if(o&&Oe(s,"text/html")){const a=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!Rn(a.querySelector(o.nodeName.toLowerCase()))}else return!1},cF=(e,t)=>{Qg(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Ml(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&rF(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=g6(e,n);if(nt(s))return;const o=l6(n.dataTransfer),a=Fc(o,s2());if((!i6(o)||oF(o))&&u6(e,n,s))return;const l=o[s2()],u=l||o["text/html"]||o["text/plain"],f=aF(e.dom,e.schema,s.startContainer,o);t.get()&&!f||u&&(n.preventDefault(),Ys.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{l&&e.execCommand("Delete"),p6(e,s);const h=r6(u);o["text/html"]?o2(e,h,a,!0):f3(e,h,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Ml(e)&&!t.get()&&(n.preventDefault(),p6(e,g6(e,n))),n.type==="dragend"&&t.set(!1)})},lF=e=>{const t=o=>a=>{o(e,a)},n=Jg(e);N(n)&&e.on("PastePreProcess",t(n));const s=ep(e);N(s)&&e.on("PastePostProcess",t(s))},iF=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},uF=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,v6=e=>te.trim(e).replace(uF,jl).toLowerCase(),dF=(e,t,n)=>{const s=Ll(e);if(n||s==="all"||!gm(e))return t;const o=s?s.split(/[, ]/):[];if(o&&s!=="none"){const a=e.dom,l=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,f,h,v)=>{const p=a.parseStyle(a.decode(h)),C={};for(let R=0;R<o.length;R++){const S=p[o[R]];let x=S,A=a.getStyle(l,o[R],!0);/color/.test(o[R])&&(x=v6(x),A=v6(A)),A!==x&&(C[o[R]]=S)}const k=a.serializeStyle(C,"span");return k?f+' style="'+k+'"'+v:f+v})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(a,l,u,f)=>l+' style="'+u+'"'+f),t},fF=e=>{(Ve.browser.isChromium()||Ve.browser.isSafari())&&iF(e,dF)},mF=e=>{const t=Ft(!1),n=Ft(yC(e)?"text":"html"),s=SI(e);fF(e),QI(e,n),lF(e),e.on("PreInit",()=>{sF(e),cF(e,t),YI(e,s,n)})},hF=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},gF=e=>{e.parser.addNodeFilter("details",t=>{const n=ym(e);K(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=np(e);K(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},b6=e=>ar(T.fromDom(e)),C6=(e,t)=>{const n=t.getNode();en(n)||e.selection.setCursorLocation(n,t.offset())},y6=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},w6=ao(),pF=w6.browser,S6=w6.os,vF=pF.isSafari(),E6=S6.isMacOS()||S6.isiOS(),bF=(e,t)=>mn(t).exists(n=>n.isEqual(e)),CF=(e,t)=>Ns(t).exists(n=>gt(n.getNode())&&Cn(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),yF=(e,t)=>{const n=y.from(e.getParent(t.startContainer,"details")),s=y.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const o=n.bind(a=>y.from(e.select("summary",a)[0]));return y.some({startSummary:o,startDetails:n,endDetails:s})}else return y.none()},wF=(e,t)=>{const n=f=>f.contains(e.startContainer),s=f=>f.contains(e.endContainer),o=t.startSummary.exists(n),a=t.startSummary.exists(s),l=t.startDetails.forall(f=>t.endDetails.forall(h=>f!==h));return(o||a)&&!(o&&a)||l},SF=(e,t)=>t.startSummary.exists(n=>bF(e,n)),EF=(e,t)=>t.startSummary.exists(n=>CF(e,n)),kF=(e,t)=>t.startDetails.exists(n=>Cn(n,e).forall(s=>t.startSummary.exists(o=>!o.contains(e.container())&&o.contains(s.container())))),xF=(e,t,n)=>n.startDetails.exists(s=>On(e,t).forall(o=>!s.contains(o.container()))),h3=(e,t)=>j(e.getParent(t.container(),"details")),k6=(e,t)=>{const n=e.dom.getParent(t.container(),"details");if(n&&!n.open){const s=e.dom.select("summary",n)[0];s&&Ns(s).each(o=>C6(e,o))}else C6(e,t)},RF=(e,t)=>{const{dom:n,selection:s}=e,o=e.getBody();if(e.selection.isCollapsed()){const a=I.fromRangeStart(s.getRng()),l=n.getParent(a.container(),n.isBlock);if(l&&n.isEmpty(l)){if(Rn(l.nextSibling)){const u=Cn(o,a).filter(f=>h3(n,f));if(u.isSome())return u.each(f=>{t||k6(e,f)}),!0}else if(Rn(l.previousSibling)&&On(o,a).filter(f=>h3(n,f)))return!0}return bo(t,o,a).fold(qe,u=>h3(n,u)?(l&&n.isEmpty(l)&&e.dom.remove(l),t||k6(e,u),!0):!1)}else return!1},TF=(e,t,n)=>{const s=e.selection,o=s.getNode(),a=s.getRng(),l=n.keyCode===de.BACKSPACE,u=n.keyCode===de.DELETE,f=e.selection.isCollapsed(),h=I.fromRangeStart(a),v=e.getBody();return!f&&wF(a,t)||f&&l&&SF(h,t)||f&&u&&EF(h,t)||f&&l&&kF(h,t)||f&&u&&xF(v,h,t)?!0:vF&&mv(o)?(!f&&y6(a,o)||nE(u,h,o)?b6(o):e.undoManager.transact(()=>{const p=s.getSel();let{anchorNode:C,anchorOffset:k,focusNode:R,focusOffset:S}=p??{};const x=()=>{j(C)&&j(k)&&j(R)&&j(S)&&(p==null||p.setBaseAndExtent(C,k,R,S))},A=()=>{C=p==null?void 0:p.anchorNode,k=p==null?void 0:p.anchorOffset,R=p==null?void 0:p.focusNode,S=p==null?void 0:p.focusOffset},D=(B,U)=>{K(B.childNodes,ge=>{Yl(ge)&&U.appendChild(ge)})},O=e.dom.create("span",{"data-mce-bogus":"all"});D(o,O),o.appendChild(O),x(),f&&(E6&&(n.altKey||l&&n.metaKey)||!E6&&n.ctrlKey)&&(p==null||p.modify("extend",l?"left":"right",n.metaKey?"line":"word")),!s.isCollapsed()&&y6(s.getRng(),O)?b6(o):(e.execCommand(l?"Delete":"ForwardDelete"),A(),D(O,o),x()),e.dom.remove(O)}),!0):!1},_F=e=>{e.on("keydown",t=>{(t.keyCode===de.BACKSPACE||t.keyCode===de.DELETE)&&yF(e.dom,e.selection.getRng()).fold(()=>{RF(e,t.keyCode===de.DELETE)&&t.preventDefault()},n=>{TF(e,n,t)&&t.preventDefault()})})},NF=e=>{hF(e),gF(e),_F(e)},AF=gt,x6=Y,DF=e=>it(e.dom),OF=e=>Vs(e.dom),R6=e=>t=>Ke(T.fromDom(e),t),PF=(e,t)=>Gr(T.fromDom(e),n=>OF(n)||bs(n),R6(t)).getOr(T.fromDom(t)).dom,T6=(e,t)=>Gr(T.fromDom(e),DF,R6(t)),_6=(e,t,n)=>{const s=new Bt(e,t),o=n?s.next.bind(s):s.prev.bind(s);let a=e;for(let l=n?e:o();l&&!AF(l);l=o())ys(l)&&(a=l);return a},BF=(e,t)=>{const s=I.fromRangeStart(e).getNode(),o=PF(s,t),a=_6(s,o,!1),l=_6(s,o,!0),u=document.createRange();return T6(a,o).fold(()=>{x6(a)?u.setStart(a,0):u.setStartBefore(a)},f=>u.setStartBefore(f.dom)),T6(l,o).fold(()=>{x6(l)?u.setEnd(l,l.data.length):u.setEndAfter(l)},f=>u.setEndAfter(f.dom)),u},MF=e=>{const t=BF(e.selection.getRng(),e.getBody());e.selection.setRng(P4(t))},LF=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),MF(e))})};var wd;(function(e){e.Before="before",e.After="after"})(wd||(wd={}));const $F=(e,t)=>Math.abs(e.left-t),HF=(e,t)=>Math.abs(e.right-t),IF=(e,t)=>e>=t.top&&e<=t.bottom,FF=(e,t)=>e.top<t.bottom&&e.bottom>t.top,zF=(e,t)=>{const n=pg(e,t)/Math.min(e.height,t.height);return FF(e,t)&&n>.5},ZF=(e,t)=>{const n=ke(e,s=>IF(t,s));return fb(n).fold(()=>[[],e],s=>{const{pass:o,fail:a}=gs(e,l=>zF(l,s));return[o,a]})},VF=(e,t)=>({node:e.node,position:$F(e,t)<HF(e,t)?wd.Before:wd.After}),UF=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),g3=(e,t,n)=>{const s=v=>ys(v.node)?y.some(v):ie(v.node)?g3(Tn(v.node.childNodes),t,n):y.none(),o=(v,p)=>{if(v.length>=2){const C=s(v[0]).getOr(v[0]),k=s(v[1]).getOr(v[1]);if(Math.abs(p(C,t,n)-p(k,t,n))<2){if(Y(C.node))return y.some(C);if(Y(k.node))return y.some(k)}}return y.none()},a=(v,p)=>{const C=Dr(v,(k,R)=>p(k,t,n)-p(R,t,n));return o(C,p).orThunk(()=>Za(C,s))},[l,u]=ZF(Qk(e),n),{pass:f,fail:h}=gs(u,v=>v.top<n);return a(l,UF).orThunk(()=>a(h,Wf)).orThunk(()=>a(f,Wf))},WF=(e,t,n,s)=>{const o=(a,l)=>{const u=h=>ie(h)&&h.classList.contains("mce-drag-container"),f=ke(a.dom.childNodes,yi(u));return l.fold(()=>g3(f,n,s),h=>{const v=ke(f,p=>p!==h.dom);return g3(v,n,s)}).orThunk(()=>(Ke(a,e)?y.none():Li(a)).bind(v=>o(v,y.some(a))))};return o(t,y.none())},jF=(e,t,n)=>{const s=T.fromDom(e),o=To(s),l=T.fromPoint(o,t,n).filter(u=>Zs(s,u)).getOr(s);return WF(s,l,t,n)},N6=(e,t,n)=>jF(e,t,n).filter(s=>$l(s.node)).map(s=>VF(s,t)),A6=e=>{var t,n;const s=e.getBoundingClientRect(),o=e.ownerDocument,a=o.documentElement,l=o.defaultView;return{top:s.top+((t=l==null?void 0:l.scrollY)!==null&&t!==void 0?t:0)-a.clientTop,left:s.left+((n=l==null?void 0:l.scrollX)!==null&&n!==void 0?n:0)-a.clientLeft}},qF=e=>e.inline?A6(e.getBody()):{left:0,top:0},GF=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},KF=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:o},YF=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=A6(e.getContentAreaContainer()),s=KF(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},XF=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),QF=(e,t)=>XF(qF(e),GF(e),YF(e,t)),D6=e=>({target:e,srcElement:e}),JF=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...D6(n)}),ez=(e,t,n)=>{const s=Td("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Be,stopImmediatePropagation:Be,stopPropagation:Be,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...D6(t)}},tz=(e,t)=>{const n=dI(e);return t==="dragstart"?(GR(n),YR(n)):t==="drop"?(nI(n),a3(n)):(sI(n),cI(n)),n},nz=(e,t,n,s)=>{const o=tz(n,e);return en(s)?ez(e,t,o):JF(e,s,t,o)},r2=32,sz=100,a2=8,c2=16,O6=it,oz=gb(O6,Vs),rz=(e,t,n)=>O6(n)&&n!==t&&e.isEditable(n.parentElement),az=(e,t,n)=>nt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),cz=(e,t,n,s)=>{const o=e.dom,a=t.cloneNode(!0);o.setStyles(a,{width:n,height:s}),o.setAttrib(a,"data-mce-selected",null);const l=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),o.setStyles(a,{margin:0,boxSizing:"border-box"}),l.appendChild(a),l},lz=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},l2=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},P6=l2("left",-r2),B6=l2("left",r2),M6=l2("top",-r2),L6=l2("top",r2),iz=(e,t,n,s,o,a,l,u,f,h,v,p)=>{let C=0,k=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(C=t.pageX+n-o),t.pageY+s>a&&(k=t.pageY+s-a),e.style.width=n-C+"px",e.style.height=s-k+"px";const R=f.clientHeight,S=f.clientWidth,x=l+f.getBoundingClientRect().top,A=u+f.getBoundingClientRect().left;v.on(D=>{D.intervalId.clear(),D.dragging&&p&&(l+a2>=R?D.intervalId.set(L6(h)):l-a2<=0?D.intervalId.set(M6(h)):u+a2>=S?D.intervalId.set(B6(h)):u-a2<=0?D.intervalId.set(P6(h)):x+c2>=window.innerHeight?D.intervalId.set(L6(window)):x-c2<=0?D.intervalId.set(M6(window)):A+c2>=window.innerWidth?D.intervalId.set(B6(window)):A-c2<=0&&D.intervalId.set(P6(window)))})},$6=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},uz=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);$6(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&ar(T.fromDom(n))},dz=e=>e.button===0,fz=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),mz=(e,t)=>n=>{if(dz(n)){const s=Wt(t.dom.getParents(n.target),oz).getOr(null);if(j(s)&&rz(t.dom,t.getBody(),s)){const o=t.dom.getPos(s),a=t.getBody(),l=t.getDoc().documentElement;e.set({element:s,dataTransfer:c3(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:l.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:l.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:s.offsetWidth,height:s.offsetHeight,ghost:cz(t,s,s.offsetWidth,s.offsetHeight),intervalId:cb(sz)})}}},hz=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),N6(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const o=e._selectionOverrides.showCaret(1,s.node,s.position===wd.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,n)})},O1=(e,t,n,s,o)=>{t==="dragstart"&&JR(s,e.dom.getOuterHTML(n));const a=nz(t,n,s,o);return e.dispatch(t,a)},gz=(e,t)=>{const n=wu((o,a)=>hz(t,o,a),0);t.on("remove",n.cancel);const s=e;return o=>e.on(a=>{const l=Math.max(Math.abs(o.screenX-a.screenX),Math.abs(o.screenY-a.screenY));if(!a.dragging&&l>10){const u=O1(t,"dragstart",a.element,a.dataTransfer,o);if(j(u.dataTransfer)&&(a.dataTransfer=u.dataTransfer),u.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){const u=o.currentTarget===t.getDoc().documentElement,f=fz(a,QF(t,o));lz(a.ghost,t.getBody()),iz(a.ghost,f,a.width,a.height,a.maxX,a.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),s,u),n.throttle(o.clientX,o.clientY)}})},pz=e=>{const t=e.getSel();if(j(t)){const s=t.getRangeAt(0).startContainer;return Y(s)?s.parentNode:s}else return null},vz=(e,t)=>n=>{e.on(s=>{var o;if(s.intervalId.clear(),s.dragging){if(az(t,pz(t.selection),s.element)){const a=(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&o!==void 0?o:t.getBody();O1(t,"drop",a,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{uz(t.dom,s.element),fI(s.dataTransfer).each(u=>t.insertContent(u)),t._selectionOverrides.hideFakeCaret()})}O1(t,"dragend",t.getBody(),s.dataTransfer,n)}}),I6(e)},H6=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>O1(t,"dragend",s.element,s.dataTransfer),o=>O1(t,"dragend",s.element,s.dataTransfer,o))}),I6(e)},bz=(e,t)=>n=>H6(e,t,y.some(n)),I6=e=>{e.on(t=>{t.intervalId.clear(),$6(t.ghost)}),e.clear()},Cz=e=>{const t=Ts(),n=Qe.DOM,s=document,o=mz(t,e),a=gz(t,e),l=vz(t,e),u=bz(t,e);e.on("mousedown",o),e.on("mousemove",a),e.on("mouseup",l),n.bind(s,"mousemove",a),n.bind(s,"mouseup",u),e.on("remove",()=>{n.unbind(s,"mousemove",a),n.unbind(s,"mouseup",u)}),e.on("keydown",f=>{f.keyCode===de.ESC&&H6(t,e,y.none())})},yz=e=>{const t=o=>{if(!o.isDefaultPrevented()){const a=o.dataTransfer;a&&(Ge(a.types,"Files")||a.files.length>0)&&(o.preventDefault(),o.type==="drop"&&A0(e,"Dropped file type is not supported"))}},n=o=>{l0(e,o.target)&&t(o)},s=()=>{const o=Qe.DOM,a=e.dom,l=document,u=e.inline?e.getBody():e.getDoc(),f=["drop","dragover"];K(f,h=>{o.bind(l,h,n),a.bind(u,h,t)}),e.on("remove",()=>{K(f,h=>{o.unbind(l,h,n),a.unbind(u,h,t)})})};e.on("init",()=>{Ys.setEditorTimeout(e,s,0)})},wz=e=>{Cz(e),fC(e)&&yz(e)},Sz=e=>{const t=wu(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=Cw(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Ez=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(Us(n)){const s=oi(e.getBody(),n),o=it(s)?s:n;e.selection.getNode()!==o&&w1(e,o).each(a=>e.selection.setRng(a))}})})},P1=it,F6=(e,t)=>oi(e.getBody(),t),kz=e=>{const t=e.selection,n=e.dom,s=e.getBody(),o=Dn(e,s,n.isBlock,()=>ti(e)),a="sel-"+n.uniqueId(),l="data-mce-selected";let u;const f=q=>j(q)&&n.hasClass(q,"mce-offscreen-selection"),h=q=>q!==s&&(P1(q)||Us(q))&&n.isChildOf(q,s)&&n.isEditable(q.parentNode),v=q=>{q&&t.setRng(q)},p=(q,$,F,ne=!0)=>e.dispatch("ShowCaret",{target:$,direction:q,before:F}).isDefaultPrevented()?null:(ne&&t.scrollIntoView($,q===-1),o.show(F,$)),C=q=>{q.hasAttribute("data-mce-caret")&&(bf(q),t.scrollIntoView(q))},k=()=>{e.on("click",$=>{n.isEditable($.target)||($.preventDefault(),e.focus())}),e.on("blur NewBlock",B),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",$=>{const F=$.target,ne=F6(e,F);P1(ne)?($.preventDefault(),w1(e,ne).each(O)):h(F)&&w1(e,F).each(O)},!0),e.on("mousedown",$=>{const F=$.target;if(F!==s&&F.nodeName!=="HTML"&&!n.isChildOf(F,s)||!yP(e,$.clientX,$.clientY))return;B(),ge();const ne=F6(e,F);P1(ne)?($.preventDefault(),w1(e,ne).each(O)):N6(s,$.clientX,$.clientY).each(se=>{$.preventDefault();const fe=p(1,se.node,se.position===wd.Before,!1);v(fe),ie(ne)?ne.focus():e.getBody().focus()})}),e.on("keypress",$=>{de.modifierPressed($)||P1(t.getNode())&&$.preventDefault()}),e.on("GetSelectionRange",$=>{let F=$.range;if(u){if(!u.parentNode){u=null;return}F=F.cloneRange(),F.selectNode(u),$.range=F}}),e.on("SetSelectionRange",$=>{$.range=x($.range);const F=O($.range,$.forward);F&&($.range=F)});const q=$=>ie($)&&$.id==="mcepastebin";e.on("AfterSetSelectionRange",$=>{const F=$.range,ne=F.startContainer.parentElement;!S(F)&&!q(ne)&&ge(),f(ne)||B()}),wz(e),Sz(e),Ez(e)},R=q=>Cs(q)||ul(q)||dl(q),S=q=>R(q.startContainer)||R(q.endContainer),x=q=>{const $=e.schema.getVoidElements(),F=n.createRng(),ne=q.startContainer,se=q.startOffset,fe=q.endContainer,Re=q.endOffset;return Oe($,ne.nodeName.toLowerCase())?se===0?F.setStartBefore(ne):F.setStartAfter(ne):F.setStart(ne,se),Oe($,fe.nodeName.toLowerCase())?Re===0?F.setEndBefore(fe):F.setEndAfter(fe):F.setEnd(fe,Re),F},A=(q,$)=>{const F=T.fromDom(e.getBody()),ne=e.getDoc(),se=Ya(F,"#"+a).getOrThunk(()=>{const we=T.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ne);return nn(we,"id",a),Pt(F,we),we}),fe=n.createRng();Xr(se),Yr(se,[T.fromText(Gt,ne),T.fromDom($),T.fromText(Gt,ne)]),fe.setStart(se.dom.firstChild,1),fe.setEnd(se.dom.lastChild,0),Zi(se,{top:n.getPos(q,e.getBody()).y+"px"}),a1(se);const Re=t.getSel();return Re&&(Re.removeAllRanges(),Re.addRange(fe)),fe},D=q=>{const $=q.cloneNode(!0),F=e.dispatch("ObjectSelected",{target:q,targetClone:$});if(F.isDefaultPrevented())return null;const ne=A(q,F.targetClone),se=T.fromDom(q);return K(un(T.fromDom(e.getBody()),`*[${l}]`),fe=>{Ke(se,fe)||qt(fe,l)}),n.getAttrib(q,l)||q.setAttribute(l,"1"),u=q,ge(),ne},O=(q,$)=>{if(!q)return null;if(q.collapsed){if(!S(q)){const fe=$?1:-1,Re=wc(fe,s,q),we=Re.getNode(!$);if(j(we)){if($l(we))return p(fe,we,$?!Re.isAtEnd():!1,!1);if(Po(we)&&it(we.nextSibling)){const Ue=n.createRng();return Ue.setStart(we,0),Ue.setEnd(we,0),Ue}}const Ie=Re.getNode($);if(j(Ie)){if($l(Ie))return p(fe,Ie,$?!1:!Re.isAtEnd(),!1);if(Po(Ie)&&it(Ie.previousSibling)){const Ue=n.createRng();return Ue.setStart(Ie,1),Ue.setEnd(Ie,1),Ue}}}return null}let F=q.startContainer,ne=q.startOffset;const se=q.endOffset;if(Y(F)&&ne===0&&P1(F.parentNode)&&(F=F.parentNode,ne=n.nodeIndex(F),F=F.parentNode),!ie(F))return null;if(se===ne+1&&F===q.endContainer){const fe=F.childNodes[ne];if(h(fe))return D(fe)}return null},B=()=>{u&&u.removeAttribute(l),Ya(T.fromDom(e.getBody()),"#"+a).each(pt),u=null},U=()=>{o.destroy(),u=null},ge=()=>{o.hide()};return wr(e)||k(),{showCaret:p,showBlockCaretContainer:C,hideFakeCaret:ge,destroy:U}},xz=(e,t)=>{let n=t;for(let s=e.previousSibling;Y(s);s=s.previousSibling)n+=s.data.length;return n},z6=(e,t,n,s,o)=>{if(Y(n)&&(s<0||s>n.data.length))return[];const a=o&&Y(n)?[xz(n,s)]:[s];let l=n;for(;l!==t&&l.parentNode;)a.push(e.nodeIndex(l,o)),l=l.parentNode;return l===t?a.reverse():[]},p3=(e,t,n,s,o,a,l=!1)=>{const u=z6(e,t,n,s,l),f=z6(e,t,o,a,l);return{start:u,end:f}},Z6=(e,t)=>{const n=t.slice(),s=n.pop();return xs(s)?wt(n,(a,l)=>a.bind(u=>y.from(u.childNodes[l])),y.some(e)).bind(a=>Y(a)&&(s<0||s>a.data.length)?y.none():y.some({node:a,offset:s})):y.none()},V6=(e,t)=>Z6(e,t.start).bind(({node:n,offset:s})=>Z6(e,t.end).map(({node:o,offset:a})=>{const l=document.createRange();return l.setStart(n,s),l.setEnd(o,a),l})),Rz=(e,t,n,s=!1)=>p3(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),Sd=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t),Sd(e,s,n)}},i2=(e,t,n,s=!0)=>{const o=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(Y(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Y(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Sd(e,o,n),o!==a&&Sd(e,a,n))},v3=(e,t)=>y.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),U6=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:_u(s).concat(e.blockPatterns),inlinePatterns:Dg(s).concat(e.inlinePatterns)}},W6=(e,t,n,s)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,s),o.toString()},Tz=e=>/^\s[^\s]/.test(e),j6=(e,t,n)=>{k$(t,0,t).each(o=>{const a=o.container;nR(a,n.start.length,t).each(f=>{const h=e.createRng();h.setStart(a,0),h.setEnd(f.container,f.offset),i2(e,h,v=>v===t)});const l=T.fromDom(a),u=Yi(l);Tz(u)&&hv(l,u.slice(1))})},_z=(e,t)=>{const n=e.dom,s=t.pattern,o=V6(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),a=(l,u)=>{const f=u.get(l);return Xe(f)&&zn(f).exists(h=>Oe(h,"block"))};return v3(e,o).each(l=>{s.type==="block-format"?a(s.format,e.formatter)&&e.undoManager.transact(()=>{j6(e.dom,l,s),e.formatter.apply(s.format)}):s.type==="block-command"&&e.undoManager.transact(()=>{j6(e.dom,l,s),e.execCommand(s.cmd,!1,s.value)})}),!0},Nz=e=>Dr(e,(t,n)=>n.start.length-t.start.length),Az=(e,t)=>{const n=Nz(e),s=t.replace(Gt," ");return Wt(n,o=>t.indexOf(o.start)===0||s.indexOf(o.start)===0)},Dz=(e,t,n,s)=>{var o;const a=e.dom,l=An(e);if(!a.is(t,l))return[];const u=(o=t.textContent)!==null&&o!==void 0?o:"";return Az(n.blockPatterns,u).map(f=>te.trim(u).length===f.start.length?[]:[{pattern:f,range:p3(a,a.getRoot(),t,0,t,0,s)}]).getOr([])},Oz=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();K(t,s=>_z(e,s)),e.selection.moveToBookmark(n)},q6=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),u2=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},G6=(e,t,n)=>{const s=V6(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=s.startContainer,a=s.endContainer,l=s.endOffset===0?a:a.splitText(s.endOffset),u=s.startOffset===0?o:o.splitText(s.startOffset),f=u.parentNode,h=l.parentNode;return{prefix:t,end:h.insertBefore(q6(e,t+"-end"),l),start:f.insertBefore(q6(e,t+"-start"),u)}},K6=(e,t,n)=>{Sd(e,e.get(t.prefix+"-end"),n),Sd(e,e.get(t.prefix+"-start"),n)},b3=e=>e.start.length===0,Pz=e=>(t,n)=>{const o=t.data.substring(0,n),a=o.lastIndexOf(e.charAt(e.length-1)),l=o.lastIndexOf(e);return l!==-1?l+e.length:a!==-1?a+1:-1},Y6=(e,t,n,s)=>{const o=t.start;return zw(e,s.container,s.offset,Pz(o),n).bind(l=>{var u,f;const h=(f=(u=n.textContent)===null||u===void 0?void 0:u.indexOf(o))!==null&&f!==void 0?f:-1;if(h!==-1&&l.offset>=h+o.length){const p=e.createRng();return p.setStart(l.container,l.offset-o.length),p.setEnd(l.container,l.offset),y.some(p)}else{const p=l.offset-o.length;return Fw(l.container,p,n).map(C=>{const k=e.createRng();return k.setStart(C.container,C.offset),k.setEnd(l.container,l.offset),k}).filter(C=>C.toString()===o).orThunk(()=>Y6(e,t,n,qo(l.container,0)))}})},Bz=(e,t,n,s,o,a=!1)=>{if(t.start.length===0&&!a){const l=e.createRng();return l.setStart(n,s),l.setEnd(n,s),y.some(l)}return Iw(n,s,o).bind(l=>Y6(e,t,o,l).bind(f=>{var h;if(a){if(f.endContainer===l.container&&f.endOffset===l.offset)return y.none();if(l.offset===0&&((h=f.endContainer.textContent)===null||h===void 0?void 0:h.length)===f.endOffset)return y.none()}return y.some(f)}))},Mz=(e,t,n,s)=>{const o=e.dom,a=o.getRoot(),l=n.pattern,u=n.position.container,f=n.position.offset;return Fw(u,f-n.pattern.end.length,t).bind(h=>{const v=p3(o,a,h.container,h.offset,u,f,s);if(b3(l))return y.some({matches:[{pattern:l,startRng:v,endRng:v}],position:h});{const p=d2(e,n.remainingPatterns,h.container,h.offset,t,s),C=p.getOr({matches:[],position:h}),k=C.position;return Bz(o,l,k.container,k.offset,t,p.isNone()).map(S=>{const x=Rz(o,a,S,s);return{matches:C.matches.concat([{pattern:l,startRng:x,endRng:v}]),position:qo(S.startContainer,S.startOffset)}})}})},d2=(e,t,n,s,o,a)=>{const l=e.dom;return Iw(n,s,l.getRoot()).bind(u=>{const f=W6(l,o,n,s);for(let h=0;h<t.length;h++){const v=t[h];if(!Eo(f,v.end))continue;const p=t.slice();p.splice(h,1);const C=Mz(e,o,{pattern:v,remainingPatterns:p,position:u},a);if(C.isNone()&&s>0)return d2(e,t,n,s-1,o,a);if(C.isSome())return C}return y.none()})},X6=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?K(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Lz=(e,t,n,s)=>{const o=u2(e.dom,n);i2(e.dom,o,s),X6(e,t,o)},$z=(e,t,n,s,o)=>{const a=e.dom,l=u2(a,s),u=u2(a,n);i2(a,u,o),i2(a,l,o);const f={prefix:n.prefix,start:n.end,end:s.start},h=u2(a,f);X6(e,t,h)},Hz=(e,t)=>{const n=El("mce_textpattern"),s=Fa(t,(o,a)=>{const l=G6(e,n+`_end${o.length}`,a.endRng);return o.concat([{...a,endMarker:l}])},[]);return Fa(s,(o,a)=>{const l=s.length-o.length-1,u=b3(a.pattern)?a.endMarker:G6(e,n+`_start${l}`,a.startRng);return o.concat([{...a,startMarker:u}])},[])},Iz=e=>Dr(e,(t,n)=>n.end.length-t.end.length),Fz=(e,t)=>{const n=So(e,s=>Ot(t,o=>s.pattern.start===o.pattern.start&&s.pattern.end===o.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},Q6=(e,t,n,s,o,a)=>{const l=d2(e,o.inlinePatterns,n,s,t,a).fold(()=>[],f=>f.matches),u=d2(e,Iz(o.inlinePatterns),n,s,t,a).fold(()=>[],f=>f.matches);return Fz(l,u)},J6=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),o=Hz(n,t);K(o,a=>{const l=n.getParent(a.startMarker.start,n.isBlock),u=f=>f===l;b3(a.pattern)?Lz(e,a.pattern,a.endMarker,u):$z(e,a.pattern,a.startMarker,a.endMarker,u),K6(n,a.endMarker,u),K6(n,a.startMarker,u)}),e.selection.moveToBookmark(s)},zz=(e,t)=>{const n=e.selection.getRng();return v3(e,n).map(s=>{var o;const a=Math.max(0,n.startOffset),l=U6(t,s,(o=s.textContent)!==null&&o!==void 0?o:""),u=Q6(e,s,n.startContainer,a,l,!0),f=Dz(e,s,l,!0);return f.length>0||u.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(ea),J6(e,u),Oz(e,f);const h=e.selection.getRng(),v=Iw(h.startContainer,h.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),v.each(p=>{const C=p.container;C.data.charAt(p.offset-1)===ea&&(C.deleteData(p.offset-1,1),Sd(e.dom,C.parentNode,k=>k===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Zz=(e,t)=>{const n=e.selection.getRng();v3(e,n).map(s=>{const o=Math.max(0,n.startOffset-1),a=W6(e.dom,s,n.startContainer,o),l=U6(t,s,a),u=Q6(e,s,n.startContainer,o,l,!1);u.length>0&&e.undoManager.transact(()=>{J6(e,u)})})},eT=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},Vz=(e,t)=>eT(e,t,(n,s)=>n===s.keyCode&&!de.modifierPressed(s)),Uz=(e,t)=>eT(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),Wz=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>Ob(EC(e),kC(e)),o=()=>AC(e);e.on("keydown",l=>{if(l.keyCode===13&&!de.modifierPressed(l)&&e.selection.isCollapsed()){const u=s();(u.inlinePatterns.length>0||u.blockPatterns.length>0||o())&&zz(e,u)&&l.preventDefault()}},!0);const a=()=>{if(e.selection.isCollapsed()){const l=s();(l.inlinePatterns.length>0||o())&&Zz(e,l)}};e.on("keyup",l=>{Vz(n,l)&&a()}),e.on("keypress",l=>{Uz(t,l)&&Ys.setEditorTimeout(e,a)})},jz=e=>{Wz(e)},qz=e=>{const t=te.each,n=de.BACKSPACE,s=de.DELETE,o=e.dom,a=e.selection,l=e.parser,u=Ve.browser,f=u.isFirefox(),h=u.isChromium()||u.isSafari(),v=Ve.deviceType.isiPhone()||Ve.deviceType.isiPad(),p=Ve.os.isMacOS()||Ve.os.isiOS(),C=(ve,be)=>{try{e.getDoc().execCommand(ve,!1,String(be))}catch{}},k=ve=>ve.isDefaultPrevented(),R=()=>{const ve=Q=>{const Ee=o.create("body"),Le=Q.cloneContents();return Ee.appendChild(Le),a.serializer.serialize(Ee,{format:"html"})},be=Q=>{const Ee=ve(Q),Le=o.createRng();Le.selectNode(e.getBody());const Ye=ve(Le);return Ee===Ye};e.on("keydown",Q=>{const Ee=Q.keyCode;if(!k(Q)&&(Ee===s||Ee===n)&&e.selection.isEditable()){const Le=e.selection.isCollapsed(),Ye=e.getBody();if(Le&&!o.isEmpty(Ye)||!Le&&!be(e.selection.getRng()))return;Q.preventDefault(),e.setContent(""),Ye.firstChild&&o.isBlock(Ye.firstChild)?e.selection.setCursorLocation(Ye.firstChild,0):e.selection.setCursorLocation(Ye,0),e.nodeChanged()}})},S=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},x=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",ve=>{let be;if(ve.target===e.getDoc().documentElement)if(be=a.getRng(),e.getBody().focus(),ve.type==="mousedown"){if(Cs(be.startContainer))return;a.placeCaretAt(ve.clientX,ve.clientY)}else a.setRng(be)})},A=()=>{e.on("keydown",ve=>{if(!k(ve)&&ve.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&a.getRng().startOffset===0){const be=a.getNode(),Q=be.previousSibling;if(be.nodeName==="HR"){o.remove(be),ve.preventDefault();return}Q&&Q.nodeName&&Q.nodeName.toLowerCase()==="hr"&&(o.remove(Q),ve.preventDefault())}}})},D=()=>{Range.prototype.getClientRects||e.on("mousedown",ve=>{if(!k(ve)&&ve.target.nodeName==="HTML"){const be=e.getBody();be.blur(),Ys.setEditorTimeout(e,()=>{be.focus()})}})},O=()=>{const ve=Yg(e);e.on("click",be=>{const Q=be.target;/^(IMG|HR)$/.test(Q.nodeName)&&o.isEditable(Q.parentNode)&&(be.preventDefault(),e.selection.select(Q),e.nodeChanged()),Q.nodeName==="A"&&o.hasClass(Q,ve)&&Q.childNodes.length===0&&o.isEditable(Q.parentNode)&&(be.preventDefault(),a.select(Q))})},B=()=>{const ve=()=>{const Q=o.getAttribs(a.getStart().cloneNode(!1));return()=>{const Ee=a.getStart();Ee!==e.getBody()&&(o.setAttrib(Ee,"style",null),t(Q,Le=>{Ee.setAttributeNode(Le.cloneNode(!0))}))}},be=()=>!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock);e.on("keypress",Q=>{let Ee;return!k(Q)&&(Q.keyCode===8||Q.keyCode===46)&&be()?(Ee=ve(),e.getDoc().execCommand("delete",!1),Ee(),Q.preventDefault(),!1):!0}),o.bind(e.getDoc(),"cut",Q=>{if(!k(Q)&&be()){const Ee=ve();Ys.setEditorTimeout(e,()=>{Ee()})}})},U=()=>{e.on("keydown",ve=>{if(!k(ve)&&ve.keyCode===n&&a.isCollapsed()&&a.getRng().startOffset===0){const be=a.getNode().previousSibling;if(be&&be.nodeName&&be.nodeName.toLowerCase()==="table")return ve.preventDefault(),!1}return!0})},ge=()=>{e.on("keydown",ve=>{if(k(ve)||ve.keyCode!==de.BACKSPACE)return;let be=a.getRng();const Q=be.startContainer,Ee=be.startOffset,Le=o.getRoot();let Ye=Q;if(!(!be.collapsed||Ee!==0)){for(;Ye.parentNode&&Ye.parentNode.firstChild===Ye&&Ye.parentNode!==Le;)Ye=Ye.parentNode;Ye.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ye),be=o.createRng(),be.setStart(Q,0),be.setEnd(Q,0),a.setRng(be))}})},q=()=>{const ve=()=>{C("StyleWithCSS",!1),C("enableInlineTableEditing",!1),Vg(e)||C("enableObjectResizing",!1)};uC(e)||e.on("BeforeExecCommand mousedown",ve)},$=()=>{const ve=()=>{t(o.select("a:not([data-mce-block])"),be=>{var Q;let Ee=be.parentNode;const Le=o.getRoot();if((Ee==null?void 0:Ee.lastChild)===be){for(;Ee&&!o.isBlock(Ee);){if(((Q=Ee.parentNode)===null||Q===void 0?void 0:Q.lastChild)!==Ee||Ee===Le)return;Ee=Ee.parentNode}o.add(Ee,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",be=>{(be.type==="setcontent"||be.command==="mceInsertLink")&&ve()})},F=()=>{e.on("init",()=>{C("DefaultParagraphSeparator",An(e))})},ne=ve=>{const be=ve.getBody(),Q=ve.selection.getRng();return Q.startContainer===Q.endContainer&&Q.startContainer===be&&Q.startOffset===0&&Q.endOffset===be.childNodes.length},se=()=>{e.on("keyup focusin mouseup",ve=>{!de.modifierPressed(ve)&&!ne(e)&&a.normalize()},!0)},fe=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Re=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},we=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ve=>{let be;ve.target.nodeName==="HTML"&&(be=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(be),e.selection.normalize(),e.nodeChanged())}))},Ie=()=>{p&&e.on("keydown",ve=>{de.metaKeyPressed(ve)&&!ve.shiftKey&&(ve.keyCode===37||ve.keyCode===39)&&(ve.preventDefault(),e.selection.getSel().modify("move",ve.keyCode===37?"backward":"forward","lineboundary"))})},Ue=()=>{e.on("click",ve=>{let be=ve.target;do if(be.tagName==="A"){ve.preventDefault();return}while(be=be.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},yt=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ve=>{ve.preventDefault()})})},Sn=()=>{l.addNodeFilter("br",ve=>{let be=ve.length;for(;be--;)ve[be].attr("class")==="Apple-interchange-newline"&&ve[be].remove()})},Kt=Be,J=()=>{if(!f||e.removed)return!1;const ve=e.selection.getSel();return!ve||!ve.rangeCount||ve.rangeCount===0},pe=()=>{h&&(x(),O(),yt(),S(),v&&(Re(),we(),Ue())),f&&(D(),q(),fe(),Ie())},ze=()=>{e.on("drop",ve=>{var be;const Q=(be=ve.dataTransfer)===null||be===void 0?void 0:be.getData("text/html");V(Q)&&/^<img[^>]*>$/.test(Q)&&e.dispatch("dragend",new window.DragEvent("dragend",ve))})},$e=()=>{ge(),R(),Ve.windowsPhone||se(),h&&(x(),O(),F(),yt(),U(),Sn(),v?(Re(),we(),Ue()):S()),f&&(A(),D(),B(),q(),$(),fe(),Ie(),U(),ze())};return wr(e)?pe():$e(),{refreshContentEditable:Kt,isHidden:J}},C3=Qe.DOM,Gz=(e,t)=>{const n=T.fromDom(e.getBody()),s=zi(_o(n)),o=T.fromTag("style");nn(o,"type","text/css"),Pt(o,T.fromText(t)),Pt(s,o),e.on("remove",()=>{pt(o)})},Kz=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,y3=e=>mt(e,t=>en(t)===!1),tT=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return y3({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Kz(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},nT=e=>{const t=e.options.get;return y3({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Yz=e=>{const t=e.options.get;return{...tT(e),...nT(e),...y3({remove_trailing_brs:t("remove_trailing_brs"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Xz=e=>{const t=md(tT(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const o=e.dom,a="data-mce-"+s;let l=n.length;for(;l--;){const u=n[l];let f=u.attr(s);if(f&&!u.attr(a)){if(f.indexOf("data:")===0||f.indexOf("blob:")===0)continue;s==="style"?(f=o.serializeStyle(o.parseStyle(f),u.name),f.length||(f=null),u.attr(a,f),u.attr(s,f)):s==="tabindex"?(u.attr(a,f),u.attr(s,null)):u.attr(a,e.convertURL(f,s,u.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const o=n[s],a=o.attr("type")||"no/type";a.indexOf("mce-")!==0&&o.attr("type","mce-"+a)}}),TC(e)&&t.addNodeFilter("#cdata",n=>{var s;let o=n.length;for(;o--;){const a=n[o];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode((s=a.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const o=e.schema.getNonEmptyElements();for(;s--;){const a=n[s];a.isEmpty(o)&&a.getAll("br").length===0&&a.append(new ds("br",1))}}),t},Qz=e=>{const t=vC(e);t&&Ys.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},Jz=e=>{const t=e.dom.getRoot();!e.inline&&(!Fo(e)||e.selection.getStart(!0)===t)&&mn(t).each(n=>{const s=n.getNode(),o=Ao(s)?mn(s).getOr(n):n;e.selection.setRng(o.toRange())})},eZ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,_y(e),e.focus(!0),Jz(e),e.nodeChanged({initial:!0});const t=gC(e);N(t)&&t.call(e,e),Qz(e)},sT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,tZ=(e,t,n)=>{const s=[sT(e).loadAll(t)];return e.inline?s:s.concat([e.ui.styleSheetLoader.loadAll(n)])},oT=e=>{const t=sT(e),n=Zg(e),s=e.contentCSS,o=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},a=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let f="";te.each(e.contentStyles,h=>{f+=h+`\r
`}),e.dom.addStyle(f)}const l=Promise.all(tZ(e,s,n)).then(a).catch(a),u=Qb(e);return u&&Gz(e,u),l},nZ=e=>{const t=e.getDoc(),n=e.getBody();Ry(e),bC(e)||(t.body.spellcheck=!1,C3.setAttrib(n,"spellcheck","false")),e.quirks=qz(e),Ty(e);const s=Jb(e);s!==void 0&&(n.dir=s);const o=Xg(e);o&&e.on("BeforeSetContent",a=>{te.each(o,l=>{a.content=a.content.replace(l,u=>"<!--mce:protected "+escape(u)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",a=>{e.composing=a.type==="compositionstart"})},sZ=e=>{wr(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},w3=e=>{e.removed!==!0&&(sZ(e),eZ(e))},rT=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(C3.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=uC(e),e._editableRoot=ba(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&C3.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=jP(e),e.schema=dr(nT(e)),e.dom=Qe(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Gb(e),referrerPolicy:dm(e),onSetAttrib:l=>{e.dispatch("SetAttrib",l)}}),e.parser=Xz(e),e.serializer=tk(Yz(e),e),e.selection=ek(e.dom,e.getWin(),e.serializer,e),e.annotator=Zp(e),e.formatter=pk(e),e.undoManager=bk(e),e._nodeChangeDispatcher=new XH(e),e._selectionOverrides=kz(e),CL(e),NF(e),TL(e),wr(e)||(LF(e),jz(e));const o=YH(e);pL(e,o),kL(e),cB(e),mF(e);const a=YD(e);nZ(e),a.fold(()=>{oT(e).then(()=>w3(e))},l=>{e.setProgressState(!0),oT(e).then(()=>{l().then(u=>{e.setProgressState(!1),w3(e),K5(e)},u=>{e.notificationManager.open({type:"error",text:String(u)}),w3(e),K5(e)})})})},oZ=Ht,rZ=(e,t,n)=>rv(e,t,oZ,n),S3=Qe.DOM,aZ=(e,t,n,s)=>{const o=T.fromTag("iframe");return s.each(a=>nn(o,"tabindex",a)),Hn(o,n),Hn(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Wr(o,"tox-edit-area__iframe"),o},cZ=e=>{let t=Ib(e)+"<html><head>";Bg(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=cm(e),s=lm(e),o=e.translate(mC(e));return im(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+im(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t},lZ=(e,t)=>{const n=e.translate("Rich Text Area"),s=zs(T.fromDom(e.getElement()),"tabindex").bind(Hr),o=aZ(e.id,n,Hb(e),s).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=cZ(e),S3.add(t.iframeContainer,o)},iZ=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,rT(e)};if(NC(e)||Ve.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=rZ(T.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},uZ=(e,t)=>{lZ(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=S3.isHidden(t.editorContainer)),e.getElement().style.display="none",S3.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,iZ(e)},aT=Qe.DOM,dZ=(e,t,n)=>{const s=gd.get(n),o=gd.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=te.trim(n),s&&te.inArray(t,n)===-1){if(e.plugins[n])return;try{const a=s(e,o)||{};e.plugins[n]=a,N(a.init)&&(a.init(e,o),t.push(n))}catch(a){DP(e,n,a)}}},fZ=e=>e.replace(/^\-/,""),mZ=e=>{const t=[];K(Du(e),n=>{dZ(e,t,fZ(n))})},hZ=e=>{const t=te.trim(Ig(e)),n=e.ui.registry.getAll().icons,s={...N0.get("default").icons,...N0.get(t).icons};at(s,(o,a)=>{Oe(n,a)||e.ui.registry.addIcon(a,o)})},gZ=e=>{const t=bc(e);if(V(t)){const n=li.get(t);e.theme=n(e,li.urls[t])||{},N(e.theme.init)&&e.theme.init(e,li.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},pZ=e=>{const t=mm(e),n=hd.get(t);e.model=n(e,hd.urls[t])},vZ=e=>{const t=e.theme.renderUI;return t?t():lT(e)},bZ=e=>{const t=e.getElement(),s=bc(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},cT=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),CZ=e=>{const t=aT.create("div");return aT.insertAfter(t,e),cT(t,t)},lT=e=>{const t=e.getElement();return e.inline?cT(null):CZ(t)},yZ=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,V(bc(e))?vZ(e):N(bc(e))?bZ(e):lT(e)},wZ=(e,t)=>{const n={show:y.from(t.show).getOr(Be),hide:y.from(t.hide).getOr(Be),isEnabled:y.from(t.isEnabled).getOr(Ht),setEnabled:s=>{e.mode.isReadOnly()||y.from(t.setEnabled).each(o=>o(s))}};e.ui={...e.ui,...n}},SZ=async e=>{e.dispatch("ScriptsLoaded"),hZ(e),gZ(e),pZ(e),mZ(e);const t=await yZ(e);wZ(e,y.from(t.api).getOr({})),e.editorContainer=t.editorContainer,MP(e),e.inline?rT(e):uZ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},ii=Qe.DOM,iT=e=>e.charAt(0)==="-",EZ=(e,t)=>{const n=Fg(t),s=Kb(t);if(!js.hasCode(n)&&n!=="en"){const o=jt(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch(()=>{_P(t,o,n)})}},kZ=(e,t)=>{const n=bc(e);if(V(n)&&!iT(n)&&!Oe(li.urls,n)){const s=nC(e),o=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;li.load(n,o).catch(()=>{NP(e,o,n)})}},xZ=(e,t)=>{const n=mm(e);if(n!=="plugin"&&!Oe(hd.urls,n)){const s=sC(e),o=V(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;hd.load(n,o).catch(()=>{AP(e,o,n)})}},RZ=e=>y.from(Vb(e)).filter(jt).map(t=>({url:t,name:y.none()})),uT=(e,t,n)=>y.from(t).filter(s=>jt(s)&&!N0.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:y.some(s)})),TZ=(e,t,n)=>{const s=uT(t,"default",n),o=RZ(t).orThunk(()=>uT(t,Ig(t),""));K(Fd([s,o]),a=>{e.add(a.url).catch(()=>{TP(t,a.url,a.name.getOrUndefined())})})},_Z=(e,t)=>{const n=(s,o)=>{gd.load(s,o).catch(()=>{RP(e,o,s)})};at(dC(e),(s,o)=>{n(o,s),e.options.set("plugins",Du(e).concat(o))}),K(Du(e),s=>{s=te.trim(s),s&&!gd.urls[s]&&!iT(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},NZ=e=>{const t=bc(e);return!V(t)||j(li.get(t))},AZ=e=>{const t=mm(e);return j(hd.get(t))},DZ=(e,t)=>{const n=Ws.ScriptLoader,s=()=>{!e.removed&&NZ(e)&&AZ(e)&&SZ(e)};kZ(e,t),xZ(e,t),EZ(n,e),TZ(n,e,t),_Z(e,t),n.loadQueue().then(s,s)},OZ=(e,t)=>cu.forElement(e,{contentCssCors:Gg(t),referrerPolicy:dm(t)}),PZ=e=>{const t=e.id;js.setCode(Fg(e));const n=()=>{ii.unbind(window,"ready",n),e.render()};if(!ia.Event.domLoaded){ii.bind(window,"ready",n);return}if(!e.getElement())return;const s=T.fromDom(e.getElement()),o=Pi(s);e.on("remove",()=>{_d(s.dom.attributes,l=>qt(s,l.name)),Hn(s,o)}),e.ui.styleSheetLoader=OZ(s,e),Au(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const a=e.getElement().form||ii.getParent(t,"form");a&&(e.formElement=a,aC(e)&&!df(e.getElement())&&(ii.insertAfter(ii.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=l=>{e.dispatch(l.type,l)},ii.bind(a,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),cC(e)&&!a.submit.nodeType&&!a.submit.length&&!a._mceOldSubmit&&(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=lk(e),e.notificationManager=ck(e),Pu(e)&&e.on("GetContent",l=>{l.save&&(l.content=ii.encode(l.content))}),lC(e)&&e.on("submit",()=>{e.initialized&&e.save()}),iC(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),DZ(e,e.suffix)},BZ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),Oy(e,t))},MZ=e=>e._editableRoot,LZ=(e,t)=>({sections:oe(e),options:oe(t)}),dT=ao().deviceType,fT=dT.isPhone(),$Z=dT.isTablet(),B1=e=>{if(nt(e))return[];{const t=Xe(e)?e:e.split(/[ ,]/),n=We(t,$r);return ke(n,jt)}},HZ=(e,t)=>{const n=T2(t,(s,o)=>Ge(e,o));return LZ(n.t,n.f)},IZ=(e,t,n={})=>{const s=e.sections(),o=ht(s,t).getOr({});return te.extend({},n,o)},E3=(e,t)=>Oe(e.sections(),t),FZ=(e,t)=>E3(e,t)?e.sections()[t]:{},zZ=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ht(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),ZZ=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?te.extend({},e.external_plugins,s):s},VZ=(e,t)=>[...B1(e),...B1(t)],UZ=(e,t,n,s)=>e&&E3(t,"mobile")?s:n,WZ=(e,t,n,s)=>{const o=B1(n.forced_plugins),a=B1(s.plugins),l=FZ(t,"mobile"),u=l.plugins?B1(l.plugins):a,f=UZ(e,t,a,u),h=VZ(o,f);return te.extend(s,{forced_plugins:o,plugins:h})},jZ=(e,t)=>e&&E3(t,"mobile"),qZ=(e,t,n,s,o)=>{var a;const l=e?{mobile:zZ((a=o.mobile)!==null&&a!==void 0?a:{},t)}:{},u=HZ(["mobile"],V0(l,o)),f=te.extend(n,s,u.options(),jZ(e,u)?IZ(u,"mobile"):{},{external_plugins:ZZ(s,u.options())});return WZ(e,u,s,f)},GZ=(e,t)=>qZ(fT||$Z,fT,t,e,t),KZ=(e,t)=>wO(e,t),YZ=e=>{const t=(s,o)=>{e.formatter.toggle(s,o),e.nodeChanged()},n=s=>()=>{K("left,center,right,justify".split(","),o=>{s!==o&&e.formatter.remove("align"+o)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},XZ=e=>{const t=n=>()=>{const s=e.selection,o=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Ot(o,a=>j(e.formatter.matchNode(a,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},QZ=e=>{YZ(e),XZ(e)},JZ=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Ve.os.isMacOS()||Ve.os.isiOS())&&(o=o.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:o,type:"error"})}}})},eV=(e,t,n)=>{const s=T.fromDom(e.getRoot());return f1(s,I.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),m1(s,I.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},tV=e=>{if(typeof e!="string"){const t=te.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},nV=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?eV(s,n.getRng(),t):t},f2=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=tV(t);rw(e,{...s,content:nV(e,n),format:"html",set:!1,selection:!0}).each(o=>{const a=CO(e,o.content,s);aw(e,a,o),e.addVisual()})}},sV=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{f2(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{f2(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{f2(e,s)},mceInsertContent:(t,n,s)=>{f2(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Ou(e))}})},oV={"font-size":"size","font-family":"face"},rV=el("font"),aV=(e,t,n)=>{const s=a=>Xn(a,e).orThunk(()=>rV(a)?ht(oV,e).bind(l=>zs(a,l)):y.none()),o=a=>Ke(T.fromDom(t),a);return $4(T.fromDom(n),a=>s(a),o)},cV=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),lV=(e,t)=>y.from(Qe.DOM.getStyle(t,e,!0)),mT=e=>(t,n)=>y.from(n).map(T.fromDom).filter(st).bind(s=>aV(e,t,s.dom).or(lV(e,s.dom))).getOr(""),iV=mT("font-size"),uV=Ar(cV,mT("font-family")),dV=e=>mn(e.getBody()).bind(t=>{const n=t.container();return y.from(Y(n)?n.parentNode:n)}),fV=e=>y.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?y.none():y.from(e.selection.getStart(!0))}),mV=(e,t)=>fV(e).orThunk(G(dV,e)).map(T.fromDom).filter(st).bind(t),k3=(e,t)=>mV(e,Ut(y.some,t)),hT=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=DC(e),o=OC(e);return o.length>0?o[n-1]||t:s[n-1]||t}else return t}else return t},hV=e=>{const t=e.split(/\s*,\s*/);return We(t,n=>n.indexOf(" ")!==-1&&!(ln(n,'"')||ln(n,"'"))?`'${n}'`:n).join(",")},gV=(e,t)=>{const n=hT(e,t);e.formatter.toggle("fontname",{value:hV(n)}),e.nodeChanged()},pV=e=>k3(e,t=>uV(e.getBody(),t.dom)).getOr(""),vV=(e,t)=>{e.formatter.toggle("fontsize",{value:hT(e,t)}),e.nodeChanged()},bV=e=>k3(e,t=>iV(e.getBody(),t.dom)).getOr(""),CV=e=>k3(e,t=>{const n=T.fromDom(e.getBody()),s=$4(t,a=>Xn(a,"line-height"),G(Ke,n)),o=()=>{const a=parseFloat(Yt(t,"line-height")),l=parseFloat(Yt(t,"font-size"));return String(a/l)};return s.getOrThunk(o)}).getOr(""),yV=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},wV=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,o)=>{t(n,{value:o})},BackColor:(n,s,o)=>{t("hilitecolor",{value:o})},FontName:(n,s,o)=>{gV(e,o)},FontSize:(n,s,o)=>{vV(e,o)},LineHeight:(n,s,o)=>{yV(e,o)},Lang:(n,s,o)=>{var a;t(n,{value:o.code,customValue:(a=o.customCode)!==null&&a!==void 0?a:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,o)=>{t(V(o)?o:"p")},mceToggleFormat:(n,s,o)=>{t(o)}})},SV=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>pV(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>bV(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>CV(e))},EV=e=>{wV(e),SV(e)},kV=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},xV=e=>{e.editorCommands.addCommands({Indent:()=>{mL(e)},Outdent:()=>{wx(e)}}),e.editorCommands.addCommands({Outdent:()=>vx(e)},"state")},RV=e=>{const t=(n,s,o)=>{const a=V(o)?{href:o}:o,l=e.dom.getParent(e.selection.getNode(),"a");Fe(a)&&V(a.href)&&(a.href=a.href.replace(/ /g,"%20"),(!l||!a.href)&&e.formatter.remove("link"),a.href&&e.formatter.apply("link",a,l))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},TV=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const s=n.parentNode;if(s&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(s.nodeName)){const o=e.selection.getBookmark();e.dom.split(s,n),e.selection.moveToBookmark(o)}}}})},_V=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},NV=e=>{TV(e),_V(e)},AV=e=>{e.editorCommands.addCommands({insertParagraph:()=>{e2(AR,e)},mceInsertNewLine:(t,n,s)=>{$R(e,s)},InsertLineBreak:(t,n,s)=>{e2(PR,e)}})},DV=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let o=0;e.dom.getParent(e.selection.getNode(),a=>ie(a)&&o++===s?(e.selection.select(a),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Vs);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},OV=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const o=s??e.selection.getNode();if(o!==e.getBody()){const a=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(a)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{c7(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},PV=e=>{QZ(e),JZ(e),kV(e),DV(e),sV(e),RV(e),xV(e),AV(e),NV(e),EV(e),OV(e)},BV=["toggleview"],gT=e=>Ge(BV,e.toLowerCase());class pT{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,o){const a=this.editor,l=t.toLowerCase(),u=o==null?void 0:o.skip_focus;if(a.removed||(l!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(l)&&!u?a.focus():e4(a)),a.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const h=this.commands.exec[l];return N(h)?(h(l,n,s),a.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!gT(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return N(s)?s(n):!1}queryCommandValue(t){if(!gT(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return N(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;at(t,(o,a)=>{K(a.toLowerCase().split(","),l=>{s[n][l]=o})})}addCommand(t,n,s){const o=t.toLowerCase();this.commands.exec[o]=(a,l,u)=>n.call(s??this.editor,l,u)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const ui="data-mce-contenteditable",MV=(e,t,n)=>{Gd(e,t)&&!n?qa(e,t):n&&Wr(e,t)},x3=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},m2=(e,t)=>{e.dom.contentEditable=t?"true":"false"},LV=e=>{K(un(e,'*[contenteditable="true"]'),t=>{nn(t,ui,"true"),m2(t,!1)})},$V=e=>{K(un(e,`*[${ui}="true"]`),t=>{qt(t,ui),m2(t,!0)})},HV=e=>{y.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},IV=e=>{e.selection.setRng(e.selection.getRng())},FV=(e,t)=>{const n=T.fromDom(e.getBody());MV(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),HV(e),e.readonly=!0,m2(n,!1),LV(n)):(e.readonly=!1,e.hasEditableRoot()&&m2(n,!0),$V(n),x3(e,"StyleWithCSS",!1),x3(e,"enableInlineTableEditing",!1),x3(e,"enableObjectResizing",!1),r7(e)&&e.focus(),IV(e),e.nodeChanged())},di=e=>e.readonly,vT=e=>{e.parser.addAttributeFilter("contenteditable",t=>{di(e)&&K(t,n=>{n.attr(ui,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ui,t=>{di(e)&&K(t,n=>{n.attr("contenteditable",n.attr(ui))})}),e.serializer.addTempAttr(ui)},zV=e=>{e.serializer?vT(e):e.on("PreInit",()=>{vT(e)})},ZV=e=>e.type==="click",VV=["copy"],UV=e=>Ge(VV,e.type),WV=(e,t)=>Kn(t,"a",s=>Ke(s,T.fromDom(e.getBody()))).bind(s=>zs(s,"href")),jV=(e,t)=>{if(ZV(t)&&!de.metaKeyPressed(t)){const n=T.fromDom(t.target);WV(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const o=e.dom.select(`${s},[name="${Yc(s,"#")}"]`);o.length&&e.selection.scrollIntoView(o[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else UV(t)&&e.dispatch(t.type,t)},qV=e=>{e.on("ShowCaret",t=>{di(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{di(e)&&t.preventDefault()})},GV=te.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class R3{static isNative(t){return!!GV[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||qe}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),o=Lf(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const a=this.bindings[s];if(a)for(let l=0,u=a.length;l<u;l++){const f=a[l];if(!f.removed){if(f.once&&this.off(s,f.func),o.isImmediatePropagationStopped())return o;if(f.func.call(this.scope,o)===!1)return o.preventDefault(),o}}return o}on(t,n,s,o){if(n===!1&&(n=qe),n){const a={func:n,removed:!1};o&&te.extend(a,o);const l=t.toLowerCase().split(" ");let u=l.length;for(;u--;){const f=l[u];let h=this.bindings[f];h||(h=[],this.toggleEvent(f,!0)),s?h=[a,...h]:h=[...h,a],this.bindings[f]=h}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let o=s.length;for(;o--;){const a=s[o];let l=this.bindings[a];if(!a)return at(this.bindings,(u,f)=>{this.toggleEvent(f,!1),delete this.bindings[f]}),this;if(l){if(!n)l.length=0;else{const u=gs(l,f=>f.func===n);l=u.fail,this.bindings[a]=l,K(u.pass,f=>{f.removed=!0})}l.length||(this.toggleEvent(t,!1),delete this.bindings[a])}}}else at(this.bindings,(s,o)=>{this.toggleEvent(o,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const M1=e=>(e._eventDispatcher||(e._eventDispatcher=new R3({scope:e,toggleEvent:(t,n)=>{R3.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),T3={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Lf(e.toLowerCase(),t??{},s);const o=M1(s).dispatch(e,t);if(n!==!1&&s.parent){let a=s.parent();for(;a&&!o.isPropagationStopped();)a.dispatch(e,o,!1),a=a.parent?a.parent():void 0}return o},on(e,t,n){return M1(this).on(e,t,n)},off(e,t){return M1(this).off(e,t)},once(e,t){return M1(this).once(e,t)},hasEventListeners(e){return M1(this).has(e)}},h2=Qe.DOM;let fi;const g2=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=fm(e);return n?(e.eventRoot||(e.eventRoot=h2.select(n)[0]),e.eventRoot):e.getBody()},KV=e=>!e.hidden&&!di(e),bT=(e,t,n)=>{KV(e)?e.dispatch(t,n):di(e)&&jV(e,n)},CT=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=g2(e,t);if(fm(e)){if(fi||(fi={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||fi&&(at(fi,(o,a)=>{e.dom.unbind(g2(e,a))}),fi=null)})),fi[t])return;const s=o=>{const a=o.target,l=e.editorManager.get();let u=l.length;for(;u--;){const f=l[u].getBody();(f===a||h2.isChildOf(a,f))&&bT(l[u],t,o)}};fi[t]=s,h2.bind(n,t,s)}else{const s=o=>{bT(e,t,o)};h2.bind(n,t,s),e.delegates[t]=s}},yT={...T3,bindPendingEventDelegates(){const e=this;te.each(e._pendingNativeEvents,t=>{CT(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?CT(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(g2(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(at(e.delegates,(s,o)=>{e.dom.unbind(g2(e,o),o,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},YV=e=>V(e)?{value:e.split(/[ ,]/),valid:!0}:Ia(e,V)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},XV=e=>{const t=(()=>{switch(e){case"array":return Xe;case"boolean":return Nr;case"function":return N;case"number":return xs;case"object":return Fe;case"string":return V;case"string[]":return YV;case"object[]":return n=>Ia(n,Fe);case"regexp":return n=>Jt(n,RegExp);default:return Ht}})();return n=>_3(n,t,`The value must be a ${e}.`)},QV=e=>V(e.processor),wT=(e,t)=>{const n=tr(t.message)?"":`. ${t.message}`;return e+n},ST=e=>e.valid,_3=(e,t,n="")=>{const s=t(e);return Nr(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},JV=(e,t,n)=>{if(!en(t)){const s=_3(t,n);if(ST(s))return s.value;console.error(wT(`Invalid default value passed for the "${e}" option`,s))}},eU=(e,t)=>{const n={},s={},o=(p,C,k)=>{const R=_3(C,k);return ST(R)?(s[p]=R.value,!0):(console.warn(wT(`Invalid value passed for the ${p} option`,R)),!1)},a=(p,C)=>{const k=QV(C)?XV(C.processor):C.processor,R=JV(p,C.default,k);n[p]={...C,default:R,processor:k},ht(s,p).orThunk(()=>ht(t,p)).each(x=>o(p,x,k))},l=p=>Oe(n,p);return{register:a,isRegistered:l,get:p=>ht(s,p).orThunk(()=>ht(n,p).map(C=>C.default)).getOrUndefined(),set:(p,C)=>{if(l(p)){const k=n[p];return k.immutable?(console.error(`"${p}" is an immutable option and cannot be updated`),!1):o(p,C,k.processor)}else return console.warn(`"${p}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:p=>{const C=l(p);return C&&delete s[p],C},isSet:p=>Oe(s,p)}},tU=["design","readonly"],ET=(e,t,n,s)=>{const o=n[t.get()],a=n[s];try{a.activate()}catch(l){console.error(`problem while activating editor mode ${s}:`,l);return}o.deactivate(),o.editorReadOnly!==a.editorReadOnly&&FV(e,a.editorReadOnly),t.set(s),Ey(e,s)},nU=(e,t,n,s)=>{if(s!==n.get()){if(!Oe(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?ET(e,n,t,s):e.on("init",()=>ET(e,n,t,s))}},sU=(e,t,n)=>{if(Ge(tU,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},oU=e=>{const t=Ft("design"),n=Ft({design:{activate:Be,deactivate:Be,editorReadOnly:!1},readonly:{activate:Be,deactivate:Be,editorReadOnly:!0}});return zV(e),qV(e),{isReadOnly:()=>di(e),set:s=>nU(e,n.get(),t,s),get:()=>t.get(),register:(s,o)=>{n.set(sU(n.get(),s,o))}}},N3=te.each,A3=te.explode,rU={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},kT=te.makeMap("alt,ctrl,shift,meta,access"),aU=e=>e in kT,cU=e=>{const t={},n=Ve.os.isMacOS()||Ve.os.isiOS();N3(A3(e.toLowerCase(),"+"),a=>{aU(a)?t[a]=!0:/^[0-9]{2,}$/.test(a)?t.keyCode=parseInt(a,10):(t.charCode=a.charCodeAt(0),t.keyCode=rU[a]||a.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let o;for(o in kT)t[o]?s.push(o):t[o]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class xT{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(N3(n.shortcuts,o=>{n.matchShortcut(s,o)&&(n.pendingPatterns=o.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(o))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,o){const a=this,l=a.normalizeCommandFunc(s);return N3(A3(te.trim(t)),u=>{const f=a.createShortcut(u,n,l,o);a.shortcuts[f.id]=f}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:te.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,o){const a=te.map(A3(t,">"),cU);return a[a.length-1]=te.extend(a[a.length-1],{func:s,scope:o||this.editor}),te.extend(a[0],{desc:this.editor.translate(n),subpatterns:a.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const lU=()=>{const e={},t={},n={},s={},o={},a={},l={},u={},f=(v,p)=>(C,k)=>{v[C.toLowerCase()]={...k,type:p}},h=(v,p)=>s[v.toLowerCase()]=p;return{addButton:f(e,"button"),addGroupToolbarButton:f(e,"grouptoolbarbutton"),addToggleButton:f(e,"togglebutton"),addMenuButton:f(e,"menubutton"),addSplitButton:f(e,"splitbutton"),addMenuItem:f(t,"menuitem"),addNestedMenuItem:f(t,"nestedmenuitem"),addToggleMenuItem:f(t,"togglemenuitem"),addAutocompleter:f(n,"autocompleter"),addContextMenu:f(o,"contextmenu"),addContextToolbar:f(a,"contexttoolbar"),addContextForm:f(a,"contextform"),addSidebar:f(l,"sidebar"),addView:f(u,"views"),addIcon:h,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:o,contextToolbars:a,sidebars:l,views:u})}},iU=()=>{const e=lU();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},mi=Qe.DOM,RT=te.extend,uU=te.each;class p2{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,RT(this,yT);const o=this;this.id=t,this.hidden=!1;const a=GZ(s.defaultOptions,n);this.options=eU(o,a),$b(o);const l=this.options.get;l("deprecation_warnings")&&cP(n,a);const u=l("suffix");u&&(s.suffix=u),this.suffix=s.suffix;const f=l("base_url");f&&s._setBaseUrl(f),this.baseUri=s.baseURI;const h=dm(o);h&&(Ws.ScriptLoader._setReferrerPolicy(h),Qe.DOM.styleSheetLoader._setReferrerPolicy(h));const v=Gg(o);j(v)&&Qe.DOM.styleSheetLoader._setContentCssCors(v),bn.languageLoad=l("language_load"),bn.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new jo(Bg(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Au(o),this.hasVisual=Kg(o),this.shortcuts=new xT(this),this.editorCommands=new pT(this),PV(this);const p=l("cache_suffix");p&&(Ve.cacheSuffix=p.replace(/^[\?\&]+/,"")),this.ui={registry:iU(),styleSheetLoader:void 0,show:Be,hide:Be,setEnabled:Be,isEnabled:Ht},this.mode=oU(o),s.dispatch("SetupEditor",{editor:this});const C=hC(o);N(C)&&C.call(o,o)}render(){PZ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return ti(this)}translate(t){return js.translate(t)}getParam(t,n,s){const o=this.options;return o.isRegistered(t)||(j(s)?o.register(t,{processor:s,default:n}):o.register(t,{processor:Ht,default:n})),!o.isSet(t)&&!en(n)?n:o.get(t)}hasPlugin(t,n){return Ge(Du(this),t)?n?gd.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,o){this.shortcuts.add(t,n,s,o)}execCommand(t,n,s,o){return this.editorCommands.execCommand(t,n,s,o)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(mi.show(t.getContainer()),mi.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(mi.hide(t.getContainer()),mi.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const o={...t,load:!0},a=df(s)?s.value:s.innerHTML,l=n.setContent(a,o);return o.no_events||n.dispatch("LoadContent",{...o,element:s}),l}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const o={...t,save:!0,element:s};let a=n.getContent(o);const l={...o,content:a};if(l.no_events||n.dispatch("SaveContent",l),l.format==="raw"&&n.dispatch("RawSaveContent",l),a=l.content,df(s))s.value=a;else{(t.is_removing||!n.inline)&&(s.innerHTML=a);const u=mi.getParent(n.id,"form");u&&uU(u.elements,f=>f.name===n.id?(f.value=a,!1):!0)}return l.element=o.element=s=null,l.set_dirty!==!1&&n.setDirty(!1),a}setContent(t,n){return hw(this,t,n)}getContent(t){return GO(this,t)}insertContent(t,n){n&&(t=RT({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?hw(this,this.startContent,{format:"raw"}):hw(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||mi.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=mi.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const o=this,a=o.options.get,l=pC(o);return N(l)?l.call(o,t,s,!0,n):!a("convert_urls")||s==="link"||Fe(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:a("relative_urls")?o.documentBaseURI.toRelative(t):(t=o.documentBaseURI.toAbsolute(t,a("remove_script_host")),t)}addVisual(t){KZ(this,t)}setEditableRoot(t){BZ(this,t)}hasEditableRoot(){return MZ(this)}remove(){dP(this)}destroy(t){fP(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ed=Qe.DOM,v2=te.each;let TT=!1,b2,fs=[];const C2=e=>{const t=e.type;v2(zc.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},_T=e=>{if(e!==TT){const t=Qe.DOM;e?(t.bind(window,"resize",C2),t.bind(window,"scroll",C2)):(t.unbind(window,"resize",C2),t.unbind(window,"scroll",C2)),TT=e}},NT=e=>{const t=fs;return fs=ke(fs,n=>e!==n),zc.activeEditor===e&&(zc.activeEditor=fs.length>0?fs[0]:null),zc.focusedEditor===e&&(zc.focusedEditor=null),t.length!==fs.length},dU=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(NT(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},fU=document.compatMode!=="CSS1Compat",zc={...T3,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"6.0",releaseDate:"2023-07-12",i18n:js,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=jo.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const a=document.getElementsByTagName("script");for(let l=0;l<a.length;l++){const u=a[l].src||"";if(u==="")continue;const f=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){f.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}if(!t&&document.currentScript){const l=document.currentScript.src;l.indexOf(".min")!==-1&&(n=".min"),t=l.substring(0,l.lastIndexOf("/"))}}e.baseURL=new jo(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new jo(e.baseURL),e.suffix=n,XT(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&at(s,(o,a)=>{bn.PluginManager.urls[a]=o})},init(e){const t=this;let n;const s=te.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=(v,p)=>v.inline&&p.tagName.toLowerCase()in s,a=v=>{let p=v.id;return p||(p=ht(v,"name").filter(C=>!Ed.get(C)).getOrThunk(Ed.uniqueId),v.setAttribute("id",p)),p},l=v=>{const p=e[v];if(p)return p.apply(t,[])},u=v=>Ve.browser.isIE()||Ve.browser.isEdge()?(D0("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):fU?(D0("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):V(v.selector)?Ed.select(v.selector):j(v.target)?[v.target]:[];let f=v=>{n=v};const h=()=>{let v=0;const p=[];let C;const k=(R,S,x)=>{const A=new p2(R,S,t);p.push(A),A.on("init",()=>{++v===C.length&&f(p)}),A.targetElm=A.targetElm||x,A.render()};Ed.unbind(window,"ready",h),l("onpageload"),C=x2(u(e)),te.each(C,R=>{dU(t.get(R.id))}),C=te.grep(C,R=>!t.get(R.id)),C.length===0?f([]):v2(C,R=>{o(e,R)?D0("Could not initialize inline editor on invalid inline target element",R):k(a(R),e,R)})};return Ed.bind(window,"ready",h),new Promise(v=>{n?v(n):f=p=>{v(p)}})},get(e){return arguments.length===0?fs.slice(0):V(e)?Wt(fs,t=>t.id===e).getOr(null):xs(e)&&fs[e]?fs[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&fs.push(e),_T(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),b2||(b2=s=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return s.preventDefault(),s.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",b2))),e},createEditor(e,t){return this.add(new p2(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=fs.length-1;s>=0;s--)t.remove(fs[s]);return}if(V(e)){v2(Ed.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,Rn(t.get(n.id))?null:(NT(n)&&t.dispatch("RemoveEditor",{editor:n}),fs.length===0&&window.removeEventListener("beforeunload",b2),n.remove(),_T(fs.length>0),n)},execCommand(e,t,n){var s;const o=this,a=Fe(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!o.get(a)){const l=n.options;new p2(a,l,o).render()}return!0}case"mceRemoveEditor":{const l=o.get(a);return l&&l.remove(),!0}case"mceToggleEditor":{const l=o.get(a);return l?(l.isHidden()?l.show():l.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return o.activeEditor?o.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{v2(fs,e=>{e.save()})},addI18n:(e,t)=>{js.add(e,t)},translate:e=>js.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new jo(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new jo(this.baseURL)}};zc.setup();const mU=(()=>{const e=Ts(),t=a=>({items:a,types:ss(a),getType:l=>ht(a,l).getOrUndefined()}),n=a=>{e.set(a)},s=()=>e.get().getOrUndefined(),o=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:o}})(),AT=Math.min,kd=Math.max,y2=Math.round,DT=(e,t,n)=>{let s=t.x,o=t.y;const a=e.w,l=e.h,u=t.w,f=t.h,h=(n||"").split("");return h[0]==="b"&&(o+=f),h[1]==="r"&&(s+=u),h[0]==="c"&&(o+=y2(f/2)),h[1]==="c"&&(s+=y2(u/2)),h[3]==="b"&&(o-=l),h[4]==="r"&&(s-=a),h[3]==="c"&&(o-=y2(l/2)),h[4]==="c"&&(s-=y2(a/2)),xd(s,o,a,l)},hU=(e,t,n,s)=>{for(let o=0;o<s.length;o++){const a=DT(e,t,s[o]);if(a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return s[o]}return null},gU=(e,t,n)=>xd(e.x-t,e.y-n,e.w+t*2,e.h+n*2),pU=(e,t)=>{const n=kd(e.x,t.x),s=kd(e.y,t.y),o=AT(e.x+e.w,t.x+t.w),a=AT(e.y+e.h,t.y+t.h);return o-n<0||a-s<0?null:xd(n,s,o-n,a-s)},vU=(e,t,n)=>{let s=e.x,o=e.y,a=e.x+e.w,l=e.y+e.h;const u=t.x+t.w,f=t.y+t.h,h=kd(0,t.x-s),v=kd(0,t.y-o),p=kd(0,a-u),C=kd(0,l-f);return s+=h,o+=v,n&&(a+=h,l+=v,s-=p,o-=C),a-=p,l-=C,xd(s,o,a-s,l-o)},xd=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),bU={inflate:gU,relativePosition:DT,findBestRelativePosition:hU,intersect:pU,clamp:vU,create:xd,fromClientRect:e=>xd(e.left,e.top,e.width,e.height)},CU=(e,t,n=1e3)=>{let s=!1,o=null;const a=h=>(...v)=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),h.apply(null,v))},l=a(e),u=a(t);return{start:(...h)=>{!s&&o===null&&(o=setTimeout(()=>u.apply(null,h),n))},resolve:l,reject:u}},yU=(()=>{const e={},t={};return{load:(a,l)=>{const u=`Script at URL "${l}" failed to load`,f=`Script at URL "${l}" did not call \`tinymce.Resource.add('${a}', data)\` within 1 second`;if(e[a]!==void 0)return e[a];{const h=new Promise((v,p)=>{const C=CU(v,p);t[a]=C.resolve,Ws.ScriptLoader.loadScript(l).then(()=>C.start(f),()=>C.reject(u))});return e[a]=h,h}},add:(a,l)=>{t[a]!==void 0&&(t[a](l),delete t[a]),e[a]=Promise.resolve(l)},unload:a=>{delete e[a]}}})(),wU=()=>(()=>{let e={},t=[];const n={getItem:s=>{const o=e[s];return o||null},setItem:(s,o)=>{t.push(s),e[s]=String(o)},key:s=>t[s],removeItem:s=>{t=t.filter(o=>o===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let L1;try{const e="__storage_test__";L1=window.localStorage,L1.setItem(e,e),L1.removeItem(e)}catch{L1=wU()}var SU=L1;const EU={geom:{Rect:bU},util:{Delay:Ys,Tools:te,VK:de,URI:jo,EventDispatcher:R3,Observable:T3,I18n:js,LocalStorage:SU,ImageUploader:VP},dom:{EventUtils:ia,TreeWalker:Bt,TextSeeker:Ho,DOMUtils:Qe,ScriptLoader:Ws,RangeUtils:Vo,Serializer:tk,StyleSheetLoader:Yh,ControlSelection:td,BookmarkManager:Ju,Selection:ek,Event:ia.Event},html:{Styles:gu,Entities:ir,Node:ds,Schema:dr,DomParser:md,Writer:xS,Serializer:Bc},Env:Ve,AddOnManager:bn,Annotator:Zp,Formatter:pk,UndoManager:bk,EditorCommands:pT,WindowManager:lk,NotificationManager:ck,EditorObservable:yT,Shortcuts:xT,Editor:p2,FocusManager:ud,EditorManager:zc,DOM:Qe.DOM,ScriptLoader:Ws.ScriptLoader,PluginManager:gd,ThemeManager:li,ModelManager:hd,IconManager:N0,Resource:yU,FakeClipboard:mU,trim:te.trim,isArray:te.isArray,is:te.is,toArray:te.toArray,makeMap:te.makeMap,each:te.each,map:te.map,grep:te.grep,inArray:te.inArray,extend:te.extend,walk:te.walk,resolve:te.resolve,explode:te.explode,_addCacheSuffix:te._addCacheSuffix},OT=te.extend(zc,EU),kU=e=>{try{ye.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(OT),kU(OT)})()})(zT);var LU=zT.exports;const hW=_U(LU);var $U=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],HU=function(ye){return $U.map(function(ft){return ft.toLowerCase()}).indexOf(ye.toLowerCase())!==-1},IU=function(ye,ft,et){Object.keys(ft).filter(HU).forEach(function(At){var Dt=ft[At];typeof Dt=="function"&&(At==="onInit"?Dt(ye,et):et.on(At.substring(2),function(xt){return Dt(xt,et)}))})},FU=function(ye,ft,et,At){var Dt=ye.modelEvents?ye.modelEvents:null,xt=Array.isArray(Dt)?Dt.join(" "):Dt;B3(At,function(kn,xn){et&&typeof kn=="string"&&kn!==xn&&kn!==et.getContent({format:ye.outputFormat})&&et.setContent(kn)}),et.on(xt||"change input undo redo",function(){ft.emit("update:modelValue",et.getContent({format:ye.outputFormat}))})},zU=function(ye,ft,et,At,Dt,xt){At.setContent(xt()),et.attrs["onUpdate:modelValue"]&&FU(ft,et,At,Dt),IU(ye,et.attrs,At)},HT=0,ZT=function(ye){var ft=Date.now(),et=Math.floor(Math.random()*1e9);return HT++,ye+"_"+et+HT+String(ft)},ZU=function(ye){return ye!==null&&ye.tagName.toLowerCase()==="textarea"},IT=function(ye){return typeof ye>"u"||ye===""?[]:Array.isArray(ye)?ye:ye.split(" ")},VU=function(ye,ft){return IT(ye).concat(IT(ft))},UU=function(ye){return ye==null},FT=function(){return{listeners:[],scriptId:ZT("tiny-script"),scriptLoaded:!1}},WU=function(){var ye=FT(),ft=function(Dt,xt,kn,xn){var bt=xt.createElement("script");bt.referrerPolicy="origin",bt.type="application/javascript",bt.id=Dt,bt.src=kn;var Rr=function(){bt.removeEventListener("load",Rr),xn()};bt.addEventListener("load",Rr),xt.head&&xt.head.appendChild(bt)},et=function(Dt,xt,kn){ye.scriptLoaded?kn():(ye.listeners.push(kn),Dt.getElementById(ye.scriptId)||ft(ye.scriptId,Dt,xt,function(){ye.listeners.forEach(function(xn){return xn()}),ye.scriptLoaded=!0}))},At=function(){ye=FT()};return{load:et,reinitialize:At}},jU=WU(),qU=function(){return typeof window<"u"?window:global},pi=function(){var ye=qU();return ye&&ye.tinymce?ye.tinymce:null},GU={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(ye){return ye==="html"||ye==="text"}}},vi=globalThis&&globalThis.__assign||function(){return vi=Object.assign||function(ye){for(var ft,et=1,At=arguments.length;et<At;et++){ft=arguments[et];for(var Dt in ft)Object.prototype.hasOwnProperty.call(ft,Dt)&&(ye[Dt]=ft[Dt])}return ye},vi.apply(this,arguments)},KU=function(ye,ft,et,At){return ye(At||"div",{id:ft,ref:et})},YU=function(ye,ft,et){return ye("textarea",{id:ft,visibility:"hidden",ref:et})},gW=NU({props:GU,setup:function(ye,ft){var et=ye.init?vi({},ye.init):{},At=AU(ye),Dt=At.disabled,xt=At.modelValue,kn=At.tagName,xn=DU(null),bt=null,Rr=ye.id||ZT("tiny-vue"),Ha=ye.init&&ye.init.inline||ye.inline,Tr=!!ft.attrs["onUpdate:modelValue"],Vc=!0,Jo=ye.initialValue?ye.initialValue:"",ks="",_r=function(Jt){return Tr?function(){return xt!=null&&xt.value?xt.value:""}:function(){return Jt?Jo:ks}},Se=function(){var Jt=_r(Vc),V=vi(vi({},et),{readonly:ye.disabled,target:xn.value,plugins:VU(et.plugins,ye.plugins),toolbar:ye.toolbar||et.toolbar,inline:Ha,setup:function(Fe){bt=Fe,Fe.on("init",function(Ci){return zU(Ci,ye,ft,Fe,xt,Jt)}),typeof et.setup=="function"&&et.setup(Fe)}});ZU(xn.value)&&(xn.value.style.visibility=""),pi().init(V),Vc=!1};B3(Dt,function(Jt){var V;bt!==null&&(typeof((V=bt.mode)===null||V===void 0?void 0:V.set)=="function"?bt.mode.set(Jt?"readonly":"design"):bt.setMode(Jt?"readonly":"design"))}),B3(kn,function(Jt){var V;Tr||(ks=bt.getContent()),(V=pi())===null||V===void 0||V.remove(bt),LT(function(){return Se()})}),OU(function(){if(pi()!==null)Se();else if(xn.value&&xn.value.ownerDocument){var Jt=ye.cloudChannel?ye.cloudChannel:"6",V=ye.apiKey?ye.apiKey:"no-api-key",Fe=UU(ye.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(V,"/tinymce/").concat(Jt,"/tinymce.min.js"):ye.tinymceScriptSrc;jU.load(xn.value.ownerDocument,Fe,Se)}}),PU(function(){pi()!==null&&pi().remove(bt)}),Ha||(BU(function(){Vc||Se()}),MU(function(){var Jt;Tr||(ks=bt.getContent()),(Jt=pi())===null||Jt===void 0||Jt.remove(bt)}));var bi=function(Jt){var V;ks=bt.getContent(),(V=pi())===null||V===void 0||V.remove(bt),et=vi(vi({},et),Jt),LT(function(){return Se()})};return ft.expose({rerender:bi,getEditor:function(){return bt}}),function(){return Ha?KU($T,Rr,xn,ye.tagName):YU($T,Rr,xn)}}});tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var ye=tinymce.util.Tools.resolve("tinymce.ModelManager");const ft=(r,c,i)=>{var d;return i(r,c.prototype)?!0:((d=r.constructor)===null||d===void 0?void 0:d.name)===c.name},et=r=>{const c=typeof r;return r===null?"null":c==="object"&&Array.isArray(r)?"array":c==="object"&&ft(r,String,(i,d)=>d.isPrototypeOf(i))?"string":c},At=r=>c=>et(c)===r,Dt=r=>c=>typeof c===r,xt=r=>c=>r===c,kn=At("string"),xn=At("object"),bt=At("array"),Rr=xt(null),Ha=Dt("boolean"),Tr=xt(void 0),Vc=r=>r==null,Jo=r=>!Vc(r),ks=Dt("function"),_r=Dt("number"),Se=()=>{},bi=(r,c)=>(...i)=>r(c.apply(null,i)),Jt=(r,c)=>i=>r(c(i)),V=r=>()=>r,Fe=r=>r,Ci=(r,c)=>r===c;function Xe(r,...c){return(...i)=>{const d=c.concat(i);return r.apply(null,d)}}const Rn=r=>c=>!r(c),Nr=r=>()=>{throw new Error(r)},en=r=>r(),nt=V(!1),j=V(!0);class N{constructor(c,i){this.tag=c,this.value=i}static some(c){return new N(!0,c)}static none(){return N.singletonNone}fold(c,i){return this.tag?i(this.value):c()}isSome(){return this.tag}isNone(){return!this.tag}map(c){return this.tag?N.some(c(this.value)):N.none()}bind(c){return this.tag?c(this.value):N.none()}exists(c){return this.tag&&c(this.value)}forall(c){return!this.tag||c(this.value)}filter(c){return!this.tag||c(this.value)?this:N.none()}getOr(c){return this.tag?this.value:c}or(c){return this.tag?this:c}getOrThunk(c){return this.tag?this.value:c()}orThunk(c){return this.tag?this:c()}getOrDie(c){if(this.tag)return this.value;throw new Error(c??"Called getOrDie on None")}static from(c){return Jo(c)?N.some(c):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(c){this.tag&&c(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const xs=Array.prototype.slice,Ia=Array.prototype.indexOf,Be=Array.prototype.push,Ar=(r,c)=>Ia.call(r,c),Ut=(r,c)=>Ar(r,c)>-1,oe=(r,c)=>{for(let i=0,d=r.length;i<d;i++){const m=r[i];if(c(m,i))return!0}return!1},Ct=(r,c)=>{const i=[];for(let d=0;d<r;d++)i.push(c(d));return i},Ne=(r,c)=>{const i=r.length,d=new Array(i);for(let m=0;m<i;m++){const g=r[m];d[m]=c(g,m)}return d},G=(r,c)=>{for(let i=0,d=r.length;i<d;i++){const m=r[i];c(m,i)}},yi=(r,c)=>{for(let i=r.length-1;i>=0;i--){const d=r[i];c(d,i)}},Td=(r,c)=>{const i=[],d=[];for(let m=0,g=r.length;m<g;m++){const b=r[m];(c(b,m)?i:d).push(b)}return{pass:i,fail:d}},$t=(r,c)=>{const i=[];for(let d=0,m=r.length;d<m;d++){const g=r[d];c(g,d)&&i.push(g)}return i},Fn=(r,c,i)=>(yi(r,(d,m)=>{i=c(i,d,m)}),i),qe=(r,c,i)=>(G(r,(d,m)=>{i=c(i,d,m)}),i),Ht=(r,c,i)=>{for(let d=0,m=r.length;d<m;d++){const g=r[d];if(c(g,d))return N.some(g);if(i(g,d))break}return N.none()},y=(r,c)=>Ht(r,c,nt),Uc=(r,c)=>{for(let i=0,d=r.length;i<d;i++){const m=r[i];if(c(m,i))return N.some(i)}return N.none()},I1=r=>{const c=[];for(let i=0,d=r.length;i<d;++i){if(!bt(r[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+r);Be.apply(c,r[i])}return c},pn=(r,c)=>I1(Ne(r,c)),hs=(r,c)=>{for(let i=0,d=r.length;i<d;++i){const m=r[i];if(c(m,i)!==!0)return!1}return!0},k2=r=>{const c=xs.call(r,0);return c.reverse(),c},Ge=(r,c)=>{const i={};for(let d=0,m=r.length;d<m;d++){const g=r[d];i[String(g)]=c(g,d)}return i},Ot=(r,c)=>{const i=xs.call(r,0);return i.sort(c),i},We=(r,c)=>c>=0&&c<r.length?N.some(r[c]):N.none(),K=r=>We(r,0),_d=r=>We(r,r.length-1),gs=(r,c)=>{for(let i=0;i<r.length;i++){const d=c(r[i],i);if(d.isSome())return d}return N.none()},ke=Object.keys,Fa=Object.hasOwnProperty,wt=(r,c)=>{const i=ke(r);for(let d=0,m=i.length;d<m;d++){const g=i[d],b=r[g];c(b,g)}},Nd=(r,c)=>Wt(r,(i,d)=>({k:d,v:c(i,d)})),Wt=(r,c)=>{const i={};return wt(r,(d,m)=>{const g=c(d,m);i[g.k]=g.v}),i},Wc=r=>(c,i)=>{r[i]=c},F1=(r,c,i,d)=>{wt(r,(m,g)=>{(c(m,g)?i:d)(m,g)})},oo=(r,c)=>{const i={};return F1(r,c,Wc(i),Se),i},So=(r,c)=>{const i=[];return wt(r,(d,m)=>{i.push(c(d,m))}),i},za=r=>So(r,Fe),wi=(r,c)=>jc(r,c)?N.from(r[c]):N.none(),jc=(r,c)=>Fa.call(r,c),Dr=(r,c)=>jc(r,c)&&r[c]!==void 0&&r[c]!==null,Si=r=>{for(const c in r)if(Fa.call(r,c))return!1;return!0},zn=typeof window<"u"?window:Function("return this;")(),Or=(r,c)=>{let i=c??zn;for(let d=0;d<r.length&&i!==void 0&&i!==null;++d)i=i[r[d]];return i},Tn=(r,c)=>{const i=r.split(".");return Or(i,c)},Za=(r,c)=>Tn(r,c),x2=(r,c)=>{const i=Za(r,c);if(i==null)throw new Error(r+" not available on this browser");return i},ss=Object.getPrototypeOf,R2=r=>x2("HTMLElement",r),at=r=>{const c=Tn("ownerDocument.defaultView",r);return xn(r)&&(R2(c).prototype.isPrototypeOf(r)||/^HTML\w*Element$/.test(ss(r).constructor.name))},Ei=8,z1=9,ki=11,xi=1,T2=3,mt=r=>r.dom.nodeName.toLowerCase(),Ri=r=>r.dom.nodeType,Va=r=>c=>Ri(c)===r,ht=r=>Ri(r)===Ei||mt(r)==="#comment",Oe=r=>Zn(r)&&at(r.dom),Zn=Va(xi),Pr=Va(T2),Ad=Va(z1),Z1=Va(ki),Vn=r=>c=>Zn(c)&&mt(c)===r,Dd=(r,c,i)=>{if(kn(i)||Ha(i)||_r(i))r.setAttribute(c,i+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",i,":: Element ",r),new Error("Attribute value was not simple")},It=(r,c,i)=>{Dd(r.dom,c,i)},Br=(r,c)=>{const i=r.dom;wt(c,(d,m)=>{Dd(i,m,d)})},qc=(r,c)=>{wt(c,(i,d)=>{i.fold(()=>{Rt(r,d)},m=>{Dd(r.dom,d,m)})})},Mr=(r,c)=>{const i=r.dom.getAttribute(c);return i===null?void 0:i},Is=(r,c)=>N.from(Mr(r,c)),Rt=(r,c)=>{r.dom.removeAttribute(c)},er=r=>qe(r.dom.attributes,(c,i)=>(c[i.name]=i.value,c),{}),Lr=(r,c)=>{const d=(c||document).createElement("div");if(d.innerHTML=r,!d.hasChildNodes()||d.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,r),new Error(m)}return Gc(d.childNodes[0])},_2=(r,c)=>{const d=(c||document).createElement(r);return Gc(d)},N2=(r,c)=>{const d=(c||document).createTextNode(r);return Gc(d)},Gc=r=>{if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},le={fromHtml:Lr,fromTag:_2,fromText:N2,fromDom:Gc,fromPoint:(r,c,i)=>N.from(r.dom.elementFromPoint(c,i)).map(Gc)},Un=(r,c)=>{const i=r.dom;if(i.nodeType!==xi)return!1;{const d=i;if(d.matches!==void 0)return d.matches(c);if(d.msMatchesSelector!==void 0)return d.msMatchesSelector(c);if(d.webkitMatchesSelector!==void 0)return d.webkitMatchesSelector(c);if(d.mozMatchesSelector!==void 0)return d.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}},Ua=r=>r.nodeType!==xi&&r.nodeType!==z1&&r.nodeType!==ki||r.childElementCount===0,A2=(r,c)=>{const i=c===void 0?document:c.dom;return Ua(i)?[]:Ne(i.querySelectorAll(r),le.fromDom)},Od=(r,c)=>{const i=c===void 0?document:c.dom;return Ua(i)?N.none():N.from(i.querySelector(r)).map(le.fromDom)},ct=(r,c)=>r.dom===c.dom,Pd=(r,c)=>{const i=r.dom,d=c.dom;return i===d?!1:i.contains(d)},D2=Un,Kc=r=>le.fromDom(r.dom.ownerDocument),Yc=r=>Ad(r)?r:Kc(r),vn=r=>le.fromDom(Yc(r).dom.documentElement),ln=r=>le.fromDom(Yc(r).dom.defaultView),Eo=r=>N.from(r.dom.parentNode).map(le.fromDom),Ti=r=>N.from(r.dom.parentElement).map(le.fromDom),$r=(r,c)=>{const i=ks(c)?c:nt;let d=r.dom;const m=[];for(;d.parentNode!==null&&d.parentNode!==void 0;){const g=d.parentNode,b=le.fromDom(g);if(m.push(b),i(b)===!0)break;d=g}return m},V1=r=>N.from(r.dom.previousSibling).map(le.fromDom),Xc=r=>N.from(r.dom.nextSibling).map(le.fromDom),jt=r=>Ne(r.dom.childNodes,le.fromDom),tr=(r,c)=>{const i=r.dom.childNodes;return N.from(i[c]).map(le.fromDom)},O2=r=>tr(r,0),Hr=(r,c)=>{Eo(r).each(d=>{d.dom.insertBefore(c.dom,r.dom)})},Ir=(r,c)=>{Xc(r).fold(()=>{Eo(r).each(m=>{Tt(m,c)})},d=>{Hr(d,c)})},Fs=(r,c)=>{O2(r).fold(()=>{Tt(r,c)},d=>{r.dom.insertBefore(c.dom,d.dom)})},Tt=(r,c)=>{r.dom.appendChild(c.dom)},P2=(r,c,i)=>{tr(r,i).fold(()=>{Tt(r,c)},d=>{Hr(d,c)})},U1=(r,c)=>{Hr(r,c),Tt(c,r)},Bd=(r,c)=>{G(c,(i,d)=>{const m=d===0?r:c[d-1];Ir(m,i)})},ro=(r,c)=>{G(c,i=>{Tt(r,i)})},_i=r=>{r.dom.textContent="",G(jt(r),c=>{Ln(c)})},Ln=r=>{const c=r.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},W1=r=>{const c=jt(r);c.length>0&&Bd(r,c),Ln(r)},Md=(r,c)=>le.fromDom(r.dom.cloneNode(c)),j1=r=>Md(r,!1),Fr=r=>Md(r,!0),Ld=(r,c)=>{const i=le.fromTag(c),d=er(r);return Br(i,d),i},q1=(r,c)=>{const i=Ld(r,c),d=jt(Fr(r));return ro(i,d),i},G1=(r,c)=>{const i=Ld(r,c);Ir(r,i);const d=jt(r);return ro(i,d),Ln(r),i},K1=["tfoot","thead","tbody","colgroup"],Y1=r=>Ut(K1,r),X1=(r,c)=>({rows:r,columns:c}),Q1=(r,c)=>({row:r,column:c}),$d=(r,c,i)=>({element:r,rowspan:c,colspan:i}),J1=(r,c,i,d)=>({element:r,rowspan:c,colspan:i,isNew:d}),B2=(r,c,i,d,m,g)=>({element:r,rowspan:c,colspan:i,row:d,column:m,isLocked:g}),Ni=(r,c,i)=>({element:r,cells:c,section:i}),eh=(r,c,i,d)=>({element:r,cells:c,section:i,isNew:d}),os=(r,c,i)=>({element:r,isNew:c,isLocked:i}),zr=(r,c,i,d)=>({element:r,cells:c,section:i,isNew:d}),M2=(r,c,i,d)=>({startRow:r,startCol:c,finishRow:i,finishCol:d}),L2=(r,c,i)=>({element:r,colspan:c,column:i}),ao=(r,c)=>({element:r,columns:c}),$2=r=>Z1(r)&&Jo(r.dom.host),Ai=ks(Element.prototype.attachShadow)&&ks(Node.prototype.getRootNode),co=V(Ai),lo=Ai?r=>le.fromDom(r.dom.getRootNode()):Yc,Zr=r=>{const c=lo(r);return $2(c)?N.some(c):N.none()},H2=r=>le.fromDom(r.dom.host),Ve=r=>{if(co()&&Jo(r.target)){const c=le.fromDom(r.target);if(Zn(c)&&I2(c)&&r.composed&&r.composedPath){const i=r.composedPath();if(i)return K(i)}}return N.from(r.target)},I2=r=>Jo(r.dom.shadowRoot),io=r=>{const c=Pr(r)?r.dom.parentNode:r.dom;if(c==null||c.ownerDocument===null)return!1;const i=c.ownerDocument;return Zr(le.fromDom(c)).fold(()=>i.body.contains(c),Jt(io,H2))},F2=()=>th(le.fromDom(document)),th=r=>{const c=r.dom.body;if(c==null)throw new Error("Body is not available yet");return le.fromDom(c)},z2=(r,c,i)=>$t($r(r,i),c),Z2=(r,c)=>$t(jt(r),c),Hd=(r,c)=>{let i=[];return G(jt(r),d=>{c(d)&&(i=i.concat([d])),i=i.concat(Hd(d,c))}),i},Di=(r,c,i)=>z2(r,d=>Un(d,c),i),Id=(r,c)=>Z2(r,i=>Un(i,c)),ko=(r,c)=>A2(c,r);var te=(r,c,i,d,m)=>r(i,d)?N.some(i):ks(m)&&m(i)?N.none():c(i,d,m);const uo=(r,c,i)=>{let d=r.dom;const m=ks(i)?i:nt;for(;d.parentNode;){d=d.parentNode;const g=le.fromDom(d);if(c(g))return N.some(g);if(m(g))break}return N.none()},Fd=(r,c,i)=>te((m,g)=>g(m),uo,r,c,i),$n=(r,c)=>{const i=m=>c(le.fromDom(m));return y(r.dom.childNodes,i).map(le.fromDom)},V2=(r,c)=>{const i=d=>{for(let m=0;m<d.childNodes.length;m++){const g=le.fromDom(d.childNodes[m]);if(c(g))return N.some(g);const b=i(d.childNodes[m]);if(b.isSome())return b}return N.none()};return i(r.dom)},Rs=(r,c,i)=>uo(r,d=>Un(d,c),i),zd=(r,c)=>$n(r,i=>Un(i,c)),Qc=(r,c)=>Od(c,r),tn=(r,c,i)=>te((m,g)=>Un(m,g),Rs,r,c,i),Zd=(r,c,i=Ci)=>r.exists(d=>i(d,c)),nh=r=>{const c=[],i=d=>{c.push(d)};for(let d=0;d<r.length;d++)r[d].each(i);return c},U2=(r,c)=>r!=null?c(r):N.none(),Vd=(r,c)=>r?N.some(c):N.none(),sh=(r,c,i)=>c===""||r.length>=c.length&&r.substr(i,i+c.length)===c,Wn=(r,c,i=0,d)=>{const m=r.indexOf(c,i);return m!==-1?Tr(d)?!0:m+c.length<=d:!1},Ud=(r,c)=>sh(r,c,0),Jc=(r,c)=>sh(r,c,r.length-c.length),oh=(r=>c=>c.replace(r,""))(/^\s+|\s+$/g),lt=r=>r.length>0,rh=r=>{const c=parseFloat(r);return isNaN(c)?N.none():N.some(c)},xo=r=>r.style!==void 0&&ks(r.style.getPropertyValue),ah=(r,c,i)=>{if(!kn(i))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",i,":: Element ",r),new Error("CSS value must be a string: "+i);xo(r)&&r.style.setProperty(c,i)},Wd=(r,c)=>{xo(r)&&r.style.removeProperty(c)},st=(r,c,i)=>{const d=r.dom;ah(d,c,i)},_n=(r,c)=>{const i=r.dom;wt(c,(d,m)=>{ah(i,m,d)})},Vr=(r,c)=>{const i=r.dom,m=window.getComputedStyle(i).getPropertyValue(c);return m===""&&!io(r)?ch(i,c):m},ch=(r,c)=>xo(r)?r.style.getPropertyValue(c):"",el=(r,c)=>{const i=r.dom,d=ch(i,c);return N.from(d).filter(m=>m.length>0)},Ro=(r,c)=>{const i=r.dom;Wd(i,c),Zd(Is(r,"style").map(oh),"")&&Rt(r,"style")},nn=(r,c)=>{const i=r.dom,d=c.dom;xo(i)&&xo(d)&&(d.style.cssText=i.style.cssText)},Hn=(r,c,i=0)=>Is(r,c).map(d=>parseInt(d,10)).getOr(i),jn=(r,c)=>Hn(r,c,1),zs=r=>Vn("col")(r)?Hn(r,"span",1)>1:jn(r,"colspan")>1,tl=r=>jn(r,"rowspan")>1,qt=(r,c)=>parseInt(Vr(r,c),10),nl=V(10),Pi=V(10),Wa=(r,c)=>jd(r,c,j),jd=(r,c,i)=>pn(jt(r),d=>Un(d,c)?i(d)?[d]:[]:jd(d,c,i)),W2=(r,c,i=nt)=>{if(i(c))return N.none();if(Ut(r,mt(c)))return N.some(c);const d=m=>Un(m,"table")||i(m);return Rs(c,r.join(","),d)},ja=(r,c)=>W2(["td","th"],r,c),Ur=r=>Wa(r,"th,td"),Bi=r=>Un(r,"colgroup")?Id(r,"col"):pn(Wr(r),c=>Id(c,"col")),qn=(r,c)=>tn(r,"table",c),lh=r=>Wa(r,"tr"),Wr=r=>qn(r).fold(V([]),c=>Id(c,"colgroup")),qd=(r,c)=>Ne(r,i=>{if(mt(i)==="colgroup"){const d=Ne(Bi(i),m=>{const g=Hn(m,"span",1);return $d(m,1,g)});return Ni(i,d,"colgroup")}else{const d=Ne(Ur(i),m=>{const g=Hn(m,"rowspan",1),b=Hn(m,"colspan",1);return $d(m,g,b)});return Ni(i,d,c(i))}}),qa=r=>Eo(r).map(c=>{const i=mt(c);return Y1(i)?i:"tbody"}).getOr("tbody"),ih=r=>{const c=lh(r),d=[...Wr(r),...c];return qd(d,qa)},Gd=(r,c)=>qd(r,()=>c),sl=r=>{let c=!1,i;return(...d)=>(c||(c=!0,i=r.apply(null,d)),i)},j2=(r,c,i,d)=>{const m=r.isiOS()&&/ipad/i.test(i)===!0,g=r.isiOS()&&!m,b=r.isiOS()||r.isAndroid(),w=b||d("(pointer:coarse)"),E=m||!g&&b&&d("(min-device-width:768px)"),_=g||b&&!E,P=c.isSafari()&&r.isiOS()&&/safari/i.test(i)===!1,W=!_&&!E&&!P;return{isiPad:V(m),isiPhone:V(g),isTablet:V(E),isPhone:V(_),isTouch:V(w),isAndroid:r.isAndroid,isiOS:r.isiOS,isWebView:V(P),isDesktop:V(W)}},q2=(r,c)=>{for(let i=0;i<r.length;i++){const d=r[i];if(d.test(c))return d}},ol=(r,c)=>{const i=q2(r,c);if(!i)return{major:0,minor:0};const d=m=>Number(c.replace(i,"$"+m));return Mi(d(1),d(2))},L3=(r,c)=>{const i=String(c).toLowerCase();return r.length===0?T():ol(r,i)},T=()=>Mi(0,0),Mi=(r,c)=>({major:r,minor:c}),Gn={nu:Mi,detect:L3,unknown:T},uh=(r,c)=>gs(c.brands,i=>{const d=i.brand.toLowerCase();return y(r,m=>{var g;return d===((g=m.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(m=>({current:m.name,version:Gn.nu(parseInt(i.version,10),0)}))}),dh=(r,c)=>{const i=String(c).toLowerCase();return y(r,d=>d.search(i))},G2=(r,c)=>dh(r,c).map(i=>{const d=Gn.detect(i.versionRegexes,c);return{current:i.name,version:d}}),Ke=(r,c)=>dh(r,c).map(i=>{const d=Gn.detect(i.versionRegexes,c);return{current:i.name,version:d}}),Zs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fo=r=>c=>Wn(c,r),To=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:r=>Wn(r,"edge/")&&Wn(r,"chrome")&&Wn(r,"safari")&&Wn(r,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zs],search:r=>Wn(r,"chrome")&&!Wn(r,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:r=>Wn(r,"msie")||Wn(r,"trident")},{name:"Opera",versionRegexes:[Zs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fo("firefox")},{name:"Safari",versionRegexes:[Zs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:r=>(Wn(r,"safari")||Wn(r,"mobile/"))&&Wn(r,"applewebkit")}],K2=[{name:"Windows",search:fo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:r=>Wn(r,"iphone")||Wn(r,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:fo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fo("linux"),versionRegexes:[]},{name:"Solaris",search:fo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ga={browsers:V(To),oses:V(K2)},ps="Edge",Li="Chromium",Kd="IE",fh="Opera",nr="Firefox",Ka="Safari",mh=()=>Yd({current:void 0,version:Gn.unknown()}),Yd=r=>{const c=r.current,i=r.version,d=m=>()=>c===m;return{current:c,version:i,isEdge:d(ps),isChromium:d(Li),isIE:d(Kd),isOpera:d(fh),isFirefox:d(nr),isSafari:d(Ka)}},sn={unknown:mh,nu:Yd,edge:V(ps),chromium:V(Li),ie:V(Kd),opera:V(fh),firefox:V(nr),safari:V(Ka)},jr="Windows",$i="iOS",Hi="Android",Ii="Linux",hh="macOS",gh="Solaris",Fi="FreeBSD",Xd="ChromeOS",Y2=()=>_o({current:void 0,version:Gn.unknown()}),_o=r=>{const c=r.current,i=r.version,d=m=>()=>c===m;return{current:c,version:i,isWindows:d(jr),isiOS:d($i),isAndroid:d(Hi),isMacOS:d(hh),isLinux:d(Ii),isSolaris:d(gh),isFreeBSD:d(Fi),isChromeOS:d(Xd)}},zi={unknown:Y2,nu:_o,windows:V(jr),ios:V($i),android:V(Hi),linux:V(Ii),macos:V(hh),solaris:V(gh),freebsd:V(Fi),chromeos:V(Xd)},X2={detect:(r,c,i)=>{const d=Ga.browsers(),m=Ga.oses(),g=c.bind(E=>uh(d,E)).orThunk(()=>G2(d,r)).fold(sn.unknown,sn.nu),b=Ke(m,r).fold(zi.unknown,zi.nu),w=j2(b,g,r,i);return{browser:g,os:b,deviceType:w}}},Q2=r=>window.matchMedia(r).matches;let ph=sl(()=>X2.detect(navigator.userAgent,N.from(navigator.userAgentData),Q2));const vh=()=>ph(),qr=(r,c)=>{const i=(w,E)=>{if(!_r(E)&&!E.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+E);const _=w.dom;xo(_)&&(_.style[r]=E+"px")},d=w=>{const E=c(w);if(E<=0||E===null){const _=Vr(w,r);return parseFloat(_)||0}return E},m=d,g=(w,E)=>qe(E,(_,P)=>{const W=Vr(w,P),ae=W===void 0?0:parseInt(W,10);return isNaN(ae)?_:_+ae},0);return{set:i,get:d,getOuter:m,aggregate:g,max:(w,E,_)=>{const P=g(w,_);return E>P?E-P:0}}},bh=(r,c)=>rh(r).getOr(c),rs=(r,c,i)=>bh(Vr(r,c),i),Gr=(r,c,i,d)=>{const m=rs(r,`padding-${i}`,0),g=rs(r,`padding-${d}`,0),b=rs(r,`border-${i}-width`,0),w=rs(r,`border-${d}-width`,0);return c-m-g-b-w},J2=(r,c)=>{const i=r.dom,d=i.getBoundingClientRect().width||i.offsetWidth;return c==="border-box"?d:Gr(r,d,"left","right")},ev=r=>rs(r,"height",r.dom.offsetHeight),tv=r=>rs(r,"width",r.dom.offsetWidth),rl=r=>J2(r,"content-box"),Ya=qr("width",r=>r.dom.offsetWidth),Kn=r=>Ya.get(r),Qd=r=>Ya.getOuter(r),sr=rl,nv=tv,Kr=(r,c,i)=>{const d=r.cells,m=d.slice(0,c),g=d.slice(c),b=m.concat(i).concat(g);return ef(r,b)},Jd=(r,c,i)=>Kr(r,c,[i]),al=(r,c,i)=>{const d=r.cells;d[c]=i},ef=(r,c)=>zr(r.element,c,r.section,r.isNew),Zi=(r,c)=>{const i=r.cells,d=Ne(i,c);return zr(r.element,d,r.section,r.isNew)},Yt=(r,c)=>r.cells[c],Yn=(r,c)=>Yt(r,c).element,Xn=r=>r.cells.length,on=r=>{const c=Td(r,i=>i.section==="colgroup");return{rows:c.fail,cols:c.pass}},tf=(r,c,i)=>{const d=Ne(r.cells,i);return zr(c(r.element),d,r.section,!0)},Vi="data-snooker-locked-cols",as=r=>Is(r,Vi).bind(c=>N.from(c.match(/\d+/g))).map(c=>Ge(c,j)),cs=r=>{const c=qe(on(r).rows,(d,m)=>(G(m.cells,(g,b)=>{g.isLocked&&(d[b]=!0)}),d),{}),i=So(c,(d,m)=>parseInt(m,10));return Ot(i)},Ui=(r,c)=>r+","+c,Pt=(r,c,i)=>N.from(r.access[Ui(c,i)]),Ch=(r,c,i)=>{const d=yh(r,m=>i(c,m.element));return d.length>0?N.some(d[0]):N.none()},yh=(r,c)=>{const i=pn(r.all,d=>d.cells);return $t(i,c)},Yr=r=>{const c={};let i=0;return G(r.cells,d=>{const m=d.colspan;Ct(m,g=>{const b=i+g;c[b]=L2(d.element,m,b)}),i+=m}),c},Xr=r=>{const c={},i=[],m=K(r).map(re=>re.element).bind(qn).bind(as).getOr({});let g=0,b=0,w=0;const{pass:E,fail:_}=Td(r,re=>re.section==="colgroup");G(_,re=>{const Z=[];G(re.cells,ce=>{let z=0;for(;c[Ui(w,z)]!==void 0;)z++;const me=Dr(m,z.toString()),xe=B2(ce.element,ce.rowspan,ce.colspan,w,z,me);for(let Ae=0;Ae<ce.colspan;Ae++)for(let ut=0;ut<ce.rowspan;ut++){const Qt=w+ut,St=z+Ae,Jn=Ui(Qt,St);c[Jn]=xe,b=Math.max(b,St+1)}Z.push(xe)}),g++,i.push(Ni(re.element,Z,re.section)),w++});const{columns:P,colgroups:W}=_d(E).map(re=>{const Z=Yr(re);return{colgroups:[ao(re.element,za(Z))],columns:Z}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:X1(g,b),access:c,all:i,columns:P,colgroups:W}},Me={fromTable:r=>{const c=ih(r);return Xr(c)},generate:Xr,getAt:Pt,findItem:Ch,filterItems:yh,justCells:r=>pn(r.all,c=>c.cells),justColumns:r=>za(r.columns),hasColumns:r=>ke(r.columns).length>0,getColumnAt:(r,c)=>N.from(r.columns[c])},nf=(r,c=j)=>{const i=r.grid,d=Ct(i.columns,Fe),m=Ct(i.rows,Fe);return Ne(d,g=>Sh(()=>pn(m,_=>Me.getAt(r,_,g).filter(P=>P.column===g).toArray()),_=>_.colspan===1&&c(_.element),()=>Me.getAt(r,0,g)))},Sh=(r,c,i)=>{const d=r();return y(d,c).orThunk(()=>N.from(d[0]).orThunk(i)).map(b=>b.element)},Eh=r=>{const c=r.grid,i=Ct(c.rows,Fe),d=Ct(c.columns,Fe);return Ne(i,m=>Sh(()=>pn(d,E=>Me.getAt(r,m,E).filter(_=>_.row===m).fold(V([]),_=>[_])),E=>E.rowspan===1,()=>Me.getAt(r,m,0)))},ov=(r,c)=>{if(c<0||c>=r.length-1)return N.none();const i=r[c].fold(()=>{const m=k2(r.slice(0,c));return gs(m,(g,b)=>g.map(w=>({value:w,delta:b+1})))},m=>N.some({value:m,delta:0})),d=r[c+1].fold(()=>{const m=r.slice(c+1);return gs(m,(g,b)=>g.map(w=>({value:w,delta:b+1})))},m=>N.some({value:m,delta:1}));return i.bind(m=>d.map(g=>{const b=g.delta+m.delta;return Math.abs(g.value-m.value)/b}))},kh=(r,c)=>i=>rv(i)==="rtl"?c:r,rv=r=>Vr(r,"direction")==="rtl"?"rtl":"ltr",xh=qr("height",r=>{const c=r.dom;return io(r)?c.getBoundingClientRect().height:c.offsetHeight}),Wi=r=>xh.get(r),Qr=r=>xh.getOuter(r),av=ev,cl=(r,c)=>({left:r,top:c,translate:(d,m)=>cl(r+d,c+m)}),No=cl,sf=r=>{const c=r.getBoundingClientRect();return No(c.left,c.top)},Xa=(r,c)=>r!==void 0?r:c!==void 0?c:0,Qa=r=>{const c=r.dom.ownerDocument,i=c.body,d=c.defaultView,m=c.documentElement;if(i===r.dom)return No(i.offsetLeft,i.offsetTop);const g=Xa(d==null?void 0:d.pageYOffset,m.scrollTop),b=Xa(d==null?void 0:d.pageXOffset,m.scrollLeft),w=Xa(m.clientTop,i.clientTop),E=Xa(m.clientLeft,i.clientLeft);return cv(r).translate(b-E,g-w)},cv=r=>{const c=r.dom,d=c.ownerDocument.body;return d===c?No(d.offsetLeft,d.offsetTop):io(r)?sf(c):No(0,0)},of=(r,c)=>({row:r,y:c}),rf=(r,c)=>({col:r,x:c}),Rh=r=>Qa(r).left+Qd(r),af=r=>Qa(r).left,un=(r,c)=>rf(r,af(c)),cf=(r,c)=>rf(r,Rh(c)),Bt=r=>Qa(r).top,Jr=(r,c)=>of(r,Bt(c)),ji=(r,c)=>of(r,Bt(c)+Qr(c)),ie=(r,c,i)=>{if(i.length===0)return[];const d=Ne(i.slice(1),(g,b)=>g.map(w=>r(b,w))),m=i[i.length-1].map(g=>c(i.length-1,g));return d.concat([m])},ll=r=>-r,vs={delta:Fe,positions:r=>ie(Jr,ji,r),edge:Bt},uf=kh({delta:Fe,edge:af,positions:r=>ie(un,cf,r)},{delta:ll,edge:Rh,positions:r=>ie(cf,un,r)}),mo={delta:(r,c)=>uf(c).delta(r,c),positions:(r,c)=>uf(c).positions(r,c),edge:r=>uf(r).edge(r)},iv={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ao=(()=>{const r="[0-9]+",i="[eE]"+("[+-]?"+r),d="\\.",m=w=>`(?:${w})?`,b=`[+-]?(?:${["Infinity",r+d+m(r)+m(i),d+r+m(i),r+m(i)].join("|")})`;return new RegExp(`^(${b})(.*)$`)})(),Th=(r,c)=>oe(c,i=>oe(iv[i],d=>r===d)),df=(r,c)=>N.from(Ao.exec(r)).bind(d=>{const m=Number(d[1]),g=d[2];return Th(g,c)?N.some({value:m,unit:g}):N.none()}),Y=/(\d+(\.\d+)?)%/,uv=/(\d+(\.\d+)?)px|em/,dv=Vn("col"),Do=(r,c,i)=>{const d=Ti(r).getOrThunk(()=>th(Kc(r)));return c(r)/i(d)*100},Ja=(r,c)=>{st(r,"width",c+"px")},qi=(r,c)=>{st(r,"width",c+"%")},gt=(r,c)=>{st(r,"height",c+"px")},_h=r=>av(r)+"px",Vs=(r,c,i,d)=>{const m=qn(r).map(g=>{const b=i(g);return Math.floor(c/100*b)}).getOr(c);return d(r,m),m},it=(r,c,i,d)=>{const m=parseFloat(r);return Jc(r,"%")&&mt(c)!=="table"?Vs(c,m,i,d):m},Gi=r=>{const c=_h(r);return c?it(c,r,Wi,gt):Wi(r)},fv=(r,c,i)=>{const d=i(r),m=jn(r,c);return d/m},Us=(r,c)=>el(r,c).orThunk(()=>Is(r,c).map(i=>i+"px")),ec=r=>Us(r,"width"),Nh=r=>Us(r,"height"),mv=r=>Do(r,Kn,sr),ea=r=>dv(r)?Kn(r):nv(r),Gt=r=>fv(r,"rowspan",Gi),ff=r=>ec(r).bind(i=>df(i,["fixed","relative","empty"])),Ah=(r,c,i)=>{st(r,"width",c+i)},I3=r=>Kn(r)+"px",Ki=r=>Do(r,Kn,sr)+"%",Yi=r=>ec(r).exists(c=>Y.test(c)),Dh=r=>ec(r).exists(c=>uv.test(c)),hv=r=>ec(r).isNone(),gv=V(Y),pv=Vn("col"),vv=r=>ec(r).getOrThunk(()=>ea(r)+"px"),bv=r=>Nh(r).getOrThunk(()=>Gt(r)+"px"),Cv=r=>Ne(Me.justColumns(r),c=>N.from(c.element)),yv=r=>{const c=vh().browser,i=c.isChromium()||c.isFirefox();return pv(r)?i:!0},mf=(r,c,i,d,m,g)=>r.filter(d).fold(()=>g(ov(i,c)),b=>m(b)),hf=(r,c,i,d)=>{const m=nf(r),g=Me.hasColumns(r)?Cv(r):m,b=[N.some(mo.edge(c))].concat(Ne(mo.positions(m,c),E=>E.map(_=>_.x))),w=Rn(zs);return Ne(g,(E,_)=>mf(E,_,b,w,P=>{if(yv(P))return i(P);{const W=U2(m[_],Fe);return mf(W,_,b,w,ae=>d(N.some(Kn(ae))),d)}},d))},Oh=r=>r.map(c=>c+"px").getOr(""),rr=(r,c)=>hf(r,c,vv,Oh),bs=(r,c,i)=>hf(r,c,mv,d=>d.fold(()=>i.minCellWidth(),m=>m/i.pixelWidth()*100)),gf=(r,c,i)=>hf(r,c,ea,d=>d.getOrThunk(i.minCellWidth)),il=(r,c,i,d,m)=>{const g=Eh(r),b=[N.some(i.edge(c))].concat(Ne(i.positions(g,c),w=>w.map(E=>E.y)));return Ne(g,(w,E)=>mf(w,E,b,Rn(tl),d,m))},ta=(r,c,i)=>il(r,c,i,Gt,d=>d.getOrThunk(Pi)),Ph=(r,c,i)=>il(r,c,i,bv,Oh),tc=(r,c)=>()=>io(r)?c(r):parseFloat(el(r,"width").getOr("0")),nc=r=>{const c=tc(r,Kn),i=V(0);return{width:c,pixelWidth:c,getWidths:(m,g)=>gf(m,r,g),getCellDelta:i,singleColumnWidth:V([0]),minCellWidth:i,setElementWidth:Se,adjustTableWidth:Se,isRelative:!0,label:"none"}},Bh=r=>{const c=tc(r,E=>parseFloat(Ki(E))),i=tc(r,Kn);return{width:c,pixelWidth:i,getWidths:(E,_)=>bs(E,r,_),getCellDelta:E=>E/i()*100,singleColumnWidth:(E,_)=>[100-E],minCellWidth:()=>nl()/i()*100,setElementWidth:qi,adjustTableWidth:E=>{const _=c(),P=E/100*_,W=_+P;qi(r,W)},isRelative:!0,label:"percent"}},sc=r=>{const c=tc(r,Kn);return{width:c,pixelWidth:c,getWidths:(b,w)=>gf(b,r,w),getCellDelta:Fe,singleColumnWidth:(b,w)=>[Math.max(nl(),b+w)-b],minCellWidth:nl,setElementWidth:Ja,adjustTableWidth:b=>{const w=c()+b;Ja(r,w)},isRelative:!1,label:"pixel"}},Xi=(r,c)=>gv().exec(c)!==null?Bh(r):sc(r),oc={getTableSize:r=>ec(r).fold(()=>nc(r),i=>Xi(r,i)),pixelSize:sc,percentageSize:Bh,noneSize:nc},wv=(r,c,i,d,m,g)=>({minRow:r,minCol:c,maxRow:i,maxCol:d,allCells:m,selectedCells:g}),Sv=(r,c)=>{const i=r.grid.columns;let m=r.grid.rows,g=i,b=0,w=0;const E=[],_=[];return wt(r.access,P=>{if(E.push(P),c(P)){_.push(P);const W=P.row,ae=W+P.rowspan-1,re=P.column,Z=re+P.colspan-1;W<m?m=W:ae>b&&(b=ae),re<g?g=re:Z>w&&(w=Z)}}),wv(m,g,b,w,E,_)},Qi=(r,c,i)=>{const d=r[i].element,m=le.fromTag("td");Tt(m,le.fromTag("br")),(c?Tt:Fs)(d,m)},ar=(r,c,i,d)=>{const m=$t(r,w=>w.section!=="colgroup"),g=c.grid.columns,b=c.grid.rows;for(let w=0;w<b;w++){let E=!1;for(let _=0;_<g;_++)w<i.minRow||w>i.maxRow||_<i.minCol||_>i.maxCol||(Me.getAt(c,w,_).filter(d).isNone()?Qi(m,E,w):E=!0)}},Ev=(r,c,i,d)=>{wt(i.columns,b=>{(b.column<c.minCol||b.column>c.maxCol)&&Ln(b.element)});const m=$t(Wa(r,"tr"),b=>b.dom.childElementCount===0);G(m,Ln),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&G(Wa(r,"th,td"),b=>{Rt(b,"rowspan"),Rt(b,"colspan")}),Rt(r,Vi),Rt(r,"data-snooker-col-series"),oc.getTableSize(r).adjustTableWidth(d)},dn=(r,c,i,d)=>{if(d.minCol===0&&c.grid.columns===d.maxCol+1)return 0;const m=gf(c,r,i),g=qe(m,(_,P)=>_+P,0),E=qe(m.slice(d.minCol,d.maxCol+1),(_,P)=>_+P,0)/g*i.pixelWidth()-i.pixelWidth();return i.getCellDelta(E)},Ji=(r,c)=>{const i=ae=>Un(ae.element,c),d=Fr(r),m=ih(d),g=oc.getTableSize(r),b=Me.generate(m),w=Sv(b,i),E="th:not("+c+"),td:not("+c+")",_=jd(d,"th,td",ae=>Un(ae,E));G(_,Ln),ar(m,b,w,i);const P=Me.fromTable(r),W=dn(r,P,g,w);return Ev(d,w,b,W),d},Oo=" ",cr=((r,c)=>{const i=g=>{if(!r(g))throw new Error("Can only get "+c+" value of a "+c+" node");return d(g).getOr("")},d=g=>r(g)?N.from(g.dom.nodeValue):N.none();return{get:i,getOption:d,set:(g,b)=>{if(!r(g))throw new Error("Can only set raw "+c+" value of a "+c+" node");g.dom.nodeValue=b}}})(Pr,"text"),lr=r=>cr.get(r),Po=r=>cr.getOption(r),Cs=(r,c)=>cr.set(r,c),Bo=r=>mt(r)==="img"?1:Po(r).fold(()=>jt(r).length,c=>c.length),kv=r=>Po(r).filter(c=>c.trim().length!==0||c.indexOf(Oo)>-1).isSome(),pf=r=>Oe(r)&&Mr(r,"contenteditable")==="false",vf=["img","br"],Mh=r=>kv(r)||Ut(vf,mt(r))||pf(r),ul=r=>V2(r,Mh),dl=r=>xv(r,Mh),xv=(r,c)=>{const i=d=>{const m=jt(d);for(let g=m.length-1;g>=0;g--){const b=m[g];if(c(b))return N.some(b);const w=i(b);if(w.isSome())return w}return N.none()};return i(r)},bf={scope:["row","col"]},eu=r=>()=>{const c=le.fromTag("td",r.dom);return Tt(c,le.fromTag("br",r.dom)),c},tu=r=>()=>le.fromTag("col",r.dom),Lh=r=>()=>le.fromTag("colgroup",r.dom),$h=r=>()=>le.fromTag("tr",r.dom),Rv=(r,c,i)=>{const d=q1(r,c);return wt(i,(m,g)=>{m===null?Rt(d,g):It(d,g,m)}),d},Tv=r=>r,Hh=(r,c,i)=>ul(r).map(m=>{const g=i.join(","),b=Di(m,g,w=>ct(w,r));return Fn(b,(w,E)=>{const _=j1(E);return Tt(w,_),_},c)}).getOr(c),_v=(r,c)=>{wt(bf,(i,d)=>Is(r,d).filter(m=>Ut(i,m)).each(m=>It(c,d,m)))},Cf=(r,c,i)=>{const d=(b,w)=>{nn(b.element,w),Ro(w,"height"),b.colspan!==1&&Ro(w,"width")},m=b=>{const w=le.fromTag(mt(b.element),c.dom),E=i.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),_=E.length>0?Hh(b.element,w,E):w;return Tt(_,le.fromTag("br")),d(b,w),_v(b.element,w),r(b.element,w),w};return{col:b=>{const w=le.fromTag(mt(b.element),c.dom);return d(b,w),r(b.element,w),w},colgroup:Lh(c),row:$h(c),cell:m,replace:Rv,colGap:tu(c),gap:eu(c)}},ys=r=>({col:tu(r),colgroup:Lh(r),row:$h(r),cell:eu(r),replace:Tv,colGap:tu(r),gap:eu(r)}),Nv=(r,c)=>{const d=(c||document).createElement("div");return d.innerHTML=r,jt(le.fromDom(d))},yf=r=>Ne(r,le.fromDom),na=r=>c=>c.options.get(r),Ih="100%",Fh=r=>{var c;const i=r.dom,d=(c=i.getParent(r.selection.getStart(),i.isBlock))!==null&&c!==void 0?c:r.getBody();return sr(le.fromDom(d))+"px"},zh=(r,c)=>fl(r)||!Uh(r)?c:Mo(r)?{...c,width:Fh(r)}:{...c,width:Ih},Av=(r,c)=>fl(r)||Uh(r)?c:Mo(r)?{...c,width:Fh(r)}:{...c,width:Ih},sa=r=>{const c=r.options.register;c("table_clone_elements",{processor:"string[]"}),c("table_use_colgroups",{processor:"boolean",default:!0}),c("table_header_type",{processor:i=>{const d=Ut(["section","cells","sectionCells","auto"],i);return d?{value:i,valid:d}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),c("table_sizing_mode",{processor:"string",default:"auto"}),c("table_default_attributes",{processor:"object",default:{border:"1"}}),c("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),c("table_column_resizing",{processor:i=>{const d=Ut(["preservetable","resizetable"],i);return d?{value:i,valid:d}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),c("table_resize_bars",{processor:"boolean",default:!0}),c("table_style_by_css",{processor:"boolean",default:!0}),c("table_merge_content_on_paste",{processor:"boolean",default:!0})},Zh=r=>N.from(r.options.get("table_clone_elements")),Dv=r=>{const c=r.options.get("object_resizing");return Ut(c.split(","),"table")},wf=na("table_header_type"),Sf=na("table_column_resizing"),Ef=r=>Sf(r)==="preservetable",Vh=r=>Sf(r)==="resizetable",kf=na("table_sizing_mode"),nu=r=>kf(r)==="relative",Mo=r=>kf(r)==="fixed",fl=r=>kf(r)==="responsive",Ov=na("table_resize_bars"),Uh=na("table_style_by_css"),Pv=na("table_merge_content_on_paste"),Mt=r=>{const c=r.options,i=c.get("table_default_attributes");return c.isSet("table_default_attributes")?i:Av(r,i)},ml=r=>{const c=r.options,i=c.get("table_default_styles");return c.isSet("table_default_styles")?i:zh(r,i)},Bv=na("table_use_colgroups"),su=r=>tn(r,"[contenteditable]"),rc=(r,c=!1)=>io(r)?r.dom.isContentEditable:su(r).fold(V(c),i=>xf(i)==="true"),xf=r=>r.dom.contentEditable,hl=r=>le.fromDom(r.getBody()),ac=r=>c=>ct(c,hl(r)),oa=r=>{Rt(r,"data-mce-style");const c=i=>Rt(i,"data-mce-style");G(Ur(r),c),G(Bi(r),c),G(lh(r),c)},ou=r=>le.fromDom(r.selection.getStart()),ru=r=>r.getBoundingClientRect().width,Wh=r=>r.getBoundingClientRect().height,Mv=(r,c)=>{const i=r.dom.getStyle(c,"width")||r.dom.getAttrib(c,"width");return N.from(i).filter(lt)},Rf=r=>/^(\d+(\.\d+)?)%$/.test(r),au=r=>/^(\d+(\.\d+)?)px$/.test(r),gl=r=>Fd(r,Vn("table")).exists(rc),ra=(r,c)=>{const i=c.column,d=c.column+c.colspan-1,m=c.row,g=c.row+c.rowspan-1;return i<=r.finishCol&&d>=r.startCol&&m<=r.finishRow&&g>=r.startRow},Lv=(r,c)=>c.column>=r.startCol&&c.column+c.colspan-1<=r.finishCol&&c.row>=r.startRow&&c.row+c.rowspan-1<=r.finishRow,jh=(r,c)=>{let i=!0;const d=Xe(Lv,c);for(let m=c.startRow;m<=c.finishRow;m++)for(let g=c.startCol;g<=c.finishCol;g++)i=i&&Me.getAt(r,m,g).exists(d);return i?N.some(c):N.none()},$v=(r,c)=>M2(Math.min(r.row,c.row),Math.min(r.column,c.column),Math.max(r.row+r.rowspan-1,c.row+c.rowspan-1),Math.max(r.column+r.colspan-1,c.column+c.colspan-1)),qh=(r,c,i)=>{const d=Me.findItem(r,c,ct),m=Me.findItem(r,i,ct);return d.bind(g=>m.map(b=>$v(g,b)))},Gh=(r,c,i)=>qh(r,c,i).bind(d=>jh(r,d)),Hv=(r,c,i,d)=>Me.findItem(r,c,ct).bind(m=>{const g=i>0?m.row+m.rowspan-1:m.row,b=d>0?m.column+m.colspan-1:m.column;return Me.getAt(r,g+i,b+d).map(E=>E.element)}),Tf=(r,c,i)=>qh(r,c,i).map(d=>{const m=Me.filterItems(r,Xe(ra,d));return Ne(m,g=>g.element)}),Kh=(r,c)=>{const i=(d,m)=>Pd(m,d);return Me.findItem(r,c,i).map(d=>d.element)},Yh=(r,c,i)=>qn(r).bind(d=>{const m=pl(d);return Hv(m,r,c,i)}),Z3=(r,c,i)=>{const d=pl(r);return Tf(d,c,i)},cu=(r,c,i,d,m)=>{const g=pl(r),b=ct(r,i)?N.some(c):Kh(g,c),w=ct(r,m)?N.some(d):Kh(g,d);return b.bind(E=>w.bind(_=>Tf(g,E,_)))},Iv=(r,c,i)=>{const d=pl(r);return Gh(d,c,i)},pl=Me.fromTable;var Fv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vl=()=>{const r=_=>le.fromDom(_.dom.cloneNode(!1)),c=_=>Yc(_).dom,i=_=>Zn(_)?mt(_)==="body"?!0:Ut(Fv,mt(_)):!1,d=_=>Zn(_)?Ut(["br","img","hr","input"],mt(_)):!1,m=_=>Zn(_)&&Mr(_,"contenteditable")==="false",g=(_,P)=>_.dom.compareDocumentPosition(P.dom),b=(_,P)=>{const W=er(_);Br(P,W)},w=_=>{const P=mt(_);return Ut(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],P)},E=_=>Zn(_)?Is(_,"lang"):N.none();return{up:V({selector:Rs,closest:tn,predicate:uo,all:$r}),down:V({selector:ko,predicate:Hd}),styles:V({get:Vr,getRaw:el,set:st,remove:Ro}),attrs:V({get:Mr,set:It,remove:Rt,copyTo:b}),insert:V({before:Hr,after:Ir,afterAll:Bd,append:Tt,appendAll:ro,prepend:Fs,wrap:U1}),remove:V({unwrap:W1,remove:Ln}),create:V({nu:le.fromTag,clone:r,text:le.fromText}),query:V({comparePosition:g,prevSibling:V1,nextSibling:Xc}),property:V({children:jt,name:mt,parent:Eo,document:c,isText:Pr,isComment:ht,isElement:Zn,isSpecial:w,getLanguage:E,getText:lr,setText:Cs,isBoundary:i,isEmptyTag:d,isNonEditable:m}),eq:ct,is:D2}};const zv=(r,c,i,d)=>{const m=i[0],g=i.slice(1);return d(r,c,m,g)},Zv=(r,c,i)=>i.length>0?zv(r,c,i,Vv):N.none(),Vv=(r,c,i,d)=>{const m=c(r,i);return Fn(d,(g,b)=>{const w=c(r,b);return _f(r,g,w)},m)},_f=(r,c,i)=>c.bind(d=>i.filter(Xe(r.eq,d))),Uv=(r,c)=>Xe(r.eq,c),lu=(r,c,i,d=nt)=>{const m=[c].concat(r.up().all(c)),g=[i].concat(r.up().all(i)),b=P=>Uc(P,d).fold(()=>P,ae=>P.slice(0,ae+1)),w=b(m),E=b(g),_=y(w,P=>oe(E,Uv(r,P)));return{firstpath:w,secondpath:E,shared:_}},iu=Zv,Wv=lu,Xh=vl(),Nf=(r,c)=>iu(Xh,(i,d)=>r(d),c),aa=(r,c,i)=>Wv(Xh,r,c,i),Af=r=>Rs(r,"table"),uu=(r,c,i)=>{const d=m=>g=>i!==void 0&&i(g)||ct(g,m);return ct(r,c)?N.some({boxes:N.some([r]),start:r,finish:c}):Af(r).bind(m=>Af(c).bind(g=>{if(ct(m,g))return N.some({boxes:Z3(m,r,c),start:r,finish:c});if(Pd(m,g)){const b=Di(c,"td,th",d(m)),w=b.length>0?b[b.length-1]:c;return N.some({boxes:cu(m,r,m,c,g),start:r,finish:w})}else if(Pd(g,m)){const b=Di(r,"td,th",d(g)),w=b.length>0?b[b.length-1]:r;return N.some({boxes:cu(g,r,m,c,g),start:r,finish:w})}else return aa(r,c).shared.bind(b=>tn(b,"table",i).bind(w=>{const E=Di(c,"td,th",d(w)),_=E.length>0?E[E.length-1]:c,P=Di(r,"td,th",d(w)),W=P.length>0?P[P.length-1]:r;return N.some({boxes:cu(w,r,m,c,g),start:W,finish:_})}))}))},du=(r,c)=>{const i=ko(r,c);return i.length>0?N.some(i):N.none()},Df=(r,c)=>y(r,i=>Un(i,c)),Of=(r,c,i)=>Qc(r,c).bind(d=>Qc(r,i).bind(m=>Nf(Af,[d,m]).map(g=>({first:d,last:m,table:g})))),jv=(r,c)=>Rs(r,"table").bind(i=>Qc(i,c).bind(d=>uu(d,r).bind(m=>m.boxes.map(g=>({boxes:g,start:m.start,finish:m.finish}))))),Qh=(r,c,i,d,m)=>Df(r,m).bind(g=>Yh(g,c,i).bind(b=>jv(b,d))),fu=(r,c)=>du(r,c),V3=(r,c,i)=>Of(r,c,i).bind(d=>{const m=E=>ct(r,E),g="thead,tfoot,tbody,table",b=Rs(d.first,g,m),w=Rs(d.last,g,m);return b.bind(E=>w.bind(_=>ct(E,_)?Iv(d.table,d.first,d.last):N.none()))}),qv=Fe,ir=r=>{const c=(d,m)=>Is(d,m).exists(g=>parseInt(g,10)>1),i=d=>c(d,"rowspan")||c(d,"colspan");return r.length>0&&hs(r,i)?N.some(r):N.none()},mu=(r,c,i)=>c.length<=1?N.none():V3(r,i.firstSelectedSelector,i.lastSelectedSelector).map(d=>({bounds:d,cells:c})),ca="data-mce-selected",Gv="td["+ca+"],th["+ca+"]",cc="["+ca+"]",rn="data-mce-first-selected",Pf="td["+rn+"],th["+rn+"]",hu="data-mce-last-selected",Kv="td["+hu+"],th["+hu+"]",fn=cc,ur={selected:ca,selectedSelector:Gv,firstSelected:rn,firstSelectedSelector:Pf,lastSelected:hu,lastSelectedSelector:Kv},bl=(r,c,i)=>({element:i,mergable:mu(c,r,ur),unmergable:ir(r),selection:qv(r)}),Yv=(r,c,i)=>({element:r,clipboard:c,generators:i}),Bf=(r,c,i,d)=>({selection:qv(r),clipboard:i,generators:d}),dr=r=>qn(r).bind(c=>fu(c,ur.firstSelectedSelector)).fold(V(r),c=>c[0]),gu=r=>(c,i)=>{const d=mt(c),m=d==="col"||d==="colgroup"?dr(c):c;return tn(m,r,i)},Xv=gu("th,td,caption"),Mf=gu("th,td"),ho=r=>yf(r.model.table.getSelectedCells()),Qv=r=>$t(ho(r),c=>Un(c,ur.selectedSelector)),Jh=r=>qn(r[0]).map(c=>{const i=Ji(c,fn);return oa(i),[i]}),Lf=(r,c)=>Ne(c,i=>r.selection.serializer.serialize(i.dom,{})).join(""),Jv=r=>Ne(r,c=>c.dom.innerText).join(""),eb=(r,c)=>{r.on("BeforeGetContent",i=>{const d=m=>{i.preventDefault(),Jh(m).each(g=>{i.content=i.format==="text"?Jv(g):Lf(r,g)})};if(i.selection===!0){const m=Qv(r);m.length>=1&&d(m)}}),r.on("BeforeSetContent",i=>{if(i.selection===!0&&i.paste===!0){const d=ho(r);K(d).each(m=>{qn(m).each(g=>{const b=$t(Nv(i.content),E=>mt(E)!=="meta"),w=Vn("table");if(Pv(r)&&b.length===1&&w(b[0])){i.preventDefault();const E=le.fromDom(r.getDoc()),_=ys(E),P=Yv(m,b[0],_);c.pasteCells(g,P).each(()=>{r.focus()})}})})}})},la=(r,c)=>({element:r,offset:c}),Cl=(r,c,i)=>r.property().isText(c)&&r.property().getText(c).trim().length===0||r.property().isComment(c)?i(c).bind(d=>Cl(r,d,i).orThunk(()=>N.some(d))):N.none(),eg=(r,c)=>r.property().isText(c)?r.property().getText(c).length:r.property().children(c).length,lc=(r,c)=>{const i=Cl(r,c,r.query().prevSibling).getOr(c);if(r.property().isText(i))return la(i,eg(r,i));const d=r.property().children(i);return d.length>0?lc(r,d[d.length-1]):la(i,eg(r,i))},tb=lc,ia=vl(),$f=r=>tb(ia,r),nb=(r,c)=>{zs(r)||ff(r).each(d=>{const m=d.value/2;Ah(r,m,d.unit),Ah(c,m,d.unit)})},ic=r=>Ne(r,V(0)),tg=(r,c,i,d,m)=>m(r.slice(0,c)).concat(d).concat(m(r.slice(i))),uc=r=>(c,i,d,m)=>{if(r(d)){const g=Math.max(m,c[i]-Math.abs(d)),b=Math.abs(g-c[i]);return d>=0?b:-b}else return d},yl=uc(r=>r<0),dc=uc(j),Hf=()=>{const r=(w,E,_,P,W)=>{const ae=yl(w,E,P,W);return tg(w,E,_+1,[ae,0],ic)},c=(w,E,_,P)=>{const W=(100+_)/100,ae=Math.max(P,(w[E]+_)/W);return Ne(w,(re,Z)=>(Z===E?ae:re/W)-re)},i=(w,E,_,P,W,ae)=>ae?c(w,E,P,W):r(w,E,_,P,W);return{resizeTable:(w,E)=>w(E),clampTableDelta:yl,calcLeftEdgeDeltas:i,calcMiddleDeltas:(w,E,_,P,W,ae,re)=>i(w,_,P,W,ae,re),calcRightEdgeDeltas:(w,E,_,P,W,ae)=>{if(ae)return c(w,_,P,W);{const re=yl(w,_,P,W);return ic(w.slice(0,_)).concat([re])}},calcRedestributedWidths:(w,E,_,P)=>{if(P){const ae=(E+_)/E,re=Ne(w,Z=>Z/ae);return{delta:ae*100-100,newSizes:re}}else return{delta:_,newSizes:w}}}},If=()=>{const r=(b,w,E,_,P)=>{const W=_>=0?E:w,ae=dc(b,W,_,P);return tg(b,w,E+1,[ae,-ae],ic)};return{resizeTable:(b,w,E)=>{E&&b(w)},clampTableDelta:(b,w,E,_,P)=>{if(P){if(E>=0)return E;{const W=qe(b,(ae,re)=>ae+re-_,0);return Math.max(-W,E)}}else return yl(b,w,E,_)},calcLeftEdgeDeltas:r,calcMiddleDeltas:(b,w,E,_,P,W)=>r(b,E,_,P,W),calcRightEdgeDeltas:(b,w,E,_,P,W)=>{if(W)return ic(b);{const ae=_/b.length;return Ne(b,V(ae))}},calcRedestributedWidths:(b,w,E,_)=>({delta:0,newSizes:b})}},pu=r=>Me.fromTable(r).grid,vu=Vn("th"),Qe=r=>hs(r,c=>vu(c.element)),sb=(r,c)=>r&&c?"sectionCells":r?"section":"cells",ng=r=>{const c=r.section==="thead",i=Zd(Ff(r.cells),"th");return r.section==="tfoot"?{type:"footer"}:c||i?{type:"header",subType:sb(c,i)}:{type:"body"}},Ff=r=>{const c=$t(r,i=>vu(i.element));return c.length===0?N.some("td"):c.length===r.length?N.some("th"):N.none()},bu=r=>{const c=Ne(r,m=>ng(m).type),i=Ut(c,"header"),d=Ut(c,"footer");if(!i&&!d)return N.some("body");{const m=Ut(c,"body");return i&&!m&&!d?N.some("header"):!i&&!m&&d?N.some("footer"):N.none()}},sg=r=>gs(r.all,c=>{const i=ng(c);return i.type==="header"?N.from(i.subType):N.none()}),Ws=(r,c,i)=>os(i(r.element,c),!0,r.isLocked),Ft=(r,c)=>r.section!==c?zr(r.element,r.cells,c,r.isNew):r,og=()=>({transformRow:Ft,transformCell:(r,c,i)=>{const d=i(r.element,c),m=mt(d)!=="td"?G1(d,"td"):d;return os(m,r.isNew,r.isLocked)}}),rg=()=>({transformRow:Ft,transformCell:Ws}),fc=()=>({transformRow:(r,c)=>Ft(r,c==="thead"?"tbody":c),transformCell:Ws}),Cu={getTableSectionType:(r,c)=>{const i=Me.fromTable(r);switch(sg(i).getOr(c)){case"section":return og();case"sectionCells":return rg();case"cells":return fc()}},section:og,sectionCells:rg,cells:fc,fallback:()=>({transformRow:Fe,transformCell:Ws})},yu=(r,c,i,d)=>{i===d?Rt(r,c):It(r,c,i)},rb=(r,c,i)=>{_d(Id(r,c)).fold(()=>Fs(r,i),d=>Ir(d,i))},U3=(r,c)=>{const i=zd(r,c).getOrThunk(()=>{const d=le.fromTag(c,Kc(r).dom);return c==="thead"?rb(r,"caption,colgroup",d):c==="colgroup"?rb(r,"caption",d):Tt(r,d),d});return _i(i),i},W3=(r,c)=>{const i=[],d=[],m=re=>Ne(re,Z=>{Z.isNew&&i.push(Z.element);const ce=Z.element;return _i(ce),G(Z.cells,z=>{z.isNew&&d.push(z.element),yu(z.element,"colspan",z.colspan,1),yu(z.element,"rowspan",z.rowspan,1),Tt(ce,z.element)}),ce}),g=re=>pn(re,Z=>Ne(Z.cells,ce=>(yu(ce.element,"span",ce.colspan,1),ce.element))),b=(re,Z)=>{const ce=U3(r,Z),me=(Z==="colgroup"?g:m)(re);ro(ce,me)},w=re=>{zd(r,re).each(Ln)},E=(re,Z)=>{re.length>0?b(re,Z):w(Z)},_=[],P=[],W=[],ae=[];return G(c,re=>{switch(re.section){case"thead":_.push(re);break;case"tbody":P.push(re);break;case"tfoot":W.push(re);break;case"colgroup":ae.push(re);break}}),E(ae,"colgroup"),E(_,"thead"),E(P,"tbody"),E(W,"tfoot"),{newRows:i,newCells:d}},j3=r=>Ne(r,c=>{const i=j1(c.element);return G(c.cells,d=>{const m=Fr(d.element);yu(m,"colspan",d.colspan,1),yu(m,"rowspan",d.rowspan,1),Tt(i,m)}),i}),q3=(r,c)=>Ne(r,i=>Yt(i,c)),js=(r,c)=>r[c],bn=(r,c)=>{if(r.length===0)return 0;const i=r[0];return Uc(r,m=>!c(i.element,m.element)).getOr(r.length)},ab=(r,c,i,d)=>{const m=js(r,c),g=m.section==="colgroup",b=bn(m.cells.slice(i),d),w=g?1:bn(q3(r.slice(c),i),d);return{colspan:b,rowspan:w}},cb=(r,c)=>{const i=Ne(r,m=>Ne(m.cells,nt)),d=(m,g,b,w)=>{for(let E=m;E<m+b;E++)for(let _=g;_<g+w;_++)i[E][_]=!0};return Ne(r,(m,g)=>{const b=pn(m.cells,(w,E)=>{if(i[g][E]===!1){const _=ab(r,g,E,c);return d(g,E,_.rowspan,_.colspan),[J1(w.element,_.rowspan,_.colspan,w.isNew)]}else return[]});return eh(m.element,b,m.section,m.isNew)})},Ts=(r,c,i)=>{const d=[];G(r.colgroups,m=>{const g=[];for(let b=0;b<r.grid.columns;b++){const w=Me.getColumnAt(r,b).map(E=>os(E.element,i,!1)).getOrThunk(()=>os(c.colGap(),!0,!1));g.push(w)}d.push(zr(m.element,g,"colgroup",i))});for(let m=0;m<r.grid.rows;m++){const g=[];for(let E=0;E<r.grid.columns;E++){const _=Me.getAt(r,m,E).map(P=>os(P.element,i,P.isLocked)).getOrThunk(()=>os(c.gap(),!0,!1));g.push(_)}const b=r.all[m],w=zr(b.element,g,b.section,i);d.push(w)}return d},wu=(r,c)=>Ts(r,c,!1),mc=r=>cb(r,ct),ua=(r,c)=>gs(r.all,i=>y(i.cells,d=>ct(c,d.element))),Lo=(r,c,i)=>{const d=Ne(c.selection,g=>ja(g).bind(b=>ua(r,b)).filter(i)),m=nh(d);return Vd(m.length>0,m)},_t=(r,c,i,d,m)=>(g,b,w,E)=>{const _=Me.fromTable(g),P=N.from(E==null?void 0:E.section).getOrThunk(Cu.fallback);return c(_,b).map(ae=>{const re=wu(_,w),Z=r(re,ae,ct,m(w),P),ce=cs(Z.grid),z=mc(Z.grid);return{info:ae,grid:z,cursor:Z.cursor,lockedColumns:ce}}).bind(ae=>{const re=W3(g,ae.grid),Z=N.from(E==null?void 0:E.sizing).getOrThunk(()=>oc.getTableSize(g)),ce=N.from(E==null?void 0:E.resize).getOrThunk(If);return i(g,ae.grid,ae.info,{sizing:Z,resize:ce,section:P}),d(g),Rt(g,Vi),ae.lockedColumns.length>0&&It(g,Vi,ae.lockedColumns.join(",")),N.some({cursor:ae.cursor,newRows:re.newRows,newCells:re.newCells})})},wl=(r,c)=>ja(c.element).bind(i=>ua(r,i).map(d=>({...d,generators:c.generators,clipboard:c.clipboard}))),da=(r,c)=>Lo(r,c,j).map(i=>({cells:i,generators:c.generators,clipboard:c.clipboard})),Sl=(r,c)=>c.mergable,cg=(r,c)=>c.unmergable,go=(r,c)=>Lo(r,c,j),$o=(r,c)=>Lo(r,c,i=>!i.isLocked),lg=(r,c)=>ua(r,c).exists(i=>!i.isLocked),zf=(r,c)=>hs(c,i=>lg(r,i)),ig=(r,c)=>Sl(r,c).filter(i=>zf(r,i.cells)),lb=(r,c)=>cg(r,c).filter(i=>zf(r,i)),ib=(r,c,i,d)=>{const m=on(r).rows;if(m.length===0)return r;for(let g=c.startRow;g<=c.finishRow;g++)for(let b=c.startCol;b<=c.finishCol;b++){const w=m[g],E=Yt(w,b).isLocked;al(w,b,os(d(),!1,E))}return r},ug=(r,c,i,d)=>{const m=on(r).rows;let g=!0;for(let b=0;b<m.length;b++)for(let w=0;w<Xn(m[0]);w++){const E=m[b],_=Yt(E,w),P=_.element,W=i(P,c);W&&!g?al(E,w,os(d(),!0,_.isLocked)):W&&(g=!1)}return r},dg=(r,c)=>qe(r,(i,d)=>oe(i,m=>c(m.element,d.element))?i:i.concat([d]),[]),El=(r,c,i,d)=>(c>0&&c<r[0].cells.length&&G(r,m=>{const g=m.cells[c-1];let b=0;const w=d();for(;m.cells.length>c+b&&i(g.element,m.cells[c+b].element);)al(m,c+b,os(w,!0,m.cells[c+b].isLocked)),b++}),r),ub=(r,c,i,d)=>{const m=on(r).rows;if(c>0&&c<m.length){const g=m[c-1].cells,b=dg(g,i);G(b,w=>{let E=N.none();for(let _=c;_<m.length;_++)for(let P=0;P<Xn(m[0]);P++){const W=m[_],ae=Yt(W,P);i(ae.element,w.element)&&(E.isNone()&&(E=N.some(d())),E.each(Z=>{al(W,P,os(Z,!0,ae.isLocked))}))}})}return r},fg=r=>{const c=g=>g(r),i=V(r),d=()=>m,m={tag:!0,inner:r,fold:(g,b)=>b(r),isValue:j,isError:nt,map:g=>kl.value(g(r)),mapError:d,bind:c,exists:c,forall:c,getOr:i,or:d,getOrThunk:i,orThunk:d,getOrDie:i,each:g=>{g(r)},toOptional:()=>N.some(r)};return m},Zf=r=>{const c=()=>i,i={tag:!1,inner:r,fold:(d,m)=>d(r),isValue:nt,isError:j,map:c,mapError:d=>kl.error(d(r)),bind:c,exists:nt,forall:j,getOr:Fe,or:Fe,getOrThunk:en,orThunk:en,getOrDie:Nr(String(r)),each:Se,toOptional:N.none};return i},kl={value:fg,error:Zf,fromOption:(r,c)=>r.fold(()=>Zf(c),fg)},db=(r,c,i)=>{if(r.row>=c.length||r.column>Xn(c[0]))return kl.error("invalid start address out of table bounds, row: "+r.row+", column: "+r.column);const d=c.slice(r.row),m=d[0].cells.slice(r.column),g=Xn(i[0]),b=i.length;return kl.value({rowDelta:d.length-b,colDelta:m.length-g})},Vf=(r,c)=>{const i=Xn(r[0]),d=Xn(c[0]);return{rowDelta:0,colDelta:i-d}},Uf=(r,c)=>{const i=r.length,d=c.length;return{rowDelta:i-d,colDelta:0}},Ho=(r,c,i,d)=>{const m=c.section==="colgroup"?i.col:i.cell;return Ct(r,g=>os(m(),!0,d(g)))},gc=(r,c,i,d)=>{const m=r[r.length-1];return r.concat(Ct(c,()=>{const g=m.section==="colgroup"?i.colgroup:i.row,b=tf(m,g,Fe),w=Ho(b.cells.length,b,i,E=>jc(d,E.toString()));return ef(b,w)}))},fa=(r,c,i,d)=>Ne(r,m=>{const g=Ho(c,m,i,nt);return Kr(m,d,g)}),mg=(r,c,i)=>Ne(r,d=>qe(i,(m,g)=>{const b=Ho(1,d,c,j)[0];return Jd(m,g,b)},d)),xl=(r,c,i)=>{const d=c.colDelta<0?fa:Fe,m=c.rowDelta<0?gc:Fe,g=cs(r),b=Xn(r[0]),w=oe(g,P=>P===b-1),E=d(r,Math.abs(c.colDelta),i,w?b-1:b),_=cs(E);return m(E,Math.abs(c.rowDelta),i,Ge(_,j))},hg=(r,c,i,d)=>{const m=Yt(r[c],i),g=Xe(d,m.element),b=r[c];return r.length>1&&Xn(b)>1&&(i>0&&g(Yn(b,i-1))||i<b.cells.length-1&&g(Yn(b,i+1))||c>0&&g(Yn(r[c-1],i))||c<r.length-1&&g(Yn(r[c+1],i)))},Rl=(r,c,i,d,m,g)=>{const b=r.row,w=r.column,E=i.length,_=Xn(i[0]),P=b+E,W=w+_+g.length,ae=Ge(g,j);for(let re=b;re<P;re++){let Z=0;for(let ce=w;ce<W;ce++){if(ae[ce]){Z++;continue}hg(c,re,ce,m)&&ug(c,Yn(c[re],ce),m,d.cell);const z=ce-w-Z,me=Yt(i[re-b],z),xe=me.element,Ae=d.replace(xe);al(c[re],ce,os(Ae,!0,me.isLocked))}}return c},Tl=(r,c,i)=>{const d=Xn(c[0]),m=on(c).cols.length+r.row,g=Ct(d-r.column,w=>w+r.column),b=y(g,w=>hs(i,E=>E!==w)).getOr(d-1);return{row:m,column:b}},gg=(r,c,i)=>$t(i,d=>d>=r.column&&d<=Xn(c[0])+r.column),fb=(r,c,i,d,m)=>{const g=cs(c),b=Tl(r,c,g),w=on(i).rows,E=gg(b,w,g);return db(b,c,w).map(P=>{const W={...P,colDelta:P.colDelta-E.length},ae=xl(c,W,d),re=cs(ae),Z=gg(b,w,re);return Rl(b,ae,w,d,m,Z)})},Wf=(r,c,i,d,m)=>{El(c,r,m,d.cell);const g=Uf(i,c),b=xl(i,g,d),w=Uf(c,b),E=xl(c,w,d);return Ne(E,(_,P)=>Kr(_,r,b[P].cells))},pg=(r,c,i,d,m)=>{ub(c,r,m,d.cell);const g=cs(c),b=Vf(c,i),w={...b,colDelta:b.colDelta-g.length},E=xl(c,w,d),{cols:_,rows:P}=on(E),W=cs(E),ae=Vf(i,c),re={...ae,colDelta:ae.colDelta+W.length},Z=mg(i,d,W),ce=xl(Z,re,d);return[..._,...P.slice(0,r),...ce,...P.slice(r,P.length)]},mb=(r,c,i,d)=>tf(r,m=>d(m,i),c),_l=(r,c,i,d,m)=>{const{rows:g,cols:b}=on(r),w=g.slice(0,c),E=g.slice(c),_=mb(g[i],(P,W)=>c>0&&c<g.length&&d(Yn(g[c-1],W),Yn(g[c],W))?Yt(g[c],W):os(m(P.element,d),!0,P.isLocked),d,m);return[...b,...w,_,...E]},fr=(r,c,i,d,m,g,b)=>{if(i==="colgroup"||!d){const w=Yt(r,m);return os(b(w.element,g),!0,!1)}else return Yt(r,c)},vg=(r,c,i,d,m)=>Ne(r,g=>{const b=c>0&&c<Xn(g)&&d(Yn(g,c-1),Yn(g,c)),w=fr(g,c,g.section,b,i,d,m);return Jd(g,c,w)}),hb=(r,c)=>pn(r,i=>{const d=i.cells,m=Fn(c,(g,b)=>b>=0&&b<g.length?g.slice(0,b).concat(g.slice(b+1)):g,d);return m.length>0?[zr(i.element,m,i.section,i.isNew)]:[]}),bg=(r,c,i)=>{const{rows:d,cols:m}=on(r);return[...m,...d.slice(0,c),...d.slice(i+1)]},gb=(r,c,i,d)=>Yn(r[c],i)!==void 0&&c>0&&d(Yn(r[c-1],i),Yn(r[c],i)),pb=(r,c,i)=>c>0&&i(Yn(r,c-1),Yn(r,c)),jf=(r,c,i,d)=>gb(r,c,i,d)||pb(r[c],i,d),vb=(r,c)=>hs(c,Fe)&&Qe(r.cells)?j:(d,m,g)=>!(mt(d.element)==="th"&&c[g]),Cg=(r,c)=>hs(c,Fe)&&Qe(r)?j:(d,m,g)=>!(mt(d.element)==="th"&&c[m]),yg=(r,c,i,d)=>{const m=b=>b==="row"?tl(c):zs(c),g=b=>m(b)?`${b}group`:b;return r?vu(c)?g(i):null:d&&vu(c)?g(i==="row"?"col":"row"):null},Nl=(r,c)=>(i,d,m)=>N.some(yg(r,i.element,"col",c[m])),bb=(r,c)=>(i,d)=>N.some(yg(r,i.element,"row",c[d])),pc=(r,c,i)=>os(i(r.element,c),!0,r.isLocked),Al=(r,c,i,d,m,g,b)=>{const w=E=>oe(c,_=>i(E.element,_.element));return Ne(r,(E,_)=>Zi(E,(P,W)=>{if(w(P)){const ae=b(P,_,W)?m(P,i,d):P;return g(ae,_,W).each(re=>{qc(ae.element,{scope:N.from(re)})}),ae}else return P}))},qf=(r,c,i)=>pn(r,(d,m)=>jf(r,m,c,i)?[]:[Yt(d,c)]),Su=(r,c,i)=>{const d=r[c];return pn(d.cells,(m,g)=>jf(r,c,g,i)?[]:[m])},Eu=(r,c,i,d,m)=>{const g=on(r).rows,b=pn(c,P=>qf(g,P,d)),w=Ne(g,P=>Qe(P.cells)),E=Cg(b,w),_=bb(i,w);return Al(r,b,d,m,pc,_,E)},Gf=(r,c,i,d,m,g,b)=>{const{cols:w,rows:E}=on(r),_=E[c[0]],P=pn(c,z=>Su(E,z,m)),W=Ne(_.cells,(z,me)=>Qe(qf(E,me,m))),ae=[...E];G(c,z=>{ae[z]=b.transformRow(E[z],i)});const re=[...w,...ae],Z=vb(_,W),ce=Nl(d,W);return Al(re,P,m,g,b.transformCell,ce,Z)},Kf=(r,c,i,d)=>{const m=on(r).rows,g=Ne(c,b=>Yt(m[b.row],b.column));return Al(r,g,i,d,pc,N.none,j)},ma={generate:r=>{if(!bt(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");const c=[],i={};return G(r,(d,m)=>{const g=ke(d);if(g.length!==1)throw new Error("one and only one name per case");const b=g[0],w=d[b];if(i[b]!==void 0)throw new Error("duplicate key detected:"+b);if(b==="cata")throw new Error("cannot have a case named cata (sorry)");if(!bt(w))throw new Error("case arguments must be an array");c.push(b),i[b]=(...E)=>{const _=E.length;if(_!==w.length)throw new Error("Wrong number of arguments to case "+b+". Expected "+w.length+" ("+w+"), got "+_);return{fold:(...W)=>{if(W.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+W.length);return W[m].apply(null,E)},match:W=>{const ae=ke(W);if(c.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+ae.join(","));if(!hs(c,Z=>Ut(ae,Z)))throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+c.join(", "));return W[b].apply(null,E)},log:W=>{console.log(W,{constructors:c,constructor:b,params:E})}}}}),i}},ha={...ma.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},mr=(r,c)=>r.length===0?ha.none():r.length===1?ha.only(0):c===0?ha.left(0,1):c===r.length-1?ha.right(c-1,c):c>0&&c<r.length-1?ha.middle(c-1,c,c+1):ha.none(),ga=(r,c,i,d,m)=>{const g=r.slice(0),b=mr(r,c),w=V(Ne(g,V(0))),E=ae=>d.singleColumnWidth(g[ae],i),_=(ae,re)=>m.calcLeftEdgeDeltas(g,ae,re,i,d.minCellWidth(),d.isRelative),P=(ae,re,Z)=>m.calcMiddleDeltas(g,ae,re,Z,i,d.minCellWidth(),d.isRelative),W=(ae,re)=>m.calcRightEdgeDeltas(g,ae,re,i,d.minCellWidth(),d.isRelative);return b.fold(w,E,_,P,W)},Sg=(r,c,i)=>{let d=0;for(let m=r;m<c;m++)d+=i[m]!==void 0?i[m]:0;return d},I=(r,c)=>{const i=Me.justCells(r);return Ne(i,d=>{const m=Sg(d.column,d.column+d.colspan,c);return{element:d.element,width:m,colspan:d.colspan}})},ku=(r,c)=>{const i=Me.justColumns(r);return Ne(i,(d,m)=>({element:d.element,width:c[m],colspan:d.colspan}))},Cb=(r,c)=>{const i=Me.justCells(r);return Ne(i,d=>{const m=Sg(d.row,d.row+d.rowspan,c);return{element:d.element,height:m,rowspan:d.rowspan}})},yb=(r,c)=>Ne(r.all,(i,d)=>({element:i.element,height:c[d]})),Yf=r=>Fn(r,(c,i)=>c+i,0),qs=(r,c)=>Me.hasColumns(r)?ku(r,c):I(r,c),xu=(r,c,i)=>{const d=qs(r,c);G(d,m=>{i.setElementWidth(m.element,m.width)})},Xf=(r,c,i,d,m)=>{const g=Me.fromTable(r),b=m.getCellDelta(c),w=m.getWidths(g,m),E=i===g.grid.columns-1,_=d.clampTableDelta(w,i,b,m.minCellWidth(),E),P=ga(w,i,_,m,d),W=Ne(P,(ae,re)=>ae+w[re]);xu(g,W,m),d.resizeTable(m.adjustTableWidth,_,E)},Eg=(r,c,i,d)=>{const m=Me.fromTable(r),g=ta(m,r,d),b=Ne(g,(P,W)=>i===W?Math.max(c+P,Pi()):P),w=Cb(m,b),E=yb(m,b);G(E,P=>{gt(P.element,P.height)}),G(w,P=>{gt(P.element,P.height)});const _=Yf(b);gt(r,_)},Qf=(r,c,i,d,m)=>{const g=Me.generate(c),b=d.getWidths(g,d),w=d.pixelWidth(),{newSizes:E,delta:_}=m.calcRedestributedWidths(b,w,i.pixelDelta,d.isRelative);xu(g,E,d),d.adjustTableWidth(_)},wb=(r,c,i,d)=>{const m=Me.generate(c),g=d.getWidths(m,d);xu(m,g,d)},pa=r=>qe(r,(i,d)=>oe(i,g=>g.column===d.column)?i:i.concat([d]),[]).sort((i,d)=>i.column-d.column),kg=Vn("col"),Jf=Vn("colgroup"),xg=r=>mt(r)==="tr"||Jf(r),Rg=r=>{const c=Hn(r,"colspan",1),i=Hn(r,"rowspan",1);return{element:r,colspan:c,rowspan:i}},Sb=(r,c=Rg)=>{const i=w=>kg(w.element)?r.col(w):r.cell(w),d=w=>Jf(w.element)?r.colgroup(w):r.row(w),m=w=>{if(xg(w))return d({element:w});{const E=w,_=i(c(E));return g=N.some({item:E,replacement:_}),_}};let g=N.none();return{getOrInit:(w,E)=>g.fold(()=>m(w),_=>E(w,_.item)?_.replacement:m(w))}},Eb=r=>c=>{const i=[],d=(b,w)=>y(i,E=>w(E.item,b)),m=b=>{const w=r==="td"?{scope:null}:{},E=c.replace(b,r,w);return i.push({item:b,sub:E}),E};return{replaceOrInit:(b,w)=>{if(xg(b)||kg(b))return b;{const E=b;return d(E,w).fold(()=>m(E),_=>w(b,_.item)?_.sub:m(E))}}}},em=r=>Is(r,"scope").map(c=>c.substr(0,3)),Qn={modification:Sb,transform:Eb,merging:r=>({unmerge:d=>{const m=em(d);return m.each(g=>It(d,"scope",g)),()=>{const g=r.cell({element:d,colspan:1,rowspan:1});return Ro(g,"width"),Ro(d,"width"),m.each(b=>It(g,"scope",b)),g}},merge:d=>{const m=()=>{const g=nh(Ne(d,em));if(g.length===0)return N.none();{const b=g[0],w=["row","col"];return oe(g,_=>_!==b&&Ut(w,_))?N.none():N.from(b)}};return Ro(d[0],"width"),m().fold(()=>Rt(d[0],"scope"),g=>It(d[0],"scope",g+"group")),V(d[0])}})},Tg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],kb=(r,c)=>{const i=r.property().name(c);return Ut(["ol","ul"],i)},nm=(r,c)=>{const i=r.property().name(c);return Ut(Tg,i)},_g=(r,c)=>Ut(["br","img","hr","input"],r.property().name(c)),Ru=vl(),Tu=r=>nm(Ru,r),xb=r=>kb(Ru,r),Ng=r=>_g(Ru,r),Rb=r=>{const c=Vn("br"),i=E=>hs(E,_=>c(_)||Pr(_)&&lr(_).trim().length===0),d=E=>mt(E)==="li"||uo(E,xb).isSome(),m=E=>Xc(E).map(_=>Tu(_)?!0:Ng(_)?mt(_)!=="img":!1).getOr(!1),g=E=>dl(E).bind(_=>{const P=m(_);return Eo(_).map(W=>P===!0||d(W)||c(_)||Tu(W)&&!ct(E,W)?[]:[le.fromTag("br")])}).getOr([]),w=(()=>{const E=pn(r,_=>{const P=jt(_);return i(P)?[]:P.concat(g(_))});return E.length===0?[le.fromTag("br")]:E})();_i(r[0]),ro(r[0],w)},Ag=r=>rc(r,!0),sm=r=>{Ur(r).length===0&&Ln(r)},Dl=(r,c)=>({grid:r,cursor:c}),Tb=r=>gs(r,c=>gs(c.cells,i=>{const d=i.element;return Vd(Ag(d),d)})),om=(r,c,i)=>{var d,m;const g=on(r).rows;return N.from((m=(d=g[c])===null||d===void 0?void 0:d.cells[i])===null||m===void 0?void 0:m.element).filter(Ag).orThunk(()=>Tb(g))},Nn=(r,c,i)=>{const d=om(r,c,i);return Dl(r,d)},Ol=r=>qe(r,(i,d)=>oe(i,g=>g.row===d.row)?i:i.concat([d]),[]).sort((i,d)=>i.row-d.row),K3=(r,c,i,d)=>{const m=c[0].row,g=Ol(c),b=Fn(g,(w,E)=>({grid:_l(w.grid,m,E.row+w.delta,i,d.getOrInit),delta:w.delta+1}),{grid:r,delta:0}).grid;return Nn(b,m,c[0].column)},In=(r,c,i,d)=>{const m=Ol(c),g=m[m.length-1],b=g.row+g.rowspan,w=Fn(m,(E,_)=>_l(E,b,_.row,i,d.getOrInit),r);return Nn(w,b,c[0].column)},Y3=(r,c,i,d)=>{const m=c.details,g=pa(m),b=g[0].column,w=Fn(g,(E,_)=>({grid:vg(E.grid,b,_.column+E.delta,i,d.getOrInit),delta:E.delta+1}),{grid:r,delta:0}).grid;return Nn(w,m[0].row,b)},po=(r,c,i,d)=>{const m=c.details,g=m[m.length-1],b=g.column+g.colspan,w=pa(m),E=Fn(w,(_,P)=>vg(_,b,P.column,i,d.getOrInit),r);return Nn(E,m[0].row,b)},_b=(r,c,i,d)=>{const m=pa(c),g=Ne(m,w=>w.column),b=Eu(r,g,!0,i,d.replaceOrInit);return Nn(b,c[0].row,c[0].column)},Nb=(r,c,i,d)=>{const m=Kf(r,c,i,d.replaceOrInit);return Nn(m,c[0].row,c[0].column)},Ab=(r,c,i,d)=>{const m=pa(c),g=Ne(m,w=>w.column),b=Eu(r,g,!1,i,d.replaceOrInit);return Nn(b,c[0].row,c[0].column)},Db=(r,c,i,d)=>{const m=Kf(r,c,i,d.replaceOrInit);return Nn(m,c[0].row,c[0].column)},_u=(r,c)=>(i,d,m,g,b)=>{const w=Ol(d),E=Ne(w,P=>P.row),_=Gf(i,E,r,c,m,g.replaceOrInit,b);return Nn(_,d[0].row,d[0].column)},Dg=_u("thead",!0),Ob=_u("tbody",!1),Og=_u("tfoot",!1),Pb=(r,c,i,d)=>{const m=pa(c.details),g=hb(r,Ne(m,w=>w.column)),b=g.length>0?g[0].cells.length-1:0;return Nn(g,m[0].row,Math.min(m[0].column,b))},rm=(r,c,i,d)=>{const m=Ol(c),g=bg(r,m[0].row,m[m.length-1].row),b=g.length>0?g.length-1:0;return Nn(g,Math.min(c[0].row,b),c[0].column)},Bb=(r,c,i,d)=>{const m=c.cells;Rb(m);const g=ib(r,c.bounds,i,d.merge(m));return Dl(g,N.from(m[0]))},Mb=(r,c,i,d)=>{const g=Fn(c,(b,w)=>ug(b,w,i,d.unmerge(w)),r);return Dl(g,N.from(c[0]))},Lb=(r,c,i,d)=>{const g=((E,_)=>{const P=Me.fromTable(E);return Ts(P,_,!0)})(c.clipboard,c.generators),b=Q1(c.row,c.column);return fb(b,r,g,c.generators,i).fold(()=>Dl(r,N.some(c.element)),E=>Nn(E,c.row,c.column))},Pl=(r,c,i)=>{const d=Gd(r,i.section),m=Me.generate(d);return Ts(m,c,!0)},ue=(r,c,i,d)=>{const m=on(r).rows,g=c.cells[0].column,b=m[c.cells[0].row],w=Pl(c.clipboard,c.generators,b),E=Wf(g,r,w,c.generators,i);return Nn(E,c.cells[0].row,c.cells[0].column)},am=(r,c,i,d)=>{const m=on(r).rows,g=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,b=m[c.cells[0].row],w=Pl(c.clipboard,c.generators,b),E=Wf(g,r,w,c.generators,i);return Nn(E,c.cells[0].row,c.cells[0].column)},Pg=(r,c,i,d)=>{const m=on(r).rows,g=c.cells[0].row,b=m[g],w=Pl(c.clipboard,c.generators,b),E=pg(g,r,w,c.generators,i);return Nn(E,c.cells[0].row,c.cells[0].column)},$b=(r,c,i,d)=>{const m=on(r).rows,g=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,b=m[c.cells[0].row],w=Pl(c.clipboard,c.generators,b),E=pg(g,r,w,c.generators,i);return Nn(E,c.cells[0].row,c.cells[0].column)},Hb=(r,c)=>{const i=Me.fromTable(r);return go(i,c).bind(m=>{const g=m[m.length-1],b=m[0].column,w=g.column+g.colspan,E=I1(Ne(i.all,_=>$t(_.cells,P=>P.column>=b&&P.column<w)));return Ff(E)}).getOr("")},Ib=(r,c)=>{const i=Me.fromTable(r);return go(i,c).bind(Ff).getOr("")},Bg=(r,c)=>{const i=Me.fromTable(r);return go(i,c).bind(m=>{const g=m[m.length-1],b=m[0].row,w=g.row+g.rowspan,E=i.all.slice(b,w);return bu(E)}).getOr("")},cm=(r,c,i,d)=>wb(r,c,i,d.sizing),lm=(r,c,i,d)=>Qf(r,c,i,d.sizing,d.resize),im=(r,c)=>oe(c,i=>i.column===0&&i.isLocked),Mg=(r,c)=>oe(c,i=>i.column+i.colspan>=r.grid.columns&&i.isLocked),An=(r,c)=>{const i=nf(r),d=pa(c);return qe(d,(m,g)=>{const w=i[g.column].map(Qd).getOr(0);return m+w},0)},vc=r=>(c,i)=>go(c,i).filter(d=>!(r?im:Mg)(c,d)).map(d=>({details:d,pixelDelta:An(c,d)})),Fb=(r,c)=>$o(r,c).map(i=>({details:i,pixelDelta:-An(r,i)})),Lg=r=>(c,i)=>da(c,i).filter(d=>!(r?im:Mg)(c,d.cells)),um=Qn.transform("th"),Nu=Qn.transform("td"),zb=_t(K3,go,Se,Se,Qn.modification),$g=_t(In,go,Se,Se,Qn.modification),Hg=_t(Y3,vc(!0),lm,Se,Qn.modification),Zb=_t(po,vc(!1),lm,Se,Qn.modification),Ig=_t(Pb,Fb,lm,sm,Qn.modification),Vb=_t(rm,go,Se,sm,Qn.modification),Ub=_t(_b,$o,Se,Se,um),Wb=_t(Ab,$o,Se,Se,Nu),jb=_t(Dg,$o,Se,Se,um),qb=_t(Ob,$o,Se,Se,Nu),Gb=_t(Og,$o,Se,Se,Nu),dm=_t(Nb,$o,Se,Se,um),Fg=_t(Db,$o,Se,Se,Nu),Kb=_t(Bb,ig,cm,Se,Qn.merging),zg=_t(Mb,lb,cm,Se,Qn.merging),Yb=_t(Lb,wl,cm,Se,Qn.modification),Xb=_t(ue,Lg(!0),Se,Se,Qn.modification),Qb=_t(am,Lg(!1),Se,Se,Qn.modification),Zg=_t(Pg,da,Se,Se,Qn.modification),Jb=_t($b,da,Se,Se,Qn.modification),eC=Hb,Vg=Ib,tC=Bg,Ug=(r,c)=>r.dispatch("NewRow",{node:c}),fm=(r,c)=>r.dispatch("NewCell",{node:c}),va=(r,c,i)=>{r.dispatch("TableModified",{...i,table:c})},bc=(r,c,i,d,m)=>{r.dispatch("TableSelectionChange",{cells:c,start:i,finish:d,otherCells:m})},nC=r=>{r.dispatch("TableSelectionClear")},mm=(r,c,i,d,m)=>{r.dispatch("ObjectResizeStart",{target:c,width:i,height:d,origin:m})},sC=(r,c,i,d,m)=>{r.dispatch("ObjectResized",{target:c,width:i,height:d,origin:m})},hr={structure:!1,style:!0},Xt={structure:!0,style:!1},oC={structure:!0,style:!0},Wg=(r,c)=>nu(r)?oc.percentageSize(c):Mo(r)?oc.pixelSize(c):oc.getTableSize(c),rC=(r,c,i)=>{const d=Bn=>mt(hl(Bn))==="table",m=Bn=>!d(r)||pu(Bn).rows>1,g=Bn=>!d(r)||pu(Bn).columns>1,b=Zh(r),w=Vh(r)?Se:nb,E=Bn=>{switch(wf(r)){case"section":return Cu.section();case"sectionCells":return Cu.sectionCells();case"cells":return Cu.cells();default:return Cu.getTableSectionType(Bn,"section")}},_=(Bn,c1)=>c1.cursor.fold(()=>{const Jl=Ur(Bn);return K(Jl).filter(io).map(Co=>{i.clearSelectedCells(Bn.dom);const hn=r.dom.createRng();return hn.selectNode(Co.dom),r.selection.setRng(hn),It(Co,"data-mce-selected","1"),hn})},Jl=>{const Co=$f(Jl),hn=r.dom.createRng();return hn.setStart(Co.element.dom,Co.offset),hn.setEnd(Co.element.dom,Co.offset),r.selection.setRng(hn),i.clearSelectedCells(Bn.dom),N.some(hn)}),P=(Bn,c1,Jl,Co)=>(hn,Jy,l1=!1)=>{oa(hn);const i1=le.fromDom(r.getDoc()),e4=Cf(Jl,i1,b),uS={sizing:Wg(r,hn),resize:Vh(r)?Hf():If(),section:E(hn)};return c1(hn)?Bn(hn,Jy,e4,uS).bind(ud=>{c.refresh(hn.dom),G(ud.newRows,ei=>{Ug(r,ei.dom)}),G(ud.newCells,ei=>{fm(r,ei.dom)});const t4=_(hn,ud);return io(hn)&&(oa(hn),l1||va(r,hn.dom,Co)),t4.map(ei=>({rng:ei,effect:Co}))}):N.none()},W=P(Vb,m,Se,Xt),ae=P(Ig,g,Se,Xt),re=P(zb,j,Se,Xt),Z=P($g,j,Se,Xt),ce=P(Hg,j,w,Xt),z=P(Zb,j,w,Xt),me=P(Kb,j,Se,Xt),xe=P(zg,j,Se,Xt),Ae=P(Xb,j,Se,Xt),ut=P(Qb,j,Se,Xt),Qt=P(Zg,j,Se,Xt),St=P(Jb,j,Se,Xt),Jn=P(Yb,j,Se,oC),Pc=P(dm,j,Se,Xt),Oa=P(Fg,j,Se,Xt),a1=P(Ub,j,Se,Xt),id=P(Wb,j,Se,Xt),je=P(jb,j,Se,Xt),Pn=P(qb,j,Se,Xt),yn=P(Gb,j,Se,Xt);return{deleteRow:W,deleteColumn:ae,insertRowsBefore:re,insertRowsAfter:Z,insertColumnsBefore:ce,insertColumnsAfter:z,mergeCells:me,unmergeCells:xe,pasteColsBefore:Ae,pasteColsAfter:ut,pasteRowsBefore:Qt,pasteRowsAfter:St,pasteCells:Jn,makeCellsHeader:Pc,unmakeCellsHeader:Oa,makeColumnsHeader:a1,unmakeColumnsHeader:id,makeRowsHeader:je,makeRowsBody:Pn,makeRowsFooter:yn,getTableRowType:tC,getTableCellType:Vg,getTableColType:eC}},jg=(r,c,i)=>{const d=Hn(r,c,1);i===1||d<=1?Rt(r,c):It(r,c,Math.min(i,d))},Au=(r,c)=>i=>{const d=i.column+i.colspan-1,m=i.column;return d>=r&&m<c},aC=(r,c,i)=>{if(Me.hasColumns(r)){const d=$t(Me.justColumns(r),Au(c,i)),m=Ne(d,b=>{const w=Fr(b.element);return jg(w,"span",i-c),w}),g=le.fromTag("colgroup");return ro(g,m),[g]}else return[]},cC=(r,c,i)=>Ne(r.all,d=>{const m=$t(d.cells,Au(c,i)),g=Ne(m,w=>{const E=Fr(w.element);return jg(E,"colspan",i-c),E}),b=le.fromTag("tr");return ro(b,g),b}),lC=(r,c)=>{const i=Me.fromTable(r);return $o(i,c).map(m=>{const g=m[m.length-1],b=m[0].column,w=g.column+g.colspan,E=aC(i,b,w),_=cC(i,b,w);return[...E,..._]})},iC=(r,c,i)=>{const d=Me.fromTable(r);return go(d,c).bind(g=>{const b=Ts(d,i,!1),E=on(b).rows.slice(g[0].row,g[g.length-1].row+g[g.length-1].rowspan),_=pn(E,W=>{const ae=$t(W.cells,re=>!re.isLocked);return ae.length>0?[{...W,cells:ae}]:[]}),P=mc(_);return Vd(P.length>0,P)}).map(g=>j3(g))},Bl=ma.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),qg=(r,c,i)=>{const d=i.substring(0,i.length-r.length),m=parseFloat(d);return d===m.toString()?c(m):Bl.invalid(i)},ba={...Bl,from:r=>Jc(r,"%")?qg("%",Bl.percent,r):Jc(r,"px")?qg("px",Bl.pixels,r):Bl.invalid(r)},Gg=(r,c)=>Ne(r,i=>ba.from(i).fold(()=>i,m=>m/c*100+"%",m=>m+"%")),Du=(r,c,i)=>{const d=i/c;return Ne(r,m=>ba.from(m).fold(()=>m,b=>b*d+"px",b=>b/100*i+"px"))},dC=(r,c)=>{const i=r.fold(()=>V(""),d=>{const m=d/c;return V(m+"px")},()=>{const d=100/c;return V(d+"%")});return Ct(c,i)},fC=(r,c,i)=>r.fold(()=>c,d=>Du(c,i,d),d=>Gg(c,i)),Kg=(r,c,i)=>{const d=ba.from(i),m=hs(r,g=>g==="0px")?dC(d,r.length):fC(d,r,c);return hC(m)},hm=(r,c)=>r.length===0?c:Fn(r,(i,d)=>ba.from(d).fold(V(0),Fe,Fe)+i,0),Yg=(r,c)=>{const i=Math.floor(r);return{value:i+c,remainder:r-i}},mC=(r,c)=>ba.from(r).fold(V(r),i=>i+c+"px",i=>i+c+"%"),hC=r=>{if(r.length===0)return r;const c=Fn(r,(d,m)=>{const g=ba.from(m).fold(()=>({value:m,remainder:0}),b=>Yg(b,"px"),b=>({value:b+"%",remainder:0}));return{output:[g.value].concat(d.output),remainder:d.remainder+g.remainder}},{output:[],remainder:0}),i=c.output;return i.slice(0,i.length-1).concat([mC(i[i.length-1],Math.round(c.remainder))])},gC=ba.from,pC=(r,c,i)=>{G(c,d=>{const m=r.slice(d.column,d.colspan+d.column),g=hm(m,nl());st(d.element,"width",g+i)})},vC=(r,c,i)=>{G(c,(d,m)=>{const g=hm([r[m]],nl());st(d.element,"width",g+i)})},bC=(r,c,i,d)=>{G(i,m=>{const g=r.slice(m.row,m.rowspan+m.row),b=hm(g,Pi());st(m.element,"height",b+d)}),G(c,(m,g)=>{st(m.element,"height",r[g])})},Xg=r=>gC(r).fold(V("px"),V("px"),V("%")),Qg=(r,c,i)=>{const d=Me.fromTable(r),m=d.all,g=Me.justCells(d),b=Me.justColumns(d);c.each(w=>{const E=Xg(w),_=Kn(r),P=rr(d,r),W=Kg(P,_,w);Me.hasColumns(d)?vC(W,b,E):pC(W,g,E),st(r,"width",w)}),i.each(w=>{const E=Xg(w),_=Wi(r),P=Ph(d,r,vs),W=Kg(P,_,w);bC(W,m,g,E),st(r,"height",w)})},Ml=Yi,Jg=Dh,ep=hv,Ou=r=>{Rt(r,"width")},Ll=r=>{const c=Ki(r);Qg(r,N.some(c),N.none()),Ou(r)},gm=r=>{const c=I3(r);Qg(r,N.some(c),N.none()),Ou(r)},tp=r=>{Ro(r,"width");const c=Bi(r),i=c.length>0?c:Ur(r);G(i,d=>{Ro(d,"width"),Ou(d)}),Ou(r)},CC={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},yC=()=>le.fromTag("th"),wC=()=>le.fromTag("td"),SC=()=>le.fromTag("col"),EC=(r,c,i,d)=>{const m=le.fromTag("tr");for(let g=0;g<r;g++){const b=d<c||g<i?yC():wC();g<i&&It(b,"scope","row"),d<c&&It(b,"scope","col"),Tt(b,le.fromTag("br")),Tt(m,b)}return m},kC=r=>{const c=le.fromTag("colgroup");return Ct(r,()=>Tt(c,SC())),c},pm=(r,c,i,d)=>Ct(r,m=>EC(c,i,d,m)),xC=(r,c,i,d,m,g=CC)=>{const b=le.fromTag("table"),w=m!=="cells";_n(b,g.styles),Br(b,g.attributes),g.colGroups&&Tt(b,kC(c));const E=Math.min(r,i);if(w&&i>0){const re=le.fromTag("thead");Tt(b,re);const ce=pm(i,c,m==="sectionCells"?E:0,d);ro(re,ce)}const _=le.fromTag("tbody");Tt(b,_);const P=w?r-E:r,ae=pm(P,c,w?0:i,d);return ro(_,ae),b},RC=r=>r.dom.innerHTML,TC=r=>{const c=le.fromTag("div"),i=le.fromDom(r.dom.cloneNode(!0));return Tt(c,i),RC(c)},_C=(r,c)=>{r.selection.select(c.dom,!0),r.selection.collapse(!0)},vm=(r,c)=>{Qc(c,"td,th").each(Xe(_C,r))},NC=(r,c)=>{G(ko(c,"tr"),i=>{Ug(r,i.dom),G(ko(i,"th,td"),d=>{fm(r,d.dom)})})},AC=r=>kn(r)&&r.indexOf("%")!==-1,DC=(r,c,i,d,m)=>{const g=ml(r),b={styles:g,attributes:Mt(r),colGroups:Bv(r)};return r.undoManager.ignore(()=>{const w=xC(i,c,m,d,wf(r),b);It(w,"data-mce-id","__mce");const E=TC(w);r.insertContent(E),r.addVisual()}),Qc(hl(r),'table[data-mce-id="__mce"]').map(w=>(Mo(r)?gm(w):fl(r)?tp(w):(nu(r)||AC(g.width))&&Ll(w),oa(w),Rt(w,"data-mce-id"),NC(r,w),vm(r,w),w.dom)).getOrNull()},OC=(r,c,i,d={})=>{const m=g=>_r(g)&&g>0;if(m(c)&&m(i)){const g=d.headerRows||0,b=d.headerColumns||0;return DC(r,i,c,b,g)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Pu=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const bm="x-tinymce/dom-table-",Cm=bm+"rows",ym=bm+"columns",np=r=>{const c=Pu.FakeClipboardItem(r);Pu.write([c])},wm=r=>{var c;const i=(c=Pu.read())!==null&&c!==void 0?c:[];return gs(i,d=>N.from(d.getType(r)))},Sm=r=>{wm(r).isSome()&&Pu.clear()},Em=r=>{r.fold(sp,c=>np({[Cm]:c}))},km=()=>wm(Cm),sp=()=>Sm(Cm),xm=r=>{r.fold(PC,c=>np({[ym]:c}))},op=()=>wm(ym),PC=()=>Sm(ym),Rm=r=>Xv(ou(r),ac(r)).filter(gl),BC=r=>Mf(ou(r),ac(r)).filter(gl),MC=(r,c)=>{const i=ac(r),d=()=>Rm(r).each(z=>{qn(z,i).filter(Rn(i)).each(me=>{const xe=le.fromText("");if(Ir(me,xe),Ln(me),r.dom.isEmpty(r.getBody()))r.setContent(""),r.selection.setCursorLocation();else{const Ae=r.dom.createRng();Ae.setStart(xe.dom,0),Ae.setEnd(xe.dom,0),r.selection.setRng(Ae),r.nodeChanged()}})}),m=z=>Rm(r).each(me=>{fl(r)||Mo(r)||nu(r)||qn(me,i).each(Ae=>{z==="relative"&&!Ml(Ae)?Ll(Ae):z==="fixed"&&!Jg(Ae)?gm(Ae):z==="responsive"&&!ep(Ae)&&tp(Ae),oa(Ae),va(r,Ae.dom,Xt)})}),g=z=>qn(z,i),b=z=>BC(r).bind(me=>g(me).map(xe=>z(xe,me))),w=(z,me)=>{b(xe=>{r.formatter.toggle("tableclass",{value:me},xe.dom),va(r,xe.dom,hr)})},E=(z,me)=>{b(xe=>{const Ae=ho(r),Qt=hs(Ae,St=>r.formatter.match("tablecellclass",{value:me},St.dom))?r.formatter.remove:r.formatter.apply;G(Ae,St=>Qt("tablecellclass",{value:me},St.dom)),va(r,xe.dom,hr)})},_=()=>{Rm(r).each(z=>{qn(z,i).each(me=>{zd(me,"caption").fold(()=>{const xe=le.fromTag("caption");Tt(xe,le.fromText("Caption")),P2(me,xe,0),r.selection.setCursorLocation(xe.dom,0)},xe=>{Vn("caption")(z)&&Od("td",me).each(Ae=>r.selection.setCursorLocation(Ae.dom,0)),Ln(xe)}),va(r,me.dom,Xt)})})},P=z=>{r.focus()},W=(z,me=!1)=>b((xe,Ae)=>{const ut=bl(ho(r),xe,Ae);z(xe,ut,me).each(P)}),ae=()=>b((z,me)=>{const xe=bl(ho(r),z,me),Ae=Cf(Se,le.fromDom(r.getDoc()),N.none());return iC(z,xe,Ae)}),re=()=>b((z,me)=>{const xe=bl(ho(r),z,me);return lC(z,xe)}),Z=(z,me)=>me().each(xe=>{const Ae=Ne(xe,ut=>Fr(ut));b((ut,Qt)=>{const St=ys(le.fromDom(r.getDoc())),Jn=Bf(ho(r),Qt,Ae,St);z(ut,Jn).each(P)})}),ce=z=>(me,xe)=>wi(xe,"type").each(Ae=>{W(z(Ae),xe.no_events)});wt({mceTableSplitCells:()=>W(c.unmergeCells),mceTableMergeCells:()=>W(c.mergeCells),mceTableInsertRowBefore:()=>W(c.insertRowsBefore),mceTableInsertRowAfter:()=>W(c.insertRowsAfter),mceTableInsertColBefore:()=>W(c.insertColumnsBefore),mceTableInsertColAfter:()=>W(c.insertColumnsAfter),mceTableDeleteCol:()=>W(c.deleteColumn),mceTableDeleteRow:()=>W(c.deleteRow),mceTableCutCol:()=>re().each(z=>{xm(z),W(c.deleteColumn)}),mceTableCutRow:()=>ae().each(z=>{Em(z),W(c.deleteRow)}),mceTableCopyCol:()=>re().each(z=>xm(z)),mceTableCopyRow:()=>ae().each(z=>Em(z)),mceTablePasteColBefore:()=>Z(c.pasteColsBefore,op),mceTablePasteColAfter:()=>Z(c.pasteColsAfter,op),mceTablePasteRowBefore:()=>Z(c.pasteRowsBefore,km),mceTablePasteRowAfter:()=>Z(c.pasteRowsAfter,km),mceTableDelete:d,mceTableCellToggleClass:E,mceTableToggleClass:w,mceTableToggleCaption:_,mceTableSizingMode:(z,me)=>m(me),mceTableCellType:ce(z=>z==="th"?c.makeCellsHeader:c.unmakeCellsHeader),mceTableColType:ce(z=>z==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader),mceTableRowType:ce(z=>{switch(z){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},(z,me)=>r.addCommand(me,z)),r.addCommand("mceInsertTable",(z,me)=>{OC(r,me.rows,me.columns,me.options)}),r.addCommand("mceTableApplyCellStyle",(z,me)=>{const xe=Qt=>"tablecell"+Qt.toLowerCase().replace("-","");if(!xn(me))return;const Ae=$t(ho(r),gl);if(Ae.length===0)return;const ut=oo(me,(Qt,St)=>r.formatter.has(xe(St))&&kn(Qt));Si(ut)||(wt(ut,(Qt,St)=>{const Jn=xe(St);G(Ae,Pc=>{Qt===""?r.formatter.remove(Jn,{value:null},Pc.dom,!0):r.formatter.apply(Jn,{value:Qt},Pc.dom)})}),g(Ae[0]).each(Qt=>va(r,Qt.dom,hr)))})},Ca=(r,c)=>{const i=ac(r),d=m=>Mf(ou(r)).bind(g=>qn(g,i).map(b=>{const w=bl(ho(r),b,g);return m(b,w)})).getOr("");wt({mceTableRowType:()=>d(c.getTableRowType),mceTableCellType:()=>d(c.getTableCellType),mceTableColType:()=>d(c.getTableColType)},(m,g)=>r.addQueryValueHandler(g,m))},Tm=ma.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),LC=(r,c,i,d)=>r.fold(c,i,d),$C=r=>r.fold(Fe,Fe,Fe),HC=Tm.before,rp=Tm.on,IC=Tm.after,Dn={before:HC,on:rp,after:IC,cata:LC,getStart:$C},vo={create:(r,c)=>({selection:r,kill:c})},$l=(r,c)=>{const i=r.document.createRange();return i.selectNode(c.dom),i},zC=(r,c)=>{const i=r.document.createRange();return _m(i,c),i},_m=(r,c)=>r.selectNodeContents(c.dom),ZC=(r,c)=>{c.fold(i=>{r.setStartBefore(i.dom)},(i,d)=>{r.setStart(i.dom,d)},i=>{r.setStartAfter(i.dom)})},ap=(r,c)=>{c.fold(i=>{r.setEndBefore(i.dom)},(i,d)=>{r.setEnd(i.dom,d)},i=>{r.setEndAfter(i.dom)})},Nm=(r,c,i)=>{const d=r.document.createRange();return ZC(d,c),ap(d,i),d},Bu=(r,c,i,d,m)=>{const g=r.document.createRange();return g.setStart(c.dom,i),g.setEnd(d.dom,m),g},VC=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}),UC=r=>{const c=r.getClientRects(),i=c.length>0?c[0]:r.getBoundingClientRect();return i.width>0||i.height>0?N.some(i).map(VC):N.none()},Hl=ma.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ya=(r,c,i)=>c(le.fromDom(i.startContainer),i.startOffset,le.fromDom(i.endContainer),i.endOffset),wa=(r,c)=>c.match({domRange:i=>({ltr:V(i),rtl:N.none}),relative:(i,d)=>({ltr:sl(()=>Nm(r,i,d)),rtl:sl(()=>N.some(Nm(r,d,i)))}),exact:(i,d,m,g)=>({ltr:sl(()=>Bu(r,i,d,m,g)),rtl:sl(()=>N.some(Bu(r,m,g,i,d)))})}),Mu=(r,c)=>{const i=c.ltr();return i.collapsed?c.rtl().filter(m=>m.collapsed===!1).map(m=>Hl.rtl(le.fromDom(m.endContainer),m.endOffset,le.fromDom(m.startContainer),m.startOffset)).getOrThunk(()=>ya(r,Hl.ltr,i)):ya(r,Hl.ltr,i)},Cc=(r,c)=>{const i=wa(r,c);return Mu(r,i)},Am=(r,c)=>Cc(r,c).match({ltr:(d,m,g,b)=>{const w=r.document.createRange();return w.setStart(d.dom,m),w.setEnd(g.dom,b),w},rtl:(d,m,g,b)=>{const w=r.document.createRange();return w.setStart(g.dom,b),w.setEnd(d.dom,m),w}});Hl.ltr,Hl.rtl;const ls={create:(r,c,i,d)=>({start:r,soffset:c,finish:i,foffset:d})},Dm={create:(r,c,i,d)=>({start:Dn.on(r,c),finish:Dn.on(i,d)})},lp=(r,c)=>{const i=Am(r,c);return ls.create(le.fromDom(i.startContainer),i.startOffset,le.fromDom(i.endContainer),i.endOffset)},Il=Dm.create,Fl=(r,c,i,d,m,g,b)=>ct(i,m)&&d===g?N.none():tn(i,"td,th",c).bind(w=>tn(m,"td,th",c).bind(E=>yc(r,c,w,E,b))),yc=(r,c,i,d,m)=>ct(i,d)?N.none():uu(i,d,c).bind(g=>{const b=g.boxes.getOr([]);return b.length>1?(m(r,b,g.start,g.finish),N.some(vo.create(N.some(Il(i,0,i,Bo(i))),!0))):N.none()}),Om=(r,c,i,d,m)=>{const g=b=>(m.clearBeforeUpdate(i),m.selectRange(i,b.boxes,b.start,b.finish),b.boxes);return Qh(d,r,c,m.firstSelectedSelector,m.lastSelectedSelector).map(g)},Lu=(r,c)=>({item:r,mode:c}),wc=(r,c,i,d=Io)=>r.property().parent(c).map(m=>Lu(m,d)),Io=(r,c,i,d=zl)=>i.sibling(r,c).map(m=>Lu(m,d)),zl=(r,c,i,d=zl)=>{const m=r.property().children(c);return i.first(m).map(b=>Lu(b,d))},Pm=[{current:wc,next:Io,fallback:N.none()},{current:Io,next:zl,fallback:N.some(wc)},{current:zl,next:zl,fallback:N.some(Io)}],Zl=(r,c,i,d,m=Pm)=>y(m,b=>b.current===i).bind(b=>b.current(r,c,d,b.next).orThunk(()=>b.fallback.bind(w=>Zl(r,c,w,d)))),Gs={left:()=>({sibling:(i,d)=>i.query().prevSibling(d),first:i=>i.length>0?N.some(i[i.length-1]):N.none()}),right:()=>({sibling:(i,d)=>i.query().nextSibling(d),first:i=>i.length>0?N.some(i[0]):N.none()})},$u=(r,c,i,d,m,g)=>Zl(r,c,d,m).bind(w=>g(w.item)?N.none():i(w.item)?N.some(w.item):$u(r,w.item,i,w.mode,m,g)),Bm=(r,c,i,d)=>$u(r,c,i,Io,Gs.left(),d),Sc=(r,c,i,d)=>$u(r,c,i,Io,Gs.right(),d),Mm=r=>c=>r.property().children(c).length===0,Hu=(r,c,i)=>Lm(r,c,Mm(r),i),WC=(r,c,i)=>$m(r,c,Mm(r),i),Lm=Bm,$m=Sc,Iu=vl(),Fu=(r,c)=>Hu(Iu,r,c),Ks=(r,c)=>WC(Iu,r,c),jC=(r,c,i)=>Lm(Iu,r,c,i),qC=(r,c,i)=>$m(Iu,r,c,i),ip=(r,c,i)=>uo(r,c,i).isSome(),Vl=ma.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),up=(r,c,i)=>{const d=r.getRect(c),m=r.getRect(i);return m.right>d.left&&m.left<d.right},GC=r=>tn(r,"tr"),bo={...Vl,verify:(r,c,i,d,m,g,b)=>tn(d,"td,th",b).bind(w=>tn(c,"td,th",b).map(E=>ct(w,E)?ct(d,w)&&Bo(w)===m?g(E):Vl.none("in same cell"):Nf(GC,[w,E]).fold(()=>up(r,E,w)?Vl.success():g(E),_=>g(E)))).getOr(Vl.none("default")),cata:(r,c,i,d,m)=>r.fold(c,i,d,m)},dp=(r,c,i,d)=>({parent:r,children:c,element:i,index:d}),Ec=r=>Eo(r).bind(c=>{const i=jt(c);return On(i,r).map(d=>dp(c,i,r,d))}),On=(r,c)=>Uc(r,Xe(ct,c)),Cn=Vn("br"),mn=(r,c,i)=>c(r,i).bind(d=>Pr(d)&&lr(d).trim().length===0?mn(d,c,i):N.some(d)),Ns=(r,c,i)=>i.traverse(c).orThunk(()=>mn(c,i.gather,r)).map(i.relative),Hm=(r,c)=>tr(r,c).filter(Cn).orThunk(()=>tr(r,c-1).filter(Cn)),As=(r,c,i,d)=>Hm(c,i).bind(m=>d.traverse(m).fold(()=>mn(m,d.gather,r).map(d.relative),g=>Ec(g).map(b=>Dn.on(b.parent,b.index)))),Ea=(r,c,i,d)=>(Cn(c)?Ns(r,c,d):As(r,c,i,d)).map(g=>({start:g,finish:g})),KC=r=>bo.cata(r,c=>N.none(),()=>N.none(),c=>N.some(la(c,0)),c=>N.some(la(c,Bo(c)))),zu=(r,c)=>({left:r.left,top:r.top+c,right:r.right,bottom:r.bottom+c}),Zu=(r,c)=>({left:r.left,top:r.top-c,right:r.right,bottom:r.bottom-c}),Im=(r,c,i)=>({left:r.left+c,top:r.top+i,right:r.right+c,bottom:r.bottom+i}),fp=r=>r.top,Vu=r=>r.bottom,mp=(r,c,i)=>i>=0&&i<Bo(c)?r.getRangedRect(c,i,c,i+1):i>0?r.getRangedRect(c,i-1,c,i):N.none(),Uu=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom}),hp=(r,c)=>N.some(r.getRect(c)),gp=(r,c,i)=>Zn(c)?hp(r,c).map(Uu):Pr(c)?mp(r,c,i).map(Uu):N.none(),pp=(r,c)=>Zn(c)?hp(r,c).map(Uu):Pr(c)?r.getRangedRect(c,0,c,Bo(c)).map(Uu):N.none(),gr=5,vp=100,Ds=ma.generate([{none:[]},{retry:["caret"]}]),bp=(r,c)=>r.left<c.left||Math.abs(c.right-r.left)<1||r.left>c.right,Cp=(r,c,i)=>Fd(c,Tu).fold(nt,d=>pp(r,d).exists(m=>bp(i,m))),YC=(r,c,i,d,m)=>{const g=zu(m,gr);return Math.abs(i.bottom-d.bottom)<1||i.top>m.bottom?Ds.retry(g):i.top===m.bottom?Ds.retry(zu(m,1)):Cp(r,c,m)?Ds.retry(Im(g,gr,0)):Ds.none()},XC={point:fp,adjuster:(r,c,i,d,m)=>{const g=Zu(m,gr);return Math.abs(i.top-d.top)<1||i.bottom<m.top?Ds.retry(g):i.bottom===m.top?Ds.retry(Zu(m,1)):Cp(r,c,m)?Ds.retry(Im(g,gr,0)):Ds.none()},move:Zu,gather:Fu},QC={point:Vu,adjuster:YC,move:zu,gather:Ks},JC=(r,c,i)=>r.elementFromPoint(c,i).filter(d=>mt(d)==="table").isSome(),ws=(r,c,i,d,m)=>yp(r,c,i,c.move(d,gr),m),yp=(r,c,i,d,m)=>m===0?N.some(d):JC(r,d.left,c.point(d))?ws(r,c,i,d,m-1):r.situsFromPoint(d.left,c.point(d)).bind(g=>g.start.fold(N.none,b=>pp(r,b).bind(w=>c.adjuster(r,b,w,i,d).fold(N.none,E=>yp(r,c,i,E,m-1))).orThunk(()=>N.some(d)),N.none)),Wu=(r,c,i)=>r.point(c)>i.getInnerHeight()?N.some(r.point(c)-i.getInnerHeight()):r.point(c)<0?N.some(-r.point(c)):N.none(),ka=(r,c,i)=>{const d=r.move(i,gr),m=yp(c,r,i,d,vp).getOr(d);return Wu(r,m,c).fold(()=>c.situsFromPoint(m.left,r.point(m)),g=>(c.scrollBy(0,g),c.situsFromPoint(m.left,r.point(m)-g)))},Ul={tryUp:Xe(ka,XC),tryDown:Xe(ka,QC),getJumpSize:V(gr)},ey=20,ty=(r,c,i)=>r.getSelection().bind(d=>Ea(c,d.finish,d.foffset,i).fold(()=>N.some(la(d.finish,d.foffset)),m=>{const g=r.fromSitus(m),b=bo.verify(r,d.finish,d.foffset,g.finish,g.foffset,i.failure,c);return KC(b)})),Wl=(r,c,i,d,m,g)=>g===0?N.none():ny(r,c,i,d,m).bind(b=>{const w=r.fromSitus(b),E=bo.verify(r,i,d,w.finish,w.foffset,m.failure,c);return bo.cata(E,()=>N.none(),()=>N.some(b),_=>ct(i,_)&&d===0?wp(r,i,d,Zu,m):Wl(r,c,_,0,m,g-1),_=>ct(i,_)&&d===Bo(_)?wp(r,i,d,zu,m):Wl(r,c,_,Bo(_),m,g-1))}),wp=(r,c,i,d,m)=>gp(r,c,i).bind(g=>Sp(r,m,d(g,Ul.getJumpSize()))),Sp=(r,c,i)=>{const d=vh().browser;return d.isChromium()||d.isSafari()||d.isFirefox()?c.retry(r,i):N.none()},ny=(r,c,i,d,m)=>gp(r,i,d).bind(g=>Sp(r,m,g)),Ep=(r,c,i)=>ty(r,c,i).bind(d=>Wl(r,c,d.element,d.offset,i,ey).map(r.fromSitus)),kp=(r,c)=>ip(r,i=>Eo(i).exists(d=>ct(d,c))),xp=(r,c,i,d,m)=>tn(d,"td,th",c).bind(g=>tn(g,"table",c).bind(b=>kp(m,b)?Ep(r,c,i).bind(w=>tn(w.finish,"td,th",c).map(E=>({start:g,finish:E,range:w}))):N.none())),jl=(r,c,i,d,m,g)=>g(d,c).orThunk(()=>xp(r,c,i,d,m).map(b=>{const w=b.range;return vo.create(N.some(Il(w.start,w.soffset,w.finish,w.foffset)),!0)})),Fm=(r,c)=>tn(r,"tr",c).bind(i=>tn(i,"table",c).bind(d=>{const m=ko(d,"tr");return ct(i,m[0])?jC(d,g=>dl(g).isSome(),c).map(g=>{const b=Bo(g);return vo.create(N.some(Il(g,b,g,b)),!0)}):N.none()})),sy=(r,c)=>tn(r,"tr",c).bind(i=>tn(i,"table",c).bind(d=>{const m=ko(d,"tr");return ct(i,m[m.length-1])?qC(d,g=>ul(g).isSome(),c).map(g=>vo.create(N.some(Il(g,0,g,0)),!0)):N.none()})),Rp=(r,c,i,d,m,g,b)=>xp(r,i,d,m,g).bind(w=>yc(c,i,w.start,w.finish,b)),zm=r=>{let c=r;return{get:()=>c,set:m=>{c=m}}},oy=r=>{const c=zm(N.none()),i=()=>c.get().each(r);return{clear:()=>{i(),c.set(N.none())},isSet:()=>c.get().isSome(),get:()=>c.get(),set:w=>{i(),c.set(N.some(w))}}},ql=()=>{const r=oy(Se);return{...r,on:i=>r.get().each(i)}},xa=(r,c)=>tn(r,"td,th",c),Gl=r=>Ti(r).exists(rc),ry=(r,c,i,d)=>{const m=ql(),g=m.clear,b=P=>{m.on(W=>{d.clearBeforeUpdate(c),xa(P.target,i).each(ae=>{uu(W,ae,i).each(re=>{const Z=re.boxes.getOr([]);if(Z.length===1){const ce=Z[0],z=xf(ce)==="false",me=Zd(su(P.target),ce,ct);z&&me&&(d.selectRange(c,Z,ce,ce),r.selectContents(ce))}else Z.length>1&&(d.selectRange(c,Z,re.start,re.finish),r.selectContents(ae))})})})};return{clearstate:g,mousedown:P=>{d.clear(c),xa(P.target,i).filter(Gl).each(m.set)},mouseover:P=>{b(P)},mouseup:P=>{b(P),g()}}},Tp={traverse:Xc,gather:Ks,relative:Dn.before,retry:Ul.tryDown,failure:bo.failedDown},Zm={traverse:V1,gather:Fu,relative:Dn.before,retry:Ul.tryUp,failure:bo.failedUp},pr=r=>c=>c===r,Kl=pr(38),kc=pr(40),Fo=r=>r>=37&&r<=40,Vm={isBackward:pr(37),isForward:pr(39)},_p={isBackward:pr(39),isForward:pr(37)},Yl=r=>{const c=r!==void 0?r.dom:document,i=c.body.scrollLeft||c.documentElement.scrollLeft,d=c.body.scrollTop||c.documentElement.scrollTop;return No(i,d)},Um=(r,c,i)=>{const m=(i!==void 0?i.dom:document).defaultView;m&&m.scrollBy(r,c)},ju=ma.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ra=r=>ju.exact(r.start,r.soffset,r.finish,r.foffset),Np=r=>r.match({domRange:c=>le.fromDom(c.startContainer),relative:(c,i)=>Dn.getStart(c),exact:(c,i,d,m)=>c}),ay=ju.domRange,Ap=ju.relative,Wm=ju.exact,xc=r=>{const c=Np(r);return ln(c)},jm=ls.create,Rc={domRange:ay,relative:Ap,exact:Wm,exactFromRange:Ra,getWin:xc,range:jm},cy=(r,c,i)=>{var d,m;return N.from((m=(d=r.dom).caretPositionFromPoint)===null||m===void 0?void 0:m.call(d,c,i)).bind(g=>{if(g.offsetNode===null)return N.none();const b=r.dom.createRange();return b.setStart(g.offsetNode,g.offset),b.collapse(),N.some(b)})},Dp=(r,c,i)=>{var d,m;return N.from((m=(d=r.dom).caretRangeFromPoint)===null||m===void 0?void 0:m.call(d,c,i))},vr=(()=>document.caretPositionFromPoint?cy:document.caretRangeFromPoint?Dp:N.none)(),qm=(r,c,i)=>{const d=le.fromDom(r.document);return vr(d,c,i).map(m=>ls.create(le.fromDom(m.startContainer),m.startOffset,le.fromDom(m.endContainer),m.endOffset))},Tc=(r,c)=>{const i=mt(r);return i==="input"?Dn.after(r):Ut(["br","img"],i)?c===0?Dn.before(r):Dn.after(r):Dn.on(r,c)},qu=(r,c)=>{const i=r.fold(Dn.before,Tc,Dn.after),d=c.fold(Dn.before,Tc,Dn.after);return Rc.relative(i,d)},Op=(r,c,i,d)=>{const m=Tc(r,c),g=Tc(i,d);return Rc.relative(m,g)},Gu=(r,c,i,d)=>{const g=Kc(r).dom.createRange();return g.setStart(r.dom,c),g.setEnd(i.dom,d),g},Gm=(r,c,i,d)=>{const m=Gu(r,c,i,d),g=ct(r,i)&&c===d;return m.collapsed&&!g},Ku=r=>N.from(r.getSelection()),Pp=(r,c)=>{Ku(r).each(i=>{i.removeAllRanges(),i.addRange(c)})},Os=(r,c,i,d,m)=>{const g=Bu(r,c,i,d,m);Pp(r,g)},ly=(r,c,i,d,m,g)=>{c.collapse(i.dom,d),c.extend(m.dom,g)},Bp=(r,c)=>Cc(r,c).match({ltr:(i,d,m,g)=>{Os(r,i,d,m,g)},rtl:(i,d,m,g)=>{Ku(r).each(b=>{if(b.setBaseAndExtent)b.setBaseAndExtent(i.dom,d,m.dom,g);else if(b.extend)try{ly(r,b,i,d,m,g)}catch{Os(r,m,g,i,d)}else Os(r,m,g,i,d)})}}),is=(r,c,i,d,m)=>{const g=Op(c,i,d,m);Bp(r,g)},zt=(r,c,i)=>{const d=qu(c,i);Bp(r,d)},Mp=r=>{if(r.rangeCount>0){const c=r.getRangeAt(0),i=r.getRangeAt(r.rangeCount-1);return N.some(ls.create(le.fromDom(c.startContainer),c.startOffset,le.fromDom(i.endContainer),i.endOffset))}else return N.none()},Km=r=>{if(r.anchorNode===null||r.focusNode===null)return Mp(r);{const c=le.fromDom(r.anchorNode),i=le.fromDom(r.focusNode);return Gm(c,r.anchorOffset,i,r.focusOffset)?N.some(ls.create(c,r.anchorOffset,i,r.focusOffset)):Mp(r)}},Ta=(r,c,i=!0)=>{const m=(i?zC:$l)(r,c);Pp(r,m)},Lp=r=>Ku(r).filter(c=>c.rangeCount>0).bind(Km),Ym=r=>Lp(r).map(c=>Rc.exact(c.start,c.soffset,c.finish,c.foffset)),iy=(r,c)=>{const i=Am(r,c);return UC(i)},uy=(r,c,i)=>qm(r,c,i),$p=r=>{Ku(r).each(c=>c.removeAllRanges())},Yu=r=>({elementFromPoint:(z,me)=>le.fromPoint(le.fromDom(r.document),z,me),getRect:z=>z.dom.getBoundingClientRect(),getRangedRect:(z,me,xe,Ae)=>{const ut=Rc.exact(z,me,xe,Ae);return iy(r,ut)},getSelection:()=>Ym(r).map(z=>lp(r,z)),fromSitus:z=>{const me=Rc.relative(z.start,z.finish);return lp(r,me)},situsFromPoint:(z,me)=>uy(r,z,me).map(xe=>Dm.create(xe.start,xe.soffset,xe.finish,xe.foffset)),clearSelection:()=>{$p(r)},collapseSelection:(z=!1)=>{Ym(r).each(me=>me.fold(xe=>xe.collapse(z),(xe,Ae)=>{const ut=z?xe:Ae;zt(r,ut,ut)},(xe,Ae,ut,Qt)=>{const St=z?xe:ut,Jn=z?Ae:Qt;is(r,St,Jn,St,Jn)}))},setSelection:z=>{is(r,z.start,z.soffset,z.finish,z.foffset)},setRelativeSelection:(z,me)=>{zt(r,z,me)},selectNode:z=>{Ta(r,z,!1)},selectContents:z=>{Ta(r,z)},getInnerHeight:()=>r.innerHeight,getScrollY:()=>Yl(le.fromDom(r.document)).top,scrollBy:(z,me)=>{Um(z,me,le.fromDom(r.document))}}),_c=(r,c)=>({rows:r,cols:c}),dy=(r,c,i,d)=>{const m=Yu(r),g=ry(m,c,i,d);return{clearstate:g.clearstate,mousedown:g.mousedown,mouseover:g.mouseover,mouseup:g.mouseup}},Xm=r=>Fd(r,Oe).exists(rc),Xu=(r,c)=>Xm(r)||Xm(c),Hp=(r,c,i,d)=>{const m=Yu(r),g=()=>(d.clear(c),N.none());return{keydown:(E,_,P,W,ae,re)=>{const Z=E.raw,ce=Z.which,z=Z.shiftKey===!0;return du(c,d.selectedSelector).fold(()=>(Fo(ce)&&!z&&d.clearBeforeUpdate(c),Fo(ce)&&z&&!Xu(_,W)?N.none:kc(ce)&&z?Xe(Rp,m,c,i,Tp,W,_,d.selectRange):Kl(ce)&&z?Xe(Rp,m,c,i,Zm,W,_,d.selectRange):kc(ce)?Xe(jl,m,i,Tp,W,_,sy):Kl(ce)?Xe(jl,m,i,Zm,W,_,Fm):N.none),xe=>{const Ae=ut=>()=>gs(ut,St=>Om(St.rows,St.cols,c,xe,d)).fold(()=>Of(c,d.firstSelectedSelector,d.lastSelectedSelector).map(St=>{const Jn=kc(ce)||re.isForward(ce)?Dn.after:Dn.before;return m.setRelativeSelection(Dn.on(St.first,0),Jn(St.table)),d.clear(c),vo.create(N.none(),!0)}),St=>N.some(vo.create(N.none(),!0)));return Fo(ce)&&z&&!Xu(_,W)?N.none:kc(ce)&&z?Ae([_c(1,0)]):Kl(ce)&&z?Ae([_c(-1,0)]):re.isBackward(ce)&&z?Ae([_c(0,-1),_c(-1,0)]):re.isForward(ce)&&z?Ae([_c(0,1),_c(1,0)]):Fo(ce)&&!z?g:N.none})()},keyup:(E,_,P,W,ae)=>du(c,d.selectedSelector).fold(()=>{const re=E.raw,Z=re.which;return re.shiftKey===!0&&Fo(Z)&&Xu(_,W)?Fl(c,i,_,P,W,ae,d.selectRange):N.none()},N.none)}},Ip=(r,c,i,d)=>{const m=Yu(r);return(g,b)=>{d.clearBeforeUpdate(c),uu(g,b,i).each(w=>{const E=w.boxes.getOr([]);d.selectRange(c,E,w.start,w.finish),m.selectContents(b),m.collapseSelection()})}},Nc=(r,c)=>{const i=Mr(r,c);return i===void 0||i===""?[]:i.split(" ")},Fp=(r,c,i)=>{const m=Nc(r,c).concat([i]);return It(r,c,m.join(" ")),!0},_a=(r,c,i)=>{const d=$t(Nc(r,c),m=>m!==i);return d.length>0?It(r,c,d.join(" ")):Rt(r,c),!1},br=r=>r.dom.classList!==void 0,fy=r=>Nc(r,"class"),my=(r,c)=>Fp(r,"class",c),hy=(r,c)=>_a(r,"class",c),zo=(r,c)=>{br(r)?r.dom.classList.add(c):my(r,c)},zp=r=>{(br(r)?r.dom.classList:fy(r)).length===0&&Rt(r,"class")},gy=(r,c)=>{br(r)?r.dom.classList.remove(c):hy(r,c),zp(r)},Qu=(r,c)=>br(r)&&r.dom.classList.contains(c),py=(r,c)=>{G(c,i=>{gy(r,i)})},vy=r=>c=>{zo(c,r)},Zp=r=>c=>{py(c,r)},Cy={byClass:r=>{const c=vy(r.selected),i=Zp([r.selected,r.lastSelected,r.firstSelected]),d=g=>{const b=ko(g,r.selectedSelector);G(b,i)};return{clearBeforeUpdate:d,clear:d,selectRange:(g,b,w,E)=>{d(g),G(b,c),zo(w,r.firstSelected),zo(E,r.lastSelected)},selectedSelector:r.selectedSelector,firstSelectedSelector:r.firstSelectedSelector,lastSelectedSelector:r.lastSelectedSelector}},byAttr:(r,c,i)=>{const d=E=>{Rt(E,r.selected),Rt(E,r.firstSelected),Rt(E,r.lastSelected)},m=E=>{It(E,r.selected,"1")},g=E=>{b(E),i()},b=E=>{const _=ko(E,`${r.selectedSelector},${r.firstSelectedSelector},${r.lastSelectedSelector}`);G(_,d)};return{clearBeforeUpdate:b,clear:g,selectRange:(E,_,P,W)=>{g(E),G(_,m),It(P,r.firstSelected,"1"),It(W,r.lastSelected,"1"),c(_,P,W)},selectedSelector:r.selectedSelector,firstSelectedSelector:r.firstSelectedSelector,lastSelectedSelector:r.lastSelectedSelector}}},yy=(r,c,i,d)=>{switch(r.tag){case"none":return c();case"single":return d(r.element);case"multiple":return i(r.elements)}},wy=()=>({tag:"none"}),Sy=r=>({tag:"multiple",elements:r}),Ey=r=>({tag:"single",element:r}),ky=(r,c,i)=>({get:()=>fu(r(),i).fold(()=>c().fold(wy,Ey),Sy)}),xy=(r,c)=>{const i=r.slice(0,c[c.length-1].row+1),d=mc(i);return pn(d,m=>{const g=m.cells.slice(0,c[c.length-1].column+1);return Ne(g,b=>b.element)})},Ry=(r,c)=>{const i=r.slice(c[0].row+c[0].rowspan-1,r.length),d=mc(i);return pn(d,m=>{const g=m.cells.slice(c[0].column+c[0].colspan-1,m.cells.length);return Ne(g,b=>b.element)})},Ty=(r,c,i)=>{const d=Me.fromTable(r);return go(d,c).map(g=>{const b=Ts(d,i,!1),{rows:w}=on(b),E=xy(w,g),_=Ry(w,g);return{upOrLeftCells:E,downOrRightCells:_}})},_y=(r,c,i,d,m,g,b)=>({target:r,x:c,y:i,stop:d,prevent:m,kill:g,raw:b}),Vp=r=>{const c=le.fromDom(Ve(r).getOr(r.target)),i=()=>r.stopPropagation(),d=()=>r.preventDefault(),m=bi(d,i);return _y(c,r.clientX,r.clientY,i,d,m,r)},Up=(r,c)=>i=>{r(i)&&c(Vp(i))},Wp=(r,c,i,d,m)=>{const g=Up(i,d);return r.dom.addEventListener(c,g,m),{unbind:Xe(Ny,r,c,g,m)}},jp=(r,c,i,d)=>Wp(r,c,i,d,!1),Ny=(r,c,i,d)=>{r.dom.removeEventListener(c,i,d)},qp=j,Ac=(r,c,i)=>jp(r,c,qp,i),Dc=Vp,Qm=r=>!Qu(le.fromDom(r.target),"ephox-snooker-resizer-bar"),Ay=(r,c)=>{const i=ky(()=>le.fromDom(r.getBody()),()=>Mf(ou(r),ac(r)),ur.selectedSelector),d=(E,_,P)=>{qn(_).each(ae=>{const re=Zh(r),Z=Cf(Se,le.fromDom(r.getDoc()),re),ce=ho(r),z=Ty(ae,{selection:ce},Z);bc(r,E,_,P,z)})},m=()=>nC(r),g=Cy.byAttr(ur,d,m);return r.on("init",E=>{const _=r.getWin(),P=hl(r),W=ac(r),ae=()=>{const je=r.selection,Pn=le.fromDom(je.getStart()),yn=le.fromDom(je.getEnd());Nf(qn,[Pn,yn]).fold(()=>g.clear(P),Se)},re=dy(_,P,W,g),Z=Hp(_,P,W,g),ce=Ip(_,P,W,g),z=je=>je.raw.shiftKey===!0;r.on("TableSelectorChange",je=>ce(je.start,je.finish));const me=(je,Pn)=>{z(je)&&(Pn.kill&&je.kill(),Pn.selection.each(yn=>{const Bs=Rc.relative(yn.start,yn.finish),us=Am(_,Bs);r.selection.setRng(us)}))},xe=je=>{const Pn=Dc(je);if(Pn.raw.shiftKey&&Fo(Pn.raw.which)){const yn=r.selection.getRng(),Bs=le.fromDom(yn.startContainer),us=le.fromDom(yn.endContainer);Z.keyup(Pn,Bs,yn.startOffset,us,yn.endOffset).each(Pa=>{me(Pn,Pa)})}},Ae=je=>{const Pn=Dc(je);c.hide();const yn=r.selection.getRng(),Bs=le.fromDom(yn.startContainer),us=le.fromDom(yn.endContainer),Pa=kh(Vm,_p)(le.fromDom(r.selection.getStart()));Z.keydown(Pn,Bs,yn.startOffset,us,yn.endOffset,Pa).each(Bn=>{me(Pn,Bn)}),c.show()},ut=je=>je.button===0,Qt=je=>je.buttons===void 0?!0:(je.buttons&1)!==0,St=je=>{re.clearstate()},Jn=je=>{ut(je)&&Qm(je)&&re.mousedown(Dc(je))},Pc=je=>{Qt(je)&&Qm(je)&&re.mouseover(Dc(je))},Oa=je=>{ut(je)&&Qm(je)&&re.mouseup(Dc(je))},id=(()=>{const je=zm(le.fromDom(P)),Pn=zm(0);return{touchEnd:Bs=>{const us=le.fromDom(Bs.target);if(Vn("td")(us)||Vn("th")(us)){const Pa=je.get(),Bn=Pn.get();ct(Pa,us)&&Bs.timeStamp-Bn<300&&(Bs.preventDefault(),ce(us,us))}je.set(us),Pn.set(Bs.timeStamp)}}})();r.on("dragstart",St),r.on("mousedown",Jn),r.on("mouseover",Pc),r.on("mouseup",Oa),r.on("touchend",id.touchEnd),r.on("keyup",xe),r.on("keydown",Ae),r.on("NodeChange",ae)}),r.on("PreInit",()=>{r.serializer.addTempAttr(ur.firstSelected),r.serializer.addTempAttr(ur.lastSelected)}),{getSelectedCells:()=>yy(i.get(),V([]),E=>Ne(E,_=>_.dom),E=>[E.dom]),clearSelectedCells:E=>g.clear(le.fromDom(E))}},Ps=r=>{let c=[];return{bind:g=>{if(g===void 0)throw new Error("Event bind error: undefined handler");c.push(g)},unbind:g=>{c=$t(c,b=>b!==g)},trigger:(...g)=>{const b={};G(r,(w,E)=>{b[w]=g[E]}),G(c,w=>{w(b)})}}},Na=r=>{const c=Nd(r,d=>({bind:d.bind,unbind:d.unbind})),i=Nd(r,d=>d.trigger);return{registry:c,trigger:i}},Dy=(r,c)=>{let i=null;const d=()=>{Rr(i)||(clearTimeout(i),i=null)};return{cancel:d,throttle:(...g)=>{d(),i=setTimeout(()=>{i=null,r.apply(null,g)},c)}}},Oc=r=>r.slice(0).sort(),Oy=(r,c)=>{throw new Error("All required keys ("+Oc(r).join(", ")+") were not specified. Specified keys were: "+Oc(c).join(", ")+".")},de=r=>{throw new Error("Unsupported keys for object: "+Oc(r).join(", "))},Aa=(r,c)=>{if(!bt(c))throw new Error("The "+r+" fields must be an array. Was: "+c+".");G(c,i=>{if(!kn(i))throw new Error("The value "+i+" in the "+r+" fields was not a string.")})},Py=(r,c)=>{throw new Error("All values need to be of type: "+c+". Keys ("+Oc(r).join(", ")+") were not.")},Gp=r=>{const c=Oc(r);y(c,(d,m)=>m<c.length-1&&d===c[m+1]).each(d=>{throw new Error("The field: "+d+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},ed=(r,c)=>Jm(r,c,{validate:ks,label:"function"}),Jm=(r,c,i)=>{if(c.length===0)throw new Error("You must specify at least one required field.");return Aa("required",c),Gp(c),d=>{const m=ke(d);hs(c,w=>Ut(m,w))||Oy(c,m),r(c,m);const b=$t(c,w=>!i.validate(d[w],w));return b.length>0&&Py(b,i.label),d}},By=(r,c)=>{const i=$t(c,d=>!Ut(r,d));i.length>0&&de(i)},td=r=>ed(By,r),My=td(["compare","extract","mutate","sink"]),Ly=td(["element","start","stop","destroy"]),Kp=td(["forceDrop","drop","move","delayDrop"]),e1=()=>{let r=N.none();const c=()=>{r=N.none()},i=(g,b)=>{const w=r.map(E=>g.compare(E,b));return r=N.some(b),w},d=(g,b)=>{b.extract(g).each(E=>{i(b,E).each(P=>{m.trigger.move(P)})})},m=Na({move:Ps(["info"])});return{onEvent:d,reset:c,events:m.registry}},Xl=()=>{const r=Na({move:Ps(["info"])});return{onEvent:Se,reset:Se,events:r.registry}},Yp=()=>{const r=Xl(),c=e1();let i=r;return{on:()=>{i.reset(),i=c},off:()=>{i.reset(),i=r},isOn:()=>i===c,onEvent:(w,E)=>{i.onEvent(w,E)},events:c.events}},$y=(r,c,i)=>{let d=!1;const m=Na({start:Ps([]),stop:Ps([])}),g=Yp(),b=()=>{Z.stop(),g.isOn()&&(g.off(),m.trigger.stop())},w=Dy(b,200),E=z=>{Z.start(z),g.on(),m.trigger.start()},_=z=>{w.cancel(),g.onEvent(z,c)};g.events.move.bind(z=>{c.mutate(r,z.info)});const P=()=>{d=!0},W=()=>{d=!1},ae=()=>d,re=z=>(...me)=>{d&&z.apply(null,me)},Z=c.sink(Kp({forceDrop:b,drop:re(b),move:re(_),delayDrop:re(w.throttle)}),i),ce=()=>{Z.destroy()};return{element:Z.element,go:E,on:P,off:W,isActive:ae,destroy:ce,events:m.registry}},Xp=r=>{const c=r.replace(/\./g,"-");return{resolve:d=>c+"-"+d}},Hy=Xp("ephox-dragster").resolve,Qp=r=>{const c={layerClass:Hy("blocker"),...r},i=le.fromTag("div");return It(i,"role","presentation"),_n(i,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),zo(i,Hy("blocker")),zo(i,c.layerClass),{element:V(i),destroy:()=>{Ln(i)}}};var t1=My({compare:(r,c)=>No(c.left-r.left,c.top-r.top),extract:r=>N.some(No(r.x,r.y)),sink:(r,c)=>{const i=Qp(c),d=Ac(i.element(),"mousedown",r.forceDrop),m=Ac(i.element(),"mouseup",r.drop),g=Ac(i.element(),"mousemove",r.move),b=Ac(i.element(),"mouseout",r.delayDrop),w=()=>{i.destroy(),m.unbind(),g.unbind(),b.unbind(),d.unbind()},E=P=>{Tt(P,i.element())},_=()=>{Ln(i.element())};return Ly({element:i.element,start:E,stop:_,destroy:w})},mutate:(r,c)=>{r.mutate(c.left,c.top)}});const Iy=(r,c={})=>{var i;const d=(i=c.mode)!==null&&i!==void 0?i:t1;return $y(r,d,c)},nd=Xp("ephox-snooker").resolve,Fy=()=>{const r=Na({drag:Ps(["xDelta","yDelta"])});return{mutate:(i,d)=>{r.trigger.drag(i,d)},events:r.registry}},zy=()=>{const r=Na({drag:Ps(["xDelta","yDelta","target"])});let c=N.none();const i=Fy();return i.events.drag.bind(g=>{c.each(b=>{r.trigger.drag(g.xDelta,g.yDelta,b)})}),{assign:g=>{c=N.some(g)},get:()=>c,mutate:i.mutate,events:r.registry}},Zo=(r,c,i,d,m)=>{const g=le.fromTag("div");return _n(g,{position:"absolute",left:c-d/2+"px",top:i+"px",height:m+"px",width:d+"px"}),Br(g,{"data-column":r,role:"presentation"}),g},sd=(r,c,i,d,m)=>{const g=le.fromTag("div");return _n(g,{position:"absolute",left:c+"px",top:i-m/2+"px",height:m+"px",width:d+"px"}),Br(g,{"data-row":r,role:"presentation"}),g},n1=nd("resizer-bar"),Jp=nd("resizer-rows"),e0=nd("resizer-cols"),t0=7,Zy=(r,c)=>pn(r.all,(i,d)=>c(i.element)?[d]:[]),Vy=(r,c)=>{const i=[];return Ct(r.grid.columns,d=>{Me.getColumnAt(r,d).map(g=>g.element).forall(c)&&i.push(d)}),$t(i,d=>{const m=Me.filterItems(r,g=>g.column===d);return hs(m,g=>c(g.element))})},s1=r=>{const c=ko(r.parent(),"."+n1);G(c,Ln)},Da=(r,c,i)=>{const d=r.origin();G(c,m=>{m.each(g=>{const b=i(d,g);zo(b,n1),Tt(r.parent(),b)})})},od=(r,c,i,d)=>{Da(r,c,(m,g)=>{const b=Zo(g.col,g.x-m.left,i.top-m.top,t0,d);return zo(b,e0),b})},Uy=(r,c,i,d)=>{Da(r,c,(m,g)=>{const b=sd(g.row,i.left-m.left,g.y-m.top,d,t0);return zo(b,Jp),b})},n0=(r,c,i,d,m)=>{const g=Qa(i),b=c.isResizable,w=d.length>0?vs.positions(d,i):[],E=w.length>0?Zy(r,b):[],_=$t(w,(re,Z)=>oe(E,ce=>Z===ce));Uy(c,_,g,Qd(i));const P=m.length>0?mo.positions(m,i):[],W=P.length>0?Vy(r,b):[],ae=$t(P,(re,Z)=>oe(W,ce=>Z===ce));od(c,ae,g,Qr(i))},o1=(r,c)=>{if(s1(r),r.isResizable(c)){const i=Me.fromTable(c),d=Eh(i),m=nf(i);n0(i,r,c,d,m)}},rd=(r,c)=>{const i=ko(r.parent(),"."+n1);G(i,c)},Wy=r=>{rd(r,c=>{st(c,"display","none")})},jy=r=>{rd(r,c=>{st(c,"display","block")})},s0=r=>Qu(r,Jp),r1=r=>Qu(r,e0),qy=nd("resizer-bar-dragging"),o0=r=>{const c=zy(),i=Iy(c,{});let d=N.none();const m=(Z,ce)=>N.from(Mr(Z,ce));c.events.drag.bind(Z=>{m(Z.target,"data-row").each(ce=>{const z=qt(Z.target,"top");st(Z.target,"top",z+Z.yDelta+"px")}),m(Z.target,"data-column").each(ce=>{const z=qt(Z.target,"left");st(Z.target,"left",z+Z.xDelta+"px")})});const g=(Z,ce)=>{const z=qt(Z,ce),me=Hn(Z,"data-initial-"+ce,0);return z-me};i.events.stop.bind(()=>{c.get().each(Z=>{d.each(ce=>{m(Z,"data-row").each(z=>{const me=g(Z,"top");Rt(Z,"data-initial-top"),re.trigger.adjustHeight(ce,me,parseInt(z,10))}),m(Z,"data-column").each(z=>{const me=g(Z,"left");Rt(Z,"data-initial-left"),re.trigger.adjustWidth(ce,me,parseInt(z,10))}),o1(r,ce)})})});const b=(Z,ce)=>{re.trigger.startAdjust(),c.assign(Z),It(Z,"data-initial-"+ce,qt(Z,ce)),zo(Z,qy),st(Z,"opacity","0.2"),i.go(r.parent())},w=Ac(r.parent(),"mousedown",Z=>{s0(Z.target)&&b(Z.target,"top"),r1(Z.target)&&b(Z.target,"left")}),E=Z=>ct(Z,r.view()),_=Z=>tn(Z,"table",E).filter(rc),P=Ac(r.view(),"mouseover",Z=>{_(Z.target).fold(()=>{io(Z.target)&&s1(r)},ce=>{i.isActive()&&(d=N.some(ce),o1(r,ce))})}),W=()=>{w.unbind(),P.unbind(),i.destroy(),s1(r)},ae=Z=>{o1(r,Z)},re=Na({adjustHeight:Ps(["table","delta","row"]),adjustWidth:Ps(["table","delta","column"]),startAdjust:Ps([])});return{destroy:W,refresh:ae,on:i.on,off:i.off,hideBars:Xe(Wy,r),showBars:Xe(jy,r),events:re.registry}},Gy={create:(r,c,i)=>{const d=vs,m=mo,g=o0(r),b=Na({beforeResize:Ps(["table","type"]),afterResize:Ps(["table","type"]),startDrag:Ps([])});return g.events.adjustHeight.bind(w=>{const E=w.table;b.trigger.beforeResize(E,"row");const _=d.delta(w.delta,E);Eg(E,_,w.row,d),b.trigger.afterResize(E,"row")}),g.events.startAdjust.bind(w=>{b.trigger.startDrag()}),g.events.adjustWidth.bind(w=>{const E=w.table;b.trigger.beforeResize(E,"col");const _=m.delta(w.delta,E),P=i(E);Xf(E,_,w.column,c,P),b.trigger.afterResize(E,"col")}),{on:g.on,off:g.off,refreshBars:g.refresh,hideBars:g.hideBars,showBars:g.showBars,destroy:g.destroy,events:b.registry}}},ad={only:(r,c)=>{const i=Ad(r)?vn(r):r;return{parent:V(i),view:V(r),origin:V(No(0,0)),isResizable:c}},detached:(r,c,i)=>{const d=()=>Qa(c);return{parent:V(c),view:V(r),origin:d,isResizable:i}},body:(r,c,i)=>({parent:V(c),view:V(r),origin:V(No(0,0)),isResizable:i})},r0=()=>{const r=le.fromTag("div");return _n(r,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Tt(F2(),r),r},cd=(r,c)=>r.inline?ad.body(le.fromDom(r.getBody()),r0(),c):ad.only(le.fromDom(r.getDoc()),c),ld=(r,c)=>{r.inline&&Ln(c.parent())},Ql=r=>Jo(r)&&r.nodeName==="TABLE",Vo="bar-",iS=r=>Mr(r,"data-mce-resize")!=="false",Yy=r=>{const c=Me.fromTable(r);Me.hasColumns(c)||G(Ur(r),i=>{const d=Vr(i,"width");st(i,"width",d),Rt(i,"width")})},Xy=r=>{const c=ql(),i=ql(),d=ql();let m,g;const b=Z=>Wg(r,Z),w=()=>Ef(r)?If():Hf(),E=Z=>pu(Z).columns,_=(Z,ce,z)=>{const me=Jc(ce,"e");if(g===""&&Ll(Z),z!==m&&g!==""){st(Z,"width",g);const xe=w(),Ae=b(Z),ut=Ef(r)||me?E(Z)-1:0;Xf(Z,z-m,ut,xe,Ae)}else if(Rf(g)){const xe=parseFloat(g.replace("%","")),Ae=z*xe/m;st(Z,"width",Ae+"%")}au(g)&&Yy(Z)},P=()=>{i.on(Z=>{Z.destroy()}),d.on(Z=>{ld(r,Z)})};return r.on("init",()=>{const Z=cd(r,iS);if(d.set(Z),Dv(r)&&Ov(r)){const ce=w(),z=Gy.create(Z,ce,b);z.on(),z.events.startDrag.bind(me=>{c.set(r.selection.getRng())}),z.events.beforeResize.bind(me=>{const xe=me.table.dom;mm(r,xe,ru(xe),Wh(xe),Vo+me.type)}),z.events.afterResize.bind(me=>{const xe=me.table,Ae=xe.dom;oa(xe),c.on(ut=>{r.selection.setRng(ut),r.focus()}),sC(r,Ae,ru(Ae),Wh(Ae),Vo+me.type),r.undoManager.add()}),i.set(z)}}),r.on("ObjectResizeStart",Z=>{const ce=Z.target;if(Ql(ce)){const z=le.fromDom(ce);G(r.dom.select(".mce-clonedresizable"),me=>{r.dom.addClass(me,"mce-"+Sf(r)+"-columns")}),!Jg(z)&&Mo(r)?gm(z):!Ml(z)&&nu(r)&&Ll(z),ep(z)&&Ud(Z.origin,Vo)&&Ll(z),m=Z.width,g=fl(r)?"":Mv(r,ce).getOr("")}}),r.on("ObjectResized",Z=>{const ce=Z.target;if(Ql(ce)){const z=le.fromDom(ce),me=Z.origin;Ud(me,"corner-")&&_(z,me,Z.width),oa(z),va(r,z.dom,hr)}}),r.on("SwitchMode",()=>{i.on(Z=>{r.mode.isReadOnly()?Z.hideBars():Z.showBars()})}),r.on("dragstart dragend",Z=>{i.on(ce=>{Z.type==="dragstart"?(ce.hideBars(),ce.off()):(ce.on(),ce.showBars())})}),r.on("remove",()=>{P()}),{refresh:Z=>{i.on(ce=>ce.refreshBars(le.fromDom(Z)))},hide:()=>{i.on(Z=>Z.hideBars())},show:()=>{i.on(Z=>Z.showBars())}}},a0=r=>{sa(r);const c=Xy(r),i=Ay(r,c),d=rC(r,c,i);return MC(r,d),Ca(r,d),eb(r,d),{getSelectedCells:i.getSelectedCells,clearSelectedCells:i.clearSelectedCells}},c0=r=>({table:a0(r)});var Qy=()=>{ye.add("dom",c0)};Qy()})();export{gW as E,hW as t};
